const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/three-vendor-BMDtE1KG.js","assets/js/react-vendor-ClEFeRSO.js","assets/js/chart-vendor-DXktVALM.js","assets/js/mui-vendor-C1i-sMyb.js"])))=>i.map(i=>d[i]);
import{d as e,J as t,j as r,u as i,K as s,m as n,s as o,M as a,N as l,O as c,Q as d,R as u,U as h,V as p,W as m,X as x,Y as g,c as f,T as y,$ as b,a0 as v,B as w,S as I,C as k,a1 as A,a2 as j,a3 as C,a4 as S,o as P,t as M,a5 as E,l as R,h as N,k as F,f as z}from"./mui-vendor-C1i-sMyb.js";import{a as T,b as _,c as O,u as D}from"./react-vendor-ClEFeRSO.js";import{o as L,t as $,s as B,l as H,u as W,b as G,c as V,p as U,d as q,e as K,f as X,g as Y,h as Q,i as J,j as Z,k as ee,n as te,q as re,v as ie,w as se,x as ne,y as oe,z as ae,A as le,B as ce,C as de,D as ue,E as he,F as pe,G as me,H as xe,I as ge,J as fe,K as ye,L as be,M as ve,N as we,O as Ie,S as ke,P as Ae}from"./chart-vendor-DXktVALM.js";import{V as je,C as Ce,a as Se,S as Pe,d as Me,b as Ee,c as Re,e as Ne,P as Fe,I as ze}from"./cesium-vendor-CfPU8cLI.js";import{_ as Te}from"./index-Bc1pOM-h.js";import{B as _e,S as Oe,G as De,M as Le,c as $e}from"./three-vendor-BMDtE1KG.js";import{n as Be}from"./vis-network-yobzVv1I.js";import{D as He}from"./vis-vendor-fIGJlaaL.js";import{N as We}from"./vis-network-CqERLR1V.js";function Ge(e){return e.values?L(e.values,e.colors).unknown(e.unknownColor??null):L(e.colors.map((e,t)=>t),e.colors).unknown(e.unknownColor??null)}function Ve(e){return"ordinal"===e.type?Ge(e):function(e){return"piecewise"===e.type?$(e.thresholds,e.colors):B([e.min??0,e.max??100],e.color)}(e)}function Ue(e){return void 0!==e.bandwidth}function qe(e){return"number"==typeof e&&!Number.isFinite(e)}const Ke={start:0,extremities:0,end:1,middle:.5};function Xe(e){const{scale:t,tickNumber:r,valueFormatter:i,tickInterval:s,tickPlacement:n="extremities",tickLabelPlacement:o="middle"}=e;return T.useMemo(()=>{if(Ue(t)){const e=t.domain();return t.bandwidth()>0?[...("function"==typeof s&&e.filter(s)||"object"==typeof s&&s||e).map(e=>({value:e,formattedValue:i?.(e,{location:"tick"})??`${e}`,offset:t(e)-(t.step()-t.bandwidth())/2+Ke[n]*t.step(),labelOffset:"tick"===o?0:t.step()*(Ke[o]-Ke[n])})),..."extremities"===n?[{formattedValue:void 0,offset:t.range()[1],labelOffset:0}]:[]]:("function"==typeof s&&e.filter(s)||"object"==typeof s&&s||e).map(e=>({value:e,formattedValue:i?.(e,{location:"tick"})??`${e}`,offset:t(e),labelOffset:0}))}return t.domain().some(qe)?[]:("object"==typeof s?s:t.ticks(r)).map(e=>({value:e,formattedValue:i?.(e,{location:"tick"})??t.tickFormat(r)(e),offset:t(e),labelOffset:0}))},[t,s,r,i,n,o])}const Ye=(e,t)=>{const r=e[1]-e[0],i=t[1]-t[0];return[e[0]-t[0]*r/i,e[1]+(100-t[1])*r/i]},Qe=e=>e?.[0]instanceof Date;function Je(e,t){const r=G(e.data,t);return(t,{location:i})=>"tick"===i?r.tickFormat(e.tickNumber)(t):`${t.toLocaleString()}`}function Ze({drawingArea:t,formattedSeries:r,axis:i,extremumGetters:s,axisDirection:n,zoomData:o,zoomOptions:a,getFilters:l}){const c={};return i.forEach((i,d)=>{const u=i,h=a?.[u.id],p=o?.find(({axisId:e})=>e===u.id),m=p?[p.start,p.end]:[0,100],x=function(e,t,r){if("rotation"===t){const{startAngle:e=0,endAngle:t=e+360}=r;return r.reverse?[Math.PI*e/180,Math.PI*t/180]:[Math.PI*t/180,Math.PI*e/180]}if("radius"===t){const{minRadius:t=0,maxRadius:i=Math.min(e.width,e.height)/2}=r;return[t,i]}const i="x"===t?[e.left,e.left+e.width]:[e.top+e.height,e.top];return r.reverse?[i[1],i[0]]:i}(t,n,u),[g,f]=((e,t,r,i,s)=>{const n=Object.keys(t).reduce((n,o)=>((e,t,r,i,s,n,o)=>{const a=i[t],l=n[t]?.series??{},[c,d]=a?.({series:l,axis:r,axisIndex:s,isDefaultAxis:0===s,getFilters:o})??[1/0,-1/0],[u,h]=e;return[Math.min(c,u),Math.max(d,h)]})(n,o,e,t,r,i,s),[1/0,-1/0]);return Number.isNaN(n[0])||Number.isNaN(n[1])?[1/0,-1/0]:n})(u,s,d,r,void 0!==p||h?void 0:l),y=u.data??[];if("band"===u.scaleType){const t=u.categoryGapRatio??.2,r=u.barGapRatio??.1,i="y"===n?[x[1],x[0]]:x,s=Ye(i,m);if(c[u.id]=e({categoryGapRatio:t,barGapRatio:r},u,{data:y,scale:K(u.data,s).paddingInner(t).paddingOuter(t/2),tickNumber:u.data.length,colorScale:u.colorMap&&("ordinal"===u.colorMap.type?Ge(e({values:u.data},u.colorMap)):Ve(u.colorMap))}),Qe(u.data)){const e=Je(u,i);c[u.id].valueFormatter=u.valueFormatter??e}}if("point"===u.scaleType){const t="y"===n?[...x].reverse():x,r=Ye(t,m);if(c[u.id]=e({},u,{data:y,scale:X(u.data,r),tickNumber:u.data.length,colorScale:u.colorMap&&("ordinal"===u.colorMap.type?Ge(e({values:u.data},u.colorMap)):Ve(u.colorMap))}),Qe(u.data)){const e=Je(u,t);c[u.id].valueFormatter=u.valueFormatter??e}}if("band"===u.scaleType||"point"===u.scaleType)return;const b=u.scaleType??"linear",v=u.domainLimit??"nice",w=[u.min??g,u.max??f];if("function"==typeof v){const{min:e,max:t}=v(g,f);w[0]=e,w[1]=t}const I=function(e){const{tickMaxStep:t,tickMinStep:r,tickNumber:i,range:s,domain:n}=e,o=void 0===r?999:Math.floor(Math.abs(n[1]-n[0])/r),a=void 0===t?2:Math.ceil(Math.abs(n[1]-n[0])/t),l=i??Math.floor(Math.abs(s[1]-s[0])/50);return Math.min(o,Math.max(a,l))}(e({},u,{range:x,domain:w})),k=I/((m[1]-m[0])/100),A=function(e,t,r){switch(e){case"log":return q(t,r);case"pow":return U(t,r);case"sqrt":return V(t,r);case"time":return G(t,r);case"utc":return W(t,r);default:return H(t,r)}}(b,w,Ye(x,m)),j="nice"===v?A.nice(I):A,[C,S]=j.domain(),P=[u.min??C,u.max??S];c[u.id]=e({},u,{data:y,scaleType:b,scale:j.domain(P),tickNumber:k,colorScale:u.colorMap&&Ve(u.colorMap)})}),{axis:c,axisIds:i.map(({id:e})=>e)}}const et="DEFAULT_X_AXIS_KEY",tt={top:50,bottom:50,left:50,right:50},rt=T.createContext({top:0,left:0,bottom:0,right:0,height:300,width:400,chartId:"",isPointInside:()=>!1}),it=T.createContext({isInitialized:!1,data:{current:null}});function st(i){const{width:s,height:n,margin:o,svgRef:a,children:l}=i,c=((t,r,i)=>{const s=e({},tt,i);return T.useMemo(()=>({left:s.left,top:s.top,right:s.right,bottom:s.bottom,width:Math.max(0,t-s.left-s.right),height:Math.max(0,r-s.top-s.bottom)}),[t,r,s.top,s.bottom,s.left,s.right])})(s,n,o),d=t(),u=T.useCallback(({x:e,y:t},r)=>{if(r?.targetElement&&r?.targetElement.closest("[data-drawing-container]"))return!0;const i=e>=c.left-1&&e<=c.left+c.width,s=t>=c.top-1&&t<=c.top+c.height;return"x"===r?.direction?i:("y"===r?.direction||i)&&s},[c]),h=T.useMemo(()=>e({chartId:d??""},c,{isPointInside:u}),[d,c,u]),p=T.useMemo(()=>({isInitialized:!0,data:a}),[a]);return r.jsx(it.Provider,{value:p,children:r.jsx(rt.Provider,{value:h,children:l})})}function nt(){const{left:e,top:t,width:r,height:i,bottom:s,right:n,isPointInside:o}=T.useContext(rt);return T.useMemo(()=>({left:e,top:t,width:r,height:i,bottom:s,right:n,isPointInside:o}),[i,e,t,r,s,n,o])}const ot=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],at=({series:t,colors:r,seriesFormatters:i,dataset:s})=>{const n={};t.forEach((t,i)=>{const{id:s=`auto-generated-id-${i}`,type:o}=t;if(void 0===n[o]&&(n[o]={series:{},seriesOrder:[]}),void 0!==n[o]?.series[s])throw new Error(`MUI X: series' id "${s}" is not unique.`);n[o].series[s]=e({id:s},function(t,r,i=ot){return"pie"===t.type?e({},t,{data:t.data.map((t,r)=>e({color:i[r%i.length]},t))}):e({color:i[r%i.length]},t)}(t,i,r)),n[o].seriesOrder.push(s)});const o={};return Object.keys(i).forEach(e=>{const t=n[e];void 0!==t&&(o[e]=i[e]?.(t,s)??n[e])}),o},lt=["#02B2AF","#2E96FF","#B800D8","#60009B","#2731C8","#03008D"],ct=["#02B2AF","#72CCFF","#DA00FF","#9001CB","#2E96FF","#3B48E0"],dt=e=>"dark"===e?ct:lt,ut=T.createContext({isInitialized:!1,data:{}}),ht=T.createContext({isInitialized:!1,data:{colorProcessors:{},seriesFormatters:{},xExtremumGetters:{},yExtremumGetters:{},rotationExtremumGetters:{},radiusExtremumGetters:{}}}),pt=(e,t)=>"x"===t?{x:e,y:null}:{x:null,y:e},mt=e=>{const{axis:t,getFilters:r,isDefaultAxis:i}=e,s=r?.({currentAxisId:t.id,isDefaultAxis:i}),n=s?t.data?.filter((e,t)=>s({x:null,y:null},t)):t.data;return[Math.min(...n??[]),Math.max(...n??[])]},xt=e=>t=>{const{series:r,axis:i,getFilters:s,isDefaultAxis:n}=t;return Object.keys(r).filter(e=>{const t=r[e].yAxisId??r[e].yAxisKey;return t===i.id||n&&void 0===t}).reduce((t,o)=>{const{stackedData:a}=r[o],l=s?.({currentAxisId:i.id,isDefaultAxis:n,seriesXAxisId:r[o].xAxisId??r[o].xAxisKey,seriesYAxisId:r[o].yAxisId??r[o].yAxisKey}),[c,d]=a?.reduce((t,r,i)=>!l||l(pt(r[0],e),i)&&l(pt(r[1],e),i)?[Math.min(...r,t[0]),Math.max(...r,t[1])]:t,[1/0,-1/0])??[1/0,-1/0];return[Math.min(c,t[0]),Math.max(d,t[1])]},[1/0,-1/0])},gt={appearance:oe,ascending:ne,descending:se,insideOut:ie,none:Q,reverse:re},ft={expand:te,diverging:ee,none:Y,silhouette:Z,wiggle:J},yt=e=>{const{series:t,seriesOrder:r,defaultStrategy:i}=e,s=[],n={};return r.forEach(e=>{const{stack:r,stackOrder:o,stackOffset:a}=t[e];void 0===r?s.push({ids:[e],stackingOrder:gt.none,stackingOffset:ft.none}):void 0===n[r]?(n[r]=s.length,s.push({ids:[e],stackingOrder:gt[o??i?.stackOrder??"none"],stackingOffset:ft[a??i?.stackOffset??"diverging"]})):(s[n[r]].ids.push(e),void 0!==o&&(s[n[r]].stackingOrder=gt[o]),void 0!==a&&(s[n[r]].stackingOffset=ft[a]))}),s};function bt(t,r){const i={};return Object.keys(t).forEach(s=>{i[s]=e({},t[s],{valueFormatter:t[s].valueFormatter??r})}),i}const vt={seriesType:"bar",seriesFormatter:(t,r)=>{const{seriesOrder:i,series:s}=t,n=yt(t),o=r??[];i.forEach(e=>{const t=s[e].data;if(void 0!==t)t.forEach((t,r)=>{o.length<=r?o.push({[e]:t}):o[r][e]=t});else if(void 0===r)throw new Error([`MUI X: bar series with id='${e}' has no data.`,"Either provide a data property to the series or use the dataset prop."].join("\n"))});const a={};return n.forEach(t=>{const{ids:i,stackingOffset:n,stackingOrder:l}=t,c=ae().keys(i.map(e=>{const t=s[e].dataKey;return void 0===s[e].data&&void 0!==t?t:e})).value((e,t)=>e[t]??0).order(l).offset(n)(o);i.forEach((t,i)=>{const n=s[t].dataKey;a[t]=e({layout:"vertical"},s[t],{data:n?r.map(e=>{const t=e[n];return"number"!=typeof t?0:t}):s[t].data,stackedData:c[i].map(([e,t])=>[e,t])})})}),{seriesOrder:i,stackingGroups:n,series:bt(a,e=>null==e?"":e.toLocaleString())}},colorProcessor:(e,t,r)=>{const i="vertical"===e.layout,s=i?t?.colorScale:r?.colorScale,n=i?r?.colorScale:t?.colorScale,o=i?t?.data:r?.data;return n?t=>{const r=e.data[t],i=null===r?e.color:n(r);return null===i?e.color:i}:s&&o?t=>{const r=o[t],i=null===r?e.color:s(r);return null===i?e.color:i}:()=>e.color},xExtremumGetter:e=>Object.keys(e.series).some(t=>"horizontal"===e.series[t].layout)?xt("x")(e):mt(e),yExtremumGetter:e=>Object.keys(e.series).some(t=>"horizontal"===e.series[t].layout)?mt(e):xt("y")(e)},wt=(e,t)=>[null===t[0]?e[0]:Math.min(e[0],t[0]),null===t[1]?e[1]:Math.max(e[1],t[1])],It={seriesType:"scatter",seriesFormatter:({series:t,seriesOrder:r},i)=>{const s=Object.fromEntries(Object.entries(t).map(([t,r])=>{const s=r?.datasetKeys,n=["x","y","id"].filter(e=>"string"!=typeof s?.[e]);if(r?.datasetKeys&&n.length>0)throw new Error([`MUI X: scatter series with id='${t}' has incomplete datasetKeys.`,`Properties ${n.map(e=>`"${e}"`).join(", ")} are missing.`].join("\n"));const o=s?i?.map(e=>({x:e[s.x]??null,y:e[s.y]??null,z:s.z&&e[s.z],id:e[s.id]}))??[]:r.data??[];return[t,e({},r,{data:o,valueFormatter:r.valueFormatter??(e=>`(${e.x}, ${e.y})`)})]}));return{series:s,seriesOrder:r}},colorProcessor:(e,t,r,i)=>{const s=i?.colorScale,n=r?.colorScale,o=t?.colorScale;return s?t=>{if(void 0!==i?.data?.[t]){const e=s(i?.data?.[t]);if(null!==e)return e}const r=e.data[t],n=null===r?e.color:s(r.z);return null===n?e.color:n}:n?t=>{const r=e.data[t],i=null===r?e.color:n(r.y);return null===i?e.color:i}:o?t=>{const r=e.data[t],i=null===r?e.color:o(r.x);return null===i?e.color:i}:()=>e.color},xExtremumGetter:e=>{const{series:t,axis:r,isDefaultAxis:i,getFilters:s}=e;return Object.keys(t).filter(e=>{const s=t[e].xAxisId??t[e].xAxisKey;return s===r.id||void 0===s&&i}).reduce((e,n)=>{const o=s?.({currentAxisId:r.id,isDefaultAxis:i,seriesXAxisId:t[n].xAxisId??t[n].xAxisKey,seriesYAxisId:t[n].yAxisId??t[n].yAxisKey}),a=t[n].data?.reduce((e,t,r)=>o&&!o(t,r)?e:wt(e,[t.x,t.x]),[1/0,-1/0]);return wt(e,a??[1/0,-1/0])},[1/0,-1/0])},yExtremumGetter:e=>{const{series:t,axis:r,isDefaultAxis:i,getFilters:s}=e;return Object.keys(t).filter(e=>{const s=t[e].yAxisId??t[e].yAxisKey;return s===r.id||void 0===s&&i}).reduce((e,n)=>{const o=s?.({currentAxisId:r.id,isDefaultAxis:i,seriesXAxisId:t[n].xAxisId??t[n].xAxisKey,seriesYAxisId:t[n].yAxisId??t[n].yAxisKey}),a=t[n].data?.reduce((e,t,r)=>o&&!o(t,r)?e:wt(e,[t.y,t.y]),[1/0,-1/0]);return wt(e,a??[1/0,-1/0])},[1/0,-1/0])}},kt=(e,t,r)=>{const i=r?.colorScale,s=t?.colorScale;return i?t=>{const r=e.data[t],s=null===r?e.color:i(r);return null===s?e.color:s}:s?r=>{const i=t.data?.[r],n=null===i?e.color:s(i);return null===n?e.color:n}:()=>e.color},At={seriesType:"line",colorProcessor:kt,seriesFormatter:(t,r)=>{const{seriesOrder:i,series:s}=t,n=yt(e({},t,{defaultStrategy:{stackOffset:"none"}})),o=r??[];i.forEach(e=>{const t=s[e].data;void 0!==t&&t.forEach((t,r)=>{o.length<=r?o.push({[e]:t}):o[r][e]=t})});const a={};return n.forEach(t=>{const{ids:i,stackingOrder:n,stackingOffset:l}=t,c=ae().keys(i.map(e=>{const t=s[e].dataKey;return void 0===s[e].data&&void 0!==t?t:e})).value((e,t)=>e[t]??0).order(n).offset(l)(o);i.forEach((t,i)=>{const n=s[t].dataKey;a[t]=e({},s[t],{data:n?r.map(e=>{const t=e[n];return"number"!=typeof t?null:t}):s[t].data,stackedData:c[i].map(([e,t])=>[e,t])})})}),{seriesOrder:i,stackingGroups:n,series:bt(a,e=>null==e?"":e.toLocaleString())}},xExtremumGetter:e=>{const{axis:t}=e;return[Math.min(...t.data??[]),Math.max(...t.data??[])]},yExtremumGetter:e=>{const{series:t,axis:r,isDefaultAxis:i,getFilters:s}=e;return Object.keys(t).filter(e=>{const s=t[e].yAxisId??t[e].yAxisKey;return s===r.id||i&&void 0===s}).reduce((e,n)=>{const{area:o,stackedData:a}=t[n],l=void 0!==o,c=s?.({currentAxisId:r.id,isDefaultAxis:i,seriesXAxisId:t[n].xAxisId??t[n].xAxisKey,seriesYAxisId:t[n].yAxisId??t[n].yAxisKey}),d=function(e,t,r){return t.reduce((t,i,s)=>{const[n,o]=e(i);return!r||r({y:n,x:null},s)&&r({y:o,x:null},s)?[Math.min(n,o,t[0]),Math.max(n,o,t[1])]:t},[1/0,-1/0])}(l&&"log"!==r.scaleType&&"string"!=typeof t[n].baseline?e=>e:e=>[e[1],e[1]],a,c),[u,h]=d;return[Math.min(u,e[0]),Math.max(h,e[1])]},[1/0,-1/0])}};function jt(e,t){return"function"==typeof e?e(t):e}const Ct=[vt,It,At,{seriesType:"pie",colorProcessor:e=>t=>e.data[t].color,seriesFormatter:t=>{const{seriesOrder:r,series:i}=t,s={};return r.forEach(t=>{const r=le().startAngle(2*Math.PI*(i[t].startAngle??0)/360).endAngle(2*Math.PI*(i[t].endAngle??360)/360).padAngle(2*Math.PI*(i[t].paddingAngle??0)/360).sortValues(((e="none")=>{if("function"==typeof e)return e;switch(e){case"none":default:return null;case"desc":return(e,t)=>t-e;case"asc":return(e,t)=>e-t}})(i[t].sortingValues??"none"))(i[t].data.map(e=>e.value));s[t]=e({valueFormatter:e=>e.value.toLocaleString()},i[t],{data:i[t].data.map((i,s)=>e({},i,{id:i.id??`auto-generated-pie-id-${t}-${s}`},r[s])).map((r,s)=>e({},r,{formattedValue:i[t].valueFormatter?.(e({},r,{label:jt(r.label,"arc")}),{dataIndex:s})??r.value.toLocaleString()}))})}),{seriesOrder:r,series:s}}}];function St(e){const t=e??Ct,r={},i={},s={},n={},o={},a={};for(let l=0;l<t.length;l+=1){const e=t[l],c=e.seriesType;r[c]=e.seriesFormatter,i[c]=e.colorProcessor,e.xExtremumGetter&&(s[c]=e.xExtremumGetter),e.yExtremumGetter&&(n[c]=e.yExtremumGetter),e.rotationExtremumGetter&&(o[c]=e.rotationExtremumGetter),e.radiusExtremumGetter&&(a[c]=e.radiusExtremumGetter)}return{seriesFormatters:r,colorProcessors:i,xExtremumGetters:s,yExtremumGetters:n,rotationExtremumGetters:o,radiusExtremumGetters:a}}function Pt(e){const{children:t,plugins:i}=e,s=T.useMemo(()=>({isInitialized:!0,data:St(i)}),[i]);return r.jsx(ht.Provider,{value:s,children:t})}function Mt(e){const{isInitialized:t,data:r}=T.useContext(ht);if(!t)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join("\n"));return r.colorProcessors}function Et(e){const{series:t,dataset:s,colors:n=dt,children:o}=e,a=function(){const{isInitialized:e,data:t}=T.useContext(ht);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join("\n"));return t.seriesFormatters}(),l=i(),c=T.useMemo(()=>({isInitialized:!0,data:at({series:t,colors:"function"==typeof n?n(l.palette.mode):n,seriesFormatters:a,dataset:s})}),[t,n,l.palette.mode,a,s]);return r.jsx(ut.Provider,{value:c,children:o})}function Rt(){const{isInitialized:e,data:t}=T.useContext(ut);if(!e)throw new Error(["MUI X: Could not find the series ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join("\n"));return t}function Nt(){const e=Rt();return T.useMemo(()=>e.line,[e.line])}const Ft=T.createContext({isInitialized:!1,data:{xAxis:{},yAxis:{},xAxisIds:[],yAxisIds:[]}});function zt(e){const{xAxis:t,yAxis:i,children:s}=e,n=Rt(),o=nt(),a=function(){const{isInitialized:e,data:t}=T.useContext(ht);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join("\n"));return t.xExtremumGetters}(),l=function(){const{isInitialized:e,data:t}=T.useContext(ht);if(!e)throw new Error(["MUI X: Could not find the plugin context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join("\n"));return t.yExtremumGetters}(),c=T.useMemo(()=>Ze({drawingArea:o,formattedSeries:n,axis:t,extremumGetters:a,axisDirection:"x"}),[o,n,t,a]),d=T.useMemo(()=>Ze({drawingArea:o,formattedSeries:n,axis:i,extremumGetters:l,axisDirection:"y"}),[o,n,i,l]),u=T.useMemo(()=>({isInitialized:!0,data:{xAxis:c.axis,yAxis:d.axis,xAxisIds:c.axisIds,yAxisIds:d.axisIds}}),[c,d]);return r.jsx(Ft.Provider,{value:u,children:s})}const Tt=()=>{const{data:e}=T.useContext(Ft);return e},_t=T.createContext({item:null,axis:{x:null,y:null},useVoronoiInteraction:!1,dispatch:()=>null}),Ot=(t,r)=>{switch(r.type){case"enterItem":return e({},t,{item:r.data});case"exitChart":return null===t.item&&null===t.axis.x&&null===t.axis.y?t:e({},t,{axis:{x:null,y:null},item:null});case"updateVoronoiUsage":return e({},t,{useVoronoiInteraction:r.useVoronoiInteraction});case"leaveItem":return null===t.item||Object.keys(r.data).some(e=>r.data[e]!==t.item[e])?t:e({},t,{item:null});case"updateAxis":return r.data.x===t.axis.x&&r.data.y===t.axis.y?t:e({},t,{axis:r.data});default:return t}};function Dt(t){const{children:i}=t,[s,n]=T.useReducer(Ot,{item:null,axis:{x:null,y:null},useVoronoiInteraction:!1}),o=T.useMemo(()=>e({},s,{dispatch:n}),[s]);return r.jsx(_t.Provider,{value:o,children:i})}const Lt=T.createContext({isInitialized:!1,data:{highlightedItem:null,setHighlighted:()=>{},clearHighlighted:()=>{},isHighlighted:()=>!1,isFaded:()=>!1}}),$t=(e,t)=>r=>!!e&&("series"===e.fade?r.seriesId===t?.seriesId&&r.dataIndex!==t?.dataIndex:"global"===e.fade&&(r.seriesId!==t?.seriesId||r.dataIndex!==t?.dataIndex)),Bt=(e,t)=>r=>!!e&&("series"===e.highlight||"item"===e.highlight&&r.dataIndex===t?.dataIndex)&&r.seriesId===t?.seriesId,Ht=["highlighted","faded"];function Wt({children:t,highlightedItem:i,onHighlightChange:o}){const[a,l]=s({controlled:i,default:null,name:"HighlightedProvider",state:"highlightedItem"}),c=Rt(),d=T.useMemo(()=>{const t=new Map;return Object.keys(c).forEach(r=>{const i=c[r];Object.keys(i?.series??{}).forEach(r=>{const s=i?.series[r];t.set(r,(t=>{const r=t??{},{highlighted:i,faded:s}=r,o=n(r,Ht);return e({highlight:i,fade:s},o)})(s?.highlightScope))})}),t},[c]),u=a&&a.seriesId?d.get(a.seriesId)??void 0:void 0,h=T.useMemo(()=>({isInitialized:!0,data:{highlightScope:u,highlightedItem:a,setHighlighted:e=>{l(e),o?.(e)},clearHighlighted:()=>{l(null),o?.(null)},isHighlighted:Bt(u,a),isFaded:$t(u,a)}}),[a,u,l,o]);return r.jsx(Lt.Provider,{value:h,children:t})}function Gt(){const{isInitialized:e,data:t}=T.useContext(Lt);if(!e)throw new Error(["MUI X: Could not find the highlighted ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join("\n"));return t}function Vt(e){const t=Gt();if(!e)return{isHighlighted:!1,isFaded:!1};const r=t.isHighlighted(e);return{isHighlighted:r,isFaded:!r&&t.isFaded(e)}}const Ut=T.createContext({zAxis:{},zAxisIds:[]});function qt(t){const{zAxis:i,dataset:s,children:n}=t,o=T.useMemo(()=>i?.map(t=>{const r=t.dataKey;if(void 0===r||void 0!==t.data)return t;if(void 0===s)throw new Error("MUI X: z-axis uses `dataKey` but no `dataset` is provided.");return e({},t,{data:s.map(e=>e[r])})}),[i,s]),a=T.useMemo(()=>{const t=o?.map((t,r)=>e({id:`defaultized-z-axis-${r}`},t))??[],r={};return t.forEach(t=>{r[t.id]=e({},t,{colorScale:t.colorMap&&("ordinal"===t.colorMap.type&&t.data?Ge(e({values:t.data},t.colorMap)):Ve("continuous"===t.colorMap.type?e({min:t.min,max:t.max},t.colorMap):t.colorMap))})}),{zAxis:r,zAxisIds:t.map(({id:e})=>e)}},[o]);return r.jsx(Ut.Provider,{value:a,children:n})}const Kt=e=>{const{dispatch:t}=T.useContext(_t),{setHighlighted:r,clearHighlighted:i}=Gt();return e=>({onPointerEnter:()=>{t({type:"enterItem",data:e}),r({seriesId:e.seriesId,dataIndex:e.dataIndex})},onPointerLeave:r=>{r.currentTarget.hasPointerCapture(r.pointerId)&&r.currentTarget.releasePointerCapture(r.pointerId),t({type:"leaveItem",data:e}),i()},onPointerDown:e=>{e.currentTarget.hasPointerCapture(e.pointerId)&&e.currentTarget.releasePointerCapture(e.pointerId)}})};var Xt=ur(),Yt=e=>ar(e,Xt),Qt=ur();Yt.write=e=>ar(e,Qt);var Jt=ur();Yt.onStart=e=>ar(e,Jt);var Zt=ur();Yt.onFrame=e=>ar(e,Zt);var er=ur();Yt.onFinish=e=>ar(e,er);var tr=[];Yt.setTimeout=(e,t)=>{const r=Yt.now()+t,i=()=>{const e=tr.findIndex(e=>e.cancel==i);~e&&tr.splice(e,1),nr-=~e?1:0},s={time:r,handler:e,cancel:i};return tr.splice(rr(r),0,s),nr+=1,lr(),s};var rr=e=>~(~tr.findIndex(t=>t.time>e)||~tr.length);Yt.cancel=e=>{Jt.delete(e),Zt.delete(e),er.delete(e),Xt.delete(e),Qt.delete(e)},Yt.sync=e=>{or=!0,Yt.batchedUpdates(e),or=!1},Yt.throttle=e=>{let t;function r(){try{e(...t)}finally{t=null}}function i(...e){t=e,Yt.onStart(r)}return i.handler=e,i.cancel=()=>{Jt.delete(r),t=null},i};var ir="undefined"!=typeof window?window.requestAnimationFrame:()=>{};Yt.use=e=>ir=e,Yt.now="undefined"!=typeof performance?()=>performance.now():Date.now,Yt.batchedUpdates=e=>e(),Yt.catch=console.error,Yt.frameLoop="always",Yt.advance=()=>{"demand"!==Yt.frameLoop||dr()};var sr=-1,nr=0,or=!1;function ar(e,t){or?(t.delete(e),e(0)):(t.add(e),lr())}function lr(){sr<0&&(sr=0,"demand"!==Yt.frameLoop&&ir(cr))}function cr(){~sr&&(ir(cr),Yt.batchedUpdates(dr))}function dr(){const e=sr;sr=Yt.now();const t=rr(sr);t&&(hr(tr.splice(0,t),e=>e.handler()),nr-=t),nr?(Jt.flush(),Xt.flush(e?Math.min(64,sr-e):16.667),Zt.flush(),Qt.flush(),er.flush()):sr=-1}function ur(){let e=new Set,t=e;return{add(r){nr+=t!=e||e.has(r)?0:1,e.add(r)},delete:r=>(nr-=t==e&&e.has(r)?1:0,e.delete(r)),flush(r){t.size&&(e=new Set,nr-=t.size,hr(t,t=>t(r)&&e.add(t)),nr+=e.size,t=e)}}}function hr(e,t){e.forEach(e=>{try{t(e)}catch(r){Yt.catch(r)}})}var pr=Object.defineProperty,mr={};function xr(){}((e,t)=>{for(var r in t)pr(e,r,{get:t[r],enumerable:!0})})(mr,{assign:()=>Mr,colors:()=>Cr,createStringInterpolator:()=>Ir,skipAnimation:()=>Sr,to:()=>kr,willAdvance:()=>Pr});var gr={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function fr(e,t){if(gr.arr(e)){if(!gr.arr(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return e===t}var yr=(e,t)=>e.forEach(t);function br(e,t,r){if(gr.arr(e))for(let i=0;i<e.length;i++)t.call(r,e[i],`${i}`);else for(const i in e)e.hasOwnProperty(i)&&t.call(r,e[i],i)}var vr=e=>gr.und(e)?[]:gr.arr(e)?e:[e];function wr(e,t){if(e.size){const r=Array.from(e);e.clear(),yr(r,t)}}var Ir,kr,Ar=(e,...t)=>wr(e,e=>e(...t)),jr=()=>"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Cr=null,Sr=!1,Pr=xr,Mr=e=>{e.to&&(kr=e.to),e.now&&(Yt.now=e.now),void 0!==e.colors&&(Cr=e.colors),null!=e.skipAnimation&&(Sr=e.skipAnimation),e.createStringInterpolator&&(Ir=e.createStringInterpolator),e.requestAnimationFrame&&Yt.use(e.requestAnimationFrame),e.batchedUpdates&&(Yt.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Pr=e.willAdvance),e.frameLoop&&(Yt.frameLoop=e.frameLoop)},Er=new Set,Rr=[],Nr=[],Fr=0,zr={get idle(){return!Er.size&&!Rr.length},start(e){Fr>e.priority?(Er.add(e),Yt.onStart(Tr)):(_r(e),Yt(Dr))},advance:Dr,sort(e){if(Fr)Yt.onFrame(()=>zr.sort(e));else{const t=Rr.indexOf(e);~t&&(Rr.splice(t,1),Or(e))}},clear(){Rr=[],Er.clear()}};function Tr(){Er.forEach(_r),Er.clear(),Yt(Dr)}function _r(e){Rr.includes(e)||Or(e)}function Or(e){Rr.splice(function(t){const r=t.findIndex(t=>t.priority>e.priority);return r<0?t.length:r}(Rr),0,e)}function Dr(e){const t=Nr;for(let r=0;r<Rr.length;r++){const i=Rr[r];Fr=i.priority,i.idle||(Pr(i),i.advance(e),i.idle||t.push(i))}return Fr=0,(Nr=Rr).length=0,(Rr=t).length>0}var Lr="[-+]?\\d*\\.?\\d+",$r=Lr+"%";function Br(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var Hr=new RegExp("rgb"+Br(Lr,Lr,Lr)),Wr=new RegExp("rgba"+Br(Lr,Lr,Lr,Lr)),Gr=new RegExp("hsl"+Br(Lr,$r,$r)),Vr=new RegExp("hsla"+Br(Lr,$r,$r,Lr)),Ur=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,qr=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Kr=/^#([0-9a-fA-F]{6})$/,Xr=/^#([0-9a-fA-F]{8})$/;function Yr(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Qr(e,t,r){const i=r<.5?r*(1+t):r+t-r*t,s=2*r-i,n=Yr(s,i,e+1/3),o=Yr(s,i,e),a=Yr(s,i,e-1/3);return Math.round(255*n)<<24|Math.round(255*o)<<16|Math.round(255*a)<<8}function Jr(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function Zr(e){return(parseFloat(e)%360+360)%360/360}function ei(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function ti(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function ri(e){let t=function(e){let t;return"number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Kr.exec(e))?parseInt(t[1]+"ff",16)>>>0:Cr&&void 0!==Cr[e]?Cr[e]:(t=Hr.exec(e))?(Jr(t[1])<<24|Jr(t[2])<<16|Jr(t[3])<<8|255)>>>0:(t=Wr.exec(e))?(Jr(t[1])<<24|Jr(t[2])<<16|Jr(t[3])<<8|ei(t[4]))>>>0:(t=Ur.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Xr.exec(e))?parseInt(t[1],16)>>>0:(t=qr.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Gr.exec(e))?(255|Qr(Zr(t[1]),ti(t[2]),ti(t[3])))>>>0:(t=Vr.exec(e))?(Qr(Zr(t[1]),ti(t[2]),ti(t[3]))|ei(t[4]))>>>0:null}(e);return null===t?e:(t=t||0,`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`)}var ii=(e,t,r)=>{if(gr.fun(e))return e;if(gr.arr(e))return ii({range:e,output:t,extrapolate:r});if(gr.str(e.output[0]))return Ir(e);const i=e,s=i.output,n=i.range||[0,1],o=i.extrapolateLeft||i.extrapolate||"extend",a=i.extrapolateRight||i.extrapolate||"extend",l=i.easing||(e=>e);return e=>{const t=function(e,t){for(var r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}(e,n);return function(e,t,r,i,s,n,o,a,l){let c=l?l(e):e;if(c<t){if("identity"===o)return c;"clamp"===o&&(c=t)}if(c>r){if("identity"===a)return c;"clamp"===a&&(c=r)}return i===s?i:t===r?e<=t?i:s:(t===-1/0?c=-c:r===1/0?c-=t:c=(c-t)/(r-t),c=n(c),i===-1/0?c=-c:s===1/0?c+=i:c=c*(s-i)+i,c)}(e,n[t],n[t+1],s[t],s[t+1],l,o,a,i.map)}},si=Symbol.for("FluidValue.get"),ni=Symbol.for("FluidValue.observers"),oi=e=>Boolean(e&&e[si]),ai=e=>e&&e[si]?e[si]():e,li=e=>e[ni]||null;function ci(e,t){const r=e[ni];r&&r.forEach(e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)})}var di=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");ui(this,e)}},ui=(e,t)=>xi(e,si,t);function hi(e,t){if(e[si]){let r=e[ni];r||xi(e,ni,r=new Set),r.has(t)||(r.add(t),e.observerAdded&&e.observerAdded(r.size,t))}return t}function pi(e,t){const r=e[ni];if(r&&r.has(t)){const i=r.size-1;i?r.delete(t):e[ni]=null,e.observerRemoved&&e.observerRemoved(i,t)}}var mi,xi=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),gi=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,fi=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,yi=new RegExp(`(${gi.source})(%|[a-z]+)`,"i"),bi=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,vi=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,wi=e=>{const[t,r]=Ii(e);if(!t||jr())return e;const i=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(i)return i.trim();if(r&&r.startsWith("--")){return window.getComputedStyle(document.documentElement).getPropertyValue(r)||e}return r&&vi.test(r)?wi(r):r||e},Ii=e=>{const t=vi.exec(e);if(!t)return[,];const[,r,i]=t;return[r,i]},ki=(e,t,r,i,s)=>`rgba(${Math.round(t)}, ${Math.round(r)}, ${Math.round(i)}, ${s})`,Ai=e=>{mi||(mi=Cr?new RegExp(`(${Object.keys(Cr).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(e=>ai(e).replace(vi,wi).replace(fi,ri).replace(mi,ri)),r=t.map(e=>e.match(gi).map(Number)),i=r[0].map((e,t)=>r.map(e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})).map(t=>ii({...e,output:t}));return e=>{const r=!yi.test(t[0])&&t.find(e=>yi.test(e))?.replace(gi,"");let s=0;return t[0].replace(gi,()=>`${i[s++](e)}${r||""}`).replace(bi,ki)}},ji="react-spring: ",Ci=e=>{const t=e;let r=!1;if("function"!=typeof t)throw new TypeError(`${ji}once requires a function parameter`);return(...e)=>{r||(t(...e),r=!0)}},Si=Ci(console.warn),Pi=Ci(console.warn);function Mi(e){return gr.str(e)&&("#"==e[0]||/\d/.test(e)||!jr()&&vi.test(e)||e in(Cr||{}))}var Ei=jr()?T.useEffect:T.useLayoutEffect;function Ri(){const e=T.useState()[1],t=(()=>{const e=T.useRef(!1);return Ei(()=>(e.current=!0,()=>{e.current=!1}),[]),e})();return()=>{t.current&&e(Math.random())}}var Ni=e=>T.useEffect(e,Fi),Fi=[];function zi(e){const t=T.useRef();return T.useEffect(()=>{t.current=e}),t.current}var Ti=Symbol.for("Animated:node"),_i=e=>e&&e[Ti],Oi=(e,t)=>{return r=e,i=Ti,s=t,Object.defineProperty(r,i,{value:s,writable:!0,configurable:!0});var r,i,s},Di=e=>e&&e[Ti]&&e[Ti].getPayload(),Li=class{constructor(){Oi(this,this)}getPayload(){return this.payload||[]}},$i=class extends Li{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,gr.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new $i(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return gr.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,gr.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Bi=class extends $i{constructor(e){super(0),this._string=null,this._toString=ii({output:[e,e]})}static create(e){return new Bi(e)}getValue(){const e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(gr.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=ii({output:[this.getValue(),e]})),this._value=0,super.reset()}},Hi={dependencies:null},Wi=class extends Li{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return br(this.source,(r,i)=>{var s;(s=r)&&s[Ti]===s?t[i]=r.getValue(e):oi(r)?t[i]=ai(r):e||(t[i]=r)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&yr(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return br(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Hi.dependencies&&oi(e)&&Hi.dependencies.add(e);const t=Di(e);t&&yr(t,e=>this.add(e))}},Gi=class extends Wi{constructor(e){super(e)}static create(e){return new Gi(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((t,r)=>t.setValue(e[r])).some(Boolean):(super.setValue(e.map(Vi)),!0)}};function Vi(e){return(Mi(e)?Bi:$i).create(e)}function Ui(e){const t=_i(e);return t?t.constructor:gr.arr(e)?Gi:Mi(e)?Bi:$i}var qi=(e,t)=>{const r=!gr.fun(e)||e.prototype&&e.prototype.isReactComponent;return T.forwardRef((i,s)=>{const n=T.useRef(null),o=r&&T.useCallback(e=>{n.current=function(e,t){return e&&(gr.fun(e)?e(t):e.current=t),t}(s,e)},[s]),[a,l]=function(e,t){const r=new Set;return Hi.dependencies=r,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new Wi(e),Hi.dependencies=null,[e,r]}(i,t),c=Ri(),d=()=>{const e=n.current;r&&!e||!1===(!!e&&t.applyAnimatedValues(e,a.getValue(!0)))&&c()},u=new Ki(d,l),h=T.useRef();Ei(()=>(h.current=u,yr(l,e=>hi(e,u)),()=>{h.current&&(yr(h.current.deps,e=>pi(e,h.current)),Yt.cancel(h.current.update))})),T.useEffect(d,[]),Ni(()=>()=>{const e=h.current;yr(e.deps,t=>pi(t,e))});const p=t.getComponentProps(a.getValue());return T.createElement(e,{...p,ref:o})})},Ki=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&Yt.write(this.update)}},Xi=Symbol.for("AnimatedComponent"),Yi=e=>gr.str(e)?e:e&&gr.str(e.displayName)?e.displayName:gr.fun(e)&&e.name||null;function Qi(e,...t){return gr.fun(e)?e(...t):e}var Ji=(e,t)=>!0===e||!!(t&&e&&(gr.fun(e)?e(t):vr(e).includes(t))),Zi=(e,t)=>gr.obj(e)?t&&e[t]:e,es=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,ts=e=>e,rs=(e,t=ts)=>{let r=is;e.default&&!0!==e.default&&(e=e.default,r=Object.keys(e));const i={};for(const s of r){const r=t(e[s],s);gr.und(r)||(i[s]=r)}return i},is=["config","onProps","onStart","onChange","onPause","onResume","onRest"],ss={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function ns(e){const t=function(e){const t={};let r=0;if(br(e,(e,i)=>{ss[i]||(t[i]=e,r++)}),r)return t}(e);if(t){const r={to:t};return br(e,(e,i)=>i in t||(r[i]=e)),r}return{...e}}function os(e){return e=ai(e),gr.arr(e)?e.map(os):Mi(e)?mr.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function as(e){for(const t in e)return!0;return!1}function ls(e){return gr.fun(e)||gr.arr(e)&&gr.obj(e[0])}function cs(e,t){e.ref?.delete(e),t?.delete(e)}function ds(e,t){t&&e.ref!==t&&(e.ref?.delete(e),t.add(e),e.ref=t)}var us={tension:170,friction:26,mass:1,damping:1,easing:e=>e,clamp:!1},hs=class{constructor(){this.velocity=0,Object.assign(this,us)}};function ps(e,t){if(gr.und(t.decay)){const r=!gr.und(t.tension)||!gr.und(t.friction);!r&&gr.und(t.frequency)&&gr.und(t.damping)&&gr.und(t.mass)||(e.duration=void 0,e.decay=void 0),r&&(e.frequency=void 0)}else e.duration=void 0}var ms=[],xs=class{constructor(){this.changed=!1,this.values=ms,this.toValues=null,this.fromValues=ms,this.config=new hs,this.immediate=!1}};function gs(e,{key:t,props:r,defaultProps:i,state:s,actions:n}){return new Promise((o,a)=>{let l,c,d=Ji(r.cancel??i?.cancel,t);if(d)p();else{gr.und(r.pause)||(s.paused=Ji(r.pause,t));let e=i?.pause;!0!==e&&(e=s.paused||Ji(e,t)),l=Qi(r.delay||0,t),e?(s.resumeQueue.add(h),n.pause()):(n.resume(),h())}function u(){s.resumeQueue.add(h),s.timeouts.delete(c),c.cancel(),l=c.time-Yt.now()}function h(){l>0&&!mr.skipAnimation?(s.delayed=!0,c=Yt.setTimeout(p,l),s.pauseQueue.add(u),s.timeouts.add(c)):p()}function p(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(u),s.timeouts.delete(c),e<=(s.cancelId||0)&&(d=!0);try{n.start({...r,callId:e,cancel:d},o)}catch(t){a(t)}}})}var fs=(e,t)=>1==t.length?t[0]:t.some(e=>e.cancelled)?vs(e.get()):t.every(e=>e.noop)?ys(e.get()):bs(e.get(),t.every(e=>e.finished)),ys=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),bs=(e,t,r=!1)=>({value:e,finished:t,cancelled:r}),vs=e=>({value:e,cancelled:!0,finished:!1});function ws(e,t,r,i){const{callId:s,parentId:n,onRest:o}=t,{asyncTo:a,promise:l}=r;return n||e!==a||t.reset?r.promise=(async()=>{r.asyncId=s,r.asyncTo=e;const c=rs(t,(e,t)=>"onRest"===t?void 0:e);let d,u;const h=new Promise((e,t)=>(d=e,u=t)),p=e=>{const t=s<=(r.cancelId||0)&&vs(i)||s!==r.asyncId&&bs(i,!1);if(t)throw e.result=t,u(e),e},m=(e,t)=>{const n=new ks,o=new As;return(async()=>{if(mr.skipAnimation)throw Is(r),o.result=bs(i,!1),u(o),o;p(n);const a=gr.obj(e)?{...e}:{...t,to:e};a.parentId=s,br(c,(e,t)=>{gr.und(a[t])&&(a[t]=e)});const l=await i.start(a);return p(n),r.paused&&await new Promise(e=>{r.resumeQueue.add(e)}),l})()};let x;if(mr.skipAnimation)return Is(r),bs(i,!1);try{let t;t=gr.arr(e)?(async e=>{for(const t of e)await m(t)})(e):Promise.resolve(e(m,i.stop.bind(i))),await Promise.all([t.then(d),h]),x=bs(i.get(),!0,!1)}catch(g){if(g instanceof ks)x=g.result;else{if(!(g instanceof As))throw g;x=g.result}}finally{s==r.asyncId&&(r.asyncId=n,r.asyncTo=n?a:void 0,r.promise=n?l:void 0)}return gr.fun(o)&&Yt.batchedUpdates(()=>{o(x,i,i.item)}),x})():l}function Is(e,t){wr(e.timeouts,e=>e.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var ks=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},As=class extends Error{constructor(){super("SkipAnimationSignal")}},js=e=>e instanceof Ss,Cs=1,Ss=class extends di{constructor(){super(...arguments),this.id=Cs++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=_i(this);return e&&e.getValue()}to(...e){return mr.to(this,e)}interpolate(...e){return Si(`${ji}The "interpolate" function is deprecated in v9 (use "to" instead)`),mr.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){ci(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||zr.sort(this),ci(this,{type:"priority",parent:this,priority:e})}},Ps=Symbol.for("SpringPhase"),Ms=e=>(1&e[Ps])>0,Es=e=>(2&e[Ps])>0,Rs=e=>(4&e[Ps])>0,Ns=(e,t)=>t?e[Ps]|=3:e[Ps]&=-3,Fs=(e,t)=>t?e[Ps]|=4:e[Ps]&=-5,zs=class extends Ss{constructor(e,t){if(super(),this.animation=new xs,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!gr.und(e)||!gr.und(t)){const r=gr.obj(e)?{...e}:{...t,from:e};gr.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(Es(this)||this._state.asyncTo)||Rs(this)}get goal(){return ai(this.animation.to)}get velocity(){const e=_i(this);return e instanceof $i?e.lastVelocity||0:e.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return Ms(this)}get isAnimating(){return Es(this)}get isPaused(){return Rs(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,r=!1;const i=this.animation;let{toValues:s}=i;const{config:n}=i,o=Di(i.to);!o&&oi(i.to)&&(s=vr(ai(i.to))),i.values.forEach((a,l)=>{if(a.done)return;const c=a.constructor==Bi?1:o?o[l].lastPosition:s[l];let d=i.immediate,u=c;if(!d){if(u=a.lastPosition,n.tension<=0)return void(a.done=!0);let t=a.elapsedTime+=e;const r=i.fromValues[l],s=null!=a.v0?a.v0:a.v0=gr.arr(n.velocity)?n.velocity[l]:n.velocity;let o;const h=n.precision||(r==c?.005:Math.min(1,.001*Math.abs(c-r)));if(gr.und(n.duration))if(n.decay){const e=!0===n.decay?.998:n.decay,i=Math.exp(-(1-e)*t);u=r+s/(1-e)*(1-i),d=Math.abs(a.lastPosition-u)<=h,o=s*i}else{o=null==a.lastVelocity?s:a.lastVelocity;const t=n.restVelocity||h/10,i=n.clamp?0:n.bounce,l=!gr.und(i),p=r==c?a.v0>0:r<c;let m,x=!1;const g=1,f=Math.ceil(e/g);for(let e=0;e<f&&(m=Math.abs(o)>t,m||(d=Math.abs(c-u)<=h,!d));++e)l&&(x=u==c||u>c==p,x&&(o=-o*i,u=c)),o+=(1e-6*-n.tension*(u-c)+.001*-n.friction*o)/n.mass*g,u+=o*g}else{let i=1;n.duration>0&&(this._memoizedDuration!==n.duration&&(this._memoizedDuration=n.duration,a.durationProgress>0&&(a.elapsedTime=n.duration*a.durationProgress,t=a.elapsedTime+=e)),i=(n.progress||0)+t/this._memoizedDuration,i=i>1?1:i<0?0:i,a.durationProgress=i),u=r+n.easing(i)*(c-r),o=(u-a.lastPosition)/e,d=1==i}a.lastVelocity=o,Number.isNaN(u)&&(d=!0)}o&&!o[l].done&&(d=!1),d?a.done=!0:t=!1,a.setValue(u,n.round)&&(r=!0)});const a=_i(this),l=a.getValue();if(t){const e=ai(i.to);l===e&&!r||n.decay?r&&n.decay&&this._onChange(l):(a.setValue(e),this._onChange(e)),this._stop()}else r&&this._onChange(l)}set(e){return Yt.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Es(this)){const{to:e,config:t}=this.animation;Yt.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let r;return gr.und(e)?(r=this.queue||[],this.queue=[]):r=[gr.obj(e)?e:{...t,to:e}],Promise.all(r.map(e=>this._update(e))).then(e=>fs(this,e))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Is(this._state,e&&this._lastCallId),Yt.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:r,from:i}=e;r=gr.obj(r)?r[t]:r,(null==r||ls(r))&&(r=void 0),i=gr.obj(i)?i[t]:i,null==i&&(i=void 0);const s={to:r,from:i};return Ms(this)||(e.reverse&&([r,i]=[i,r]),i=ai(i),gr.und(i)?_i(this)||this._set(r):this._set(i)),s}_update({...e},t){const{key:r,defaultProps:i}=this;e.default&&Object.assign(i,rs(e,(e,t)=>/^on/.test(t)?Zi(e,r):e)),Bs(this,e,"onProps"),Hs(this,"onProps",e,this);const s=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const n=this._state;return gs(++this._lastCallId,{key:r,props:e,defaultProps:i,state:n,actions:{pause:()=>{Rs(this)||(Fs(this,!0),Ar(n.pauseQueue),Hs(this,"onPause",bs(this,Ts(this,this.animation.to)),this))},resume:()=>{Rs(this)&&(Fs(this,!1),Es(this)&&this._resume(),Ar(n.resumeQueue),Hs(this,"onResume",bs(this,Ts(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(r=>{if(e.loop&&r.finished&&(!t||!r.noop)){const t=_s(e);if(t)return this._update(t,!0)}return r})}_merge(e,t,r){if(t.cancel)return this.stop(!0),r(vs(this));const i=!gr.und(e.to),s=!gr.und(e.from);if(i||s){if(!(t.callId>this._lastToId))return r(vs(this));this._lastToId=t.callId}const{key:n,defaultProps:o,animation:a}=this,{to:l,from:c}=a;let{to:d=l,from:u=c}=e;!s||i||t.default&&!gr.und(d)||(d=u),t.reverse&&([d,u]=[u,d]);const h=!fr(u,c);h&&(a.from=u),u=ai(u);const p=!fr(d,l);p&&this._focus(d);const m=ls(t.to),{config:x}=a,{decay:g,velocity:f}=x;(i||s)&&(x.velocity=0),t.config&&!m&&function(e,t,r){r&&(ps(r={...r},t),t={...r,...t}),ps(e,t),Object.assign(e,t);for(const o in us)null==e[o]&&(e[o]=us[o]);let{frequency:i,damping:s}=e;const{mass:n}=e;gr.und(i)||(i<.01&&(i=.01),s<0&&(s=0),e.tension=Math.pow(2*Math.PI/i,2)*n,e.friction=4*Math.PI*s*n/i)}(x,Qi(t.config,n),t.config!==o.config?Qi(o.config,n):void 0);let y=_i(this);if(!y||gr.und(d))return r(bs(this,!0));const b=gr.und(t.reset)?s&&!t.default:!gr.und(u)&&Ji(t.reset,n),v=b?u:this.get(),w=os(d),I=gr.num(w)||gr.arr(w)||Mi(w),k=!m&&(!I||Ji(o.immediate||t.immediate,n));if(p){const e=Ui(d);if(e!==y.constructor){if(!k)throw Error(`Cannot animate between ${y.constructor.name} and ${e.name}, as the "to" prop suggests`);y=this._set(w)}}const A=y.constructor;let j=oi(d),C=!1;if(!j){const e=b||!Ms(this)&&h;(p||e)&&(C=fr(os(v),w),j=!C),(fr(a.immediate,k)||k)&&fr(x.decay,g)&&fr(x.velocity,f)||(j=!0)}if(C&&Es(this)&&(a.changed&&!b?j=!0:j||this._stop(l)),!m&&((j||oi(l))&&(a.values=y.getPayload(),a.toValues=oi(d)?null:A==Bi?[1]:vr(w)),a.immediate!=k&&(a.immediate=k,k||b||this._set(l)),j)){const{onRest:e}=a;yr($s,e=>Bs(this,t,e));const i=bs(this,Ts(this,l));Ar(this._pendingCalls,i),this._pendingCalls.add(r),a.changed&&Yt.batchedUpdates(()=>{a.changed=!b,e?.(i,this),b?Qi(o.onRest,i):a.onStart?.(i,this)})}b&&this._set(v),m?r(ws(t.to,t,this._state,this)):j?this._start():Es(this)&&!p?this._pendingCalls.add(r):r(ys(v))}_focus(e){const t=this.animation;e!==t.to&&(li(this)&&this._detach(),t.to=e,li(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;oi(t)&&(hi(t,this),js(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;oi(e)&&pi(e,this)}_set(e,t=!0){const r=ai(e);if(!gr.und(r)){const e=_i(this);if(!e||!fr(r,e.getValue())){const i=Ui(r);e&&e.constructor==i?e.setValue(r):Oi(this,i.create(r)),e&&Yt.batchedUpdates(()=>{this._onChange(r,t)})}}return _i(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Hs(this,"onStart",bs(this,Ts(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Qi(this.animation.onChange,e,this)),Qi(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;_i(this).reset(ai(e.to)),e.immediate||(e.fromValues=e.values.map(e=>e.lastPosition)),Es(this)||(Ns(this,!0),Rs(this)||this._resume())}_resume(){mr.skipAnimation?this.finish():zr.start(this)}_stop(e,t){if(Es(this)){Ns(this,!1);const r=this.animation;yr(r.values,e=>{e.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),ci(this,{type:"idle",parent:this});const i=t?vs(this.get()):bs(this.get(),Ts(this,e??r.to));Ar(this._pendingCalls,i),r.changed&&(r.changed=!1,Hs(this,"onRest",i,this))}}};function Ts(e,t){const r=os(t);return fr(os(e.get()),r)}function _s(e,t=e.loop,r=e.to){const i=Qi(t);if(i){const s=!0!==i&&ns(i),n=(s||e).reverse,o=!s||s.reset;return Os({...e,loop:t,default:!1,pause:void 0,to:!n||ls(r)?r:void 0,from:o?e.from:void 0,reset:o,...s})}}function Os(e){const{to:t,from:r}=e=ns(e),i=new Set;return gr.obj(t)&&Ls(t,i),gr.obj(r)&&Ls(r,i),e.keys=i.size?Array.from(i):null,e}function Ds(e){const t=Os(e);return gr.und(t.default)&&(t.default=rs(t)),t}function Ls(e,t){br(e,(e,r)=>null!=e&&t.add(r))}var $s=["onStart","onRest","onChange","onPause","onResume"];function Bs(e,t,r){e.animation[r]=t[r]!==es(t,r)?Zi(t[r],e.key):void 0}function Hs(e,t,...r){e.animation[t]?.(...r),e.defaultProps[t]?.(...r)}var Ws=["onStart","onChange","onRest"],Gs=1,Vs=class{constructor(e,t){this.id=Gs++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,r)=>e[r]=t.get()),e}set(e){for(const t in e){const r=e[t];gr.und(r)||this.springs[t].set(r)}}update(e){return e&&this.queue.push(Os(e)),this}start(e){let{queue:t}=this;return e?t=vr(e).map(Os):this.queue=[],this._flush?this._flush(this,t):(Js(this,t),Us(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const r=this.springs;yr(vr(t),t=>r[t].stop(!!e))}else Is(this._state,this._lastAsyncId),this.each(t=>t.stop(!!e));return this}pause(e){if(gr.und(e))this.start({pause:!0});else{const t=this.springs;yr(vr(e),e=>t[e].pause())}return this}resume(e){if(gr.und(e))this.start({pause:!1});else{const t=this.springs;yr(vr(e),e=>t[e].resume())}return this}each(e){br(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:r}=this._events,i=this._active.size>0,s=this._changed.size>0;(i&&!this._started||s&&!this._started)&&(this._started=!0,wr(e,([e,t])=>{t.value=this.get(),e(t,this,this._item)}));const n=!i&&this._started,o=s||n&&r.size?this.get():null;s&&t.size&&wr(t,([e,t])=>{t.value=o,e(t,this,this._item)}),n&&(this._started=!1,wr(r,([e,t])=>{t.value=o,e(t,this,this._item)}))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}Yt.onFrame(this._onFrame)}};function Us(e,t){return Promise.all(t.map(t=>qs(e,t))).then(t=>fs(e,t))}async function qs(e,t,r){const{keys:i,to:s,from:n,loop:o,onRest:a,onResolve:l}=t,c=gr.obj(t.default)&&t.default;o&&(t.loop=!1),!1===s&&(t.to=null),!1===n&&(t.from=null);const d=gr.arr(s)||gr.fun(s)?s:void 0;d?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):yr(Ws,r=>{const i=t[r];if(gr.fun(i)){const s=e._events[r];t[r]=({finished:e,cancelled:t})=>{const r=s.get(i);r?(e||(r.finished=!1),t&&(r.cancelled=!0)):s.set(i,{value:null,finished:e||!1,cancelled:t||!1})},c&&(c[r]=t[r])}});const u=e._state;t.pause===!u.paused?(u.paused=t.pause,Ar(t.pause?u.pauseQueue:u.resumeQueue)):u.paused&&(t.pause=!0);const h=(i||Object.keys(e.springs)).map(r=>e.springs[r].start(t)),p=!0===t.cancel||!0===es(t,"cancel");(d||p&&u.asyncId)&&h.push(gs(++e._lastAsyncId,{props:t,state:u,actions:{pause:xr,resume:xr,start(t,r){p?(Is(u,e._lastAsyncId),r(vs(e))):(t.onRest=a,r(ws(d,t,u,e)))}}})),u.paused&&await new Promise(e=>{u.resumeQueue.add(e)});const m=fs(e,await Promise.all(h));if(o&&m.finished&&(!r||!m.noop)){const r=_s(t,o,s);if(r)return Js(e,[r]),qs(e,r,!0)}return l&&Yt.batchedUpdates(()=>l(m,e,e.item)),m}function Ks(e,t){const r={...e.springs};return t&&yr(vr(t),e=>{gr.und(e.keys)&&(e=Os(e)),gr.obj(e.to)||(e={...e,to:void 0}),Qs(r,e,e=>Ys(e))}),Xs(e,r),r}function Xs(e,t){br(t,(t,r)=>{e.springs[r]||(e.springs[r]=t,hi(t,e))})}function Ys(e,t){const r=new zs;return r.key=e,t&&hi(r,t),r}function Qs(e,t,r){t.keys&&yr(t.keys,i=>{(e[i]||(e[i]=r(i)))._prepareNode(t)})}function Js(e,t){yr(t,t=>{Qs(e.springs,t,t=>Ys(t,e))})}var Zs,en,tn=({children:e,...t})=>{const r=T.useContext(rn),i=t.pause||!!r.pause,s=t.immediate||!!r.immediate;t=function(e,t){const[r]=T.useState(()=>({inputs:t,result:e()})),i=T.useRef(),s=i.current;let n=s;return n?Boolean(t&&n.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(t,n.inputs))||(n={inputs:t,result:e()}):n=r,T.useEffect(()=>{i.current=n,s==r&&(r.inputs=r.result=void 0)},[n]),n.result}(()=>({pause:i,immediate:s}),[i,s]);const{Provider:n}=rn;return T.createElement(n,{value:t},e)},rn=(Zs=tn,en={},Object.assign(Zs,T.createContext(en)),Zs.Provider._context=Zs,Zs.Consumer._context=Zs,Zs);tn.Provider=rn.Provider,tn.Consumer=rn.Consumer;var sn=()=>{const e=[],t=function(t){Pi(`${ji}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);const i=[];return yr(e,(e,s)=>{if(gr.und(t))i.push(e.start());else{const n=r(t,e,s);n&&i.push(e.start(n))}}),i};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const r=e.indexOf(t);~r&&e.splice(r,1)},t.pause=function(){return yr(e,e=>e.pause(...arguments)),this},t.resume=function(){return yr(e,e=>e.resume(...arguments)),this},t.set=function(t){yr(e,(e,r)=>{const i=gr.fun(t)?t(r,e):t;i&&e.set(i)})},t.start=function(t){const r=[];return yr(e,(e,i)=>{if(gr.und(t))r.push(e.start());else{const s=this._getProps(t,e,i);s&&r.push(e.start(s))}}),r},t.stop=function(){return yr(e,e=>e.stop(...arguments)),this},t.update=function(t){return yr(e,(e,r)=>e.update(this._getProps(t,e,r))),this};const r=function(e,t,r){return gr.fun(e)?e(r,t):e};return t._getProps=r,t};function nn(e,t){const r=gr.fun(e),[[i],s]=function(e,t,r){const i=gr.fun(t)&&t;i&&!r&&(r=[]);const s=T.useMemo(()=>i||3==arguments.length?sn():void 0,[]),n=T.useRef(0),o=Ri(),a=T.useMemo(()=>({ctrls:[],queue:[],flush(e,t){const r=Ks(e,t);return n.current>0&&!a.queue.length&&!Object.keys(r).some(t=>!e.springs[t])?Us(e,t):new Promise(i=>{Xs(e,r),a.queue.push(()=>{i(Us(e,t))}),o()})}}),[]),l=T.useRef([...a.ctrls]),c=[],d=zi(e)||0;function u(e,r){for(let s=e;s<r;s++){const e=l.current[s]||(l.current[s]=new Vs(null,a.flush)),r=i?i(s,e):t[s];r&&(c[s]=Ds(r))}}T.useMemo(()=>{yr(l.current.slice(e,d),e=>{cs(e,s),e.stop(!0)}),l.current.length=e,u(d,e)},[e]),T.useMemo(()=>{u(0,Math.min(d,e))},r);const h=l.current.map((e,t)=>Ks(e,c[t])),p=T.useContext(tn),m=zi(p),x=p!==m&&as(p);Ei(()=>{n.current++,a.ctrls=l.current;const{queue:e}=a;e.length&&(a.queue=[],yr(e,e=>e())),yr(l.current,(e,t)=>{s?.add(e),x&&e.start({default:p});const r=c[t];r&&(ds(e,r.ref),e.ref?e.queue.push(r):e.start(r))})}),Ni(()=>()=>{yr(a.ctrls,e=>e.stop(!0))});const g=h.map(e=>({...e}));return s?[g,s]:g}(1,r?e:[e],r?[]:t);return r||2==arguments.length?[i,s]:i}function on(e,t,r){const i=gr.fun(t)&&t,{reset:s,sort:n,trail:o=0,expires:a=!0,exitBeforeEnter:l=!1,onDestroyed:c,ref:d,config:u}=i?i():t,h=T.useMemo(()=>i||3==arguments.length?sn():void 0,[]),p=vr(e),m=[],x=T.useRef(null),g=s?null:x.current;Ei(()=>{x.current=m}),Ni(()=>(yr(m,e=>{h?.add(e.ctrl),e.ctrl.ref=h}),()=>{yr(x.current,e=>{e.expired&&clearTimeout(e.expirationId),cs(e.ctrl,h),e.ctrl.stop(!0)})}));const f=function(e,{key:t,keys:r=t},i){if(null===r){const t=new Set;return e.map(e=>{const r=i&&i.find(r=>r.item===e&&"leave"!==r.phase&&!t.has(r));return r?(t.add(r),r.key):an++})}return gr.und(r)?e:gr.fun(r)?e.map(r):vr(r)}(p,i?i():t,g),y=s&&x.current||[];Ei(()=>yr(y,({ctrl:e,item:t,key:r})=>{cs(e,h),Qi(c,t,r)}));const b=[];if(g&&yr(g,(e,t)=>{e.expired?(clearTimeout(e.expirationId),y.push(e)):~(t=b[t]=f.indexOf(e.key))&&(m[t]=e)}),yr(p,(e,t)=>{m[t]||(m[t]={key:f[t],item:e,phase:"mount",ctrl:new Vs},m[t].ctrl.item=e)}),b.length){let e=-1;const{leave:r}=i?i():t;yr(b,(t,i)=>{const s=g[i];~t?(e=m.indexOf(s),m[e]={...s,item:p[t]}):r&&m.splice(++e,0,s)})}gr.fun(n)&&m.sort((e,t)=>n(e.item,t.item));let v=-o;const w=Ri(),I=rs(t),k=new Map,A=T.useRef(new Map),j=T.useRef(!1);yr(m,(e,r)=>{const s=e.key,n=e.phase,c=i?i():t;let h,p;const m=Qi(c.delay||0,s);if("mount"==n)h=c.enter,p="enter";else{const e=f.indexOf(s)<0;if("leave"!=n)if(e)h=c.leave,p="leave";else{if(!(h=c.update))return;p="update"}else{if(e)return;h=c.enter,p="enter"}}if(h=Qi(h,e.item,r),h=gr.obj(h)?ns(h):{to:h},!h.config){const t=u||I.config;h.config=Qi(t,e.item,r,p)}v+=o;const y={...I,delay:m+v,ref:d,immediate:c.immediate,reset:!1,...h};if("enter"==p&&gr.und(y.from)){const s=i?i():t,n=gr.und(s.initial)||g?s.from:s.initial;y.from=Qi(n,e.item,r)}const{onResolve:b}=y;y.onResolve=e=>{Qi(b,e);const t=x.current,r=t.find(e=>e.key===s);if(r&&(!e.cancelled||"update"==r.phase)&&r.ctrl.idle){const e=t.every(e=>e.ctrl.idle);if("leave"==r.phase){const t=Qi(a,r.item);if(!1!==t){const i=!0===t?0:t;if(r.expired=!0,!e&&i>0)return void(i<=2147483647&&(r.expirationId=setTimeout(w,i)))}}e&&t.some(e=>e.expired)&&(A.current.delete(r),l&&(j.current=!0),w())}};const C=Ks(e.ctrl,y);"leave"===p&&l?A.current.set(e,{phase:p,springs:C,payload:y}):k.set(e,{phase:p,springs:C,payload:y})});const C=T.useContext(tn),S=zi(C),P=C!==S&&as(C);Ei(()=>{P&&yr(m,e=>{e.ctrl.start({default:C})})},[C]),yr(k,(e,t)=>{if(A.current.size){const e=m.findIndex(e=>e.key===t.key);m.splice(e,1)}}),Ei(()=>{yr(A.current.size?A.current:k,({phase:e,payload:t},r)=>{const{ctrl:i}=r;r.phase=e,h?.add(i),P&&"enter"==e&&i.start({default:C}),t&&(ds(i,t.ref),!i.ref&&!h||j.current?(i.start(t),j.current&&(j.current=!1)):i.update(t))})},s?void 0:r);const M=e=>T.createElement(T.Fragment,null,m.map((t,r)=>{const{springs:i}=k.get(t)||t.ctrl,s=e({...i},t.item,t,r);return s&&s.type?T.createElement(s.type,{...s.props,key:gr.str(t.key)||gr.num(t.key)?t.key:t.ctrl.id,ref:s.ref}):s}));return h?[M,h]:M}var an=1,ln=class extends Ss{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=ii(...t);const r=this._get(),i=Ui(r);Oi(this,i.create(r))}advance(e){const t=this._get();fr(t,this.get())||(_i(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&dn(this._active)&&un(this)}_get(){const e=gr.arr(this.source)?this.source.map(ai):vr(ai(this.source));return this.calc(...e)}_start(){this.idle&&!dn(this._active)&&(this.idle=!1,yr(Di(this),e=>{e.done=!1}),mr.skipAnimation?(Yt.batchedUpdates(()=>this.advance()),un(this)):zr.start(this))}_attach(){let e=1;yr(vr(this.source),t=>{oi(t)&&hi(t,this),js(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){yr(vr(this.source),e=>{oi(e)&&pi(e,this)}),this._active.clear(),un(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=vr(this.source).reduce((e,t)=>Math.max(e,(js(t)?t.priority:0)+1),0))}};function cn(e){return!1!==e.idle}function dn(e){return!e.size||Array.from(e).every(cn)}function un(e){e.idle||(e.idle=!0,yr(Di(e),e=>{e.done=!0}),ci(e,{type:"idle",parent:e}))}var hn=(e,...t)=>new ln(e,t);mr.assign({createStringInterpolator:Ai,to:(e,t)=>new ln(e,t)});var pn=/^--/;function mn(e,t){return null==t||"boolean"==typeof t||""===t?"":"number"!=typeof t||0===t||pn.test(e)||gn.hasOwnProperty(e)&&gn[e]?(""+t).trim():t+"px"}var xn={},gn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fn=["Webkit","Ms","Moz","O"];gn=Object.keys(gn).reduce((e,t)=>(fn.forEach(r=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(r,t)]=e[t]),e),gn);var yn=/^(matrix|translate|scale|rotate|skew)/,bn=/^(translate)/,vn=/^(rotate|skew)/,wn=(e,t)=>gr.num(e)&&0!==e?e+t:e,In=(e,t)=>gr.arr(e)?e.every(e=>In(e,t)):gr.num(e)?e===t:parseFloat(e)===t,kn=class extends Wi{constructor({x:e,y:t,z:r,...i}){const s=[],n=[];(e||t||r)&&(s.push([e||0,t||0,r||0]),n.push(e=>[`translate3d(${e.map(e=>wn(e,"px")).join(",")})`,In(e,0)])),br(i,(e,t)=>{if("transform"===t)s.push([e||""]),n.push(e=>[e,""===e]);else if(yn.test(t)){if(delete i[t],gr.und(e))return;const r=bn.test(t)?"px":vn.test(t)?"deg":"";s.push(vr(e)),n.push("rotate3d"===t?([e,t,i,s])=>[`rotate3d(${e},${t},${i},${wn(s,r)})`,In(s,0)]:e=>[`${t}(${e.map(e=>wn(e,r)).join(",")})`,In(e,t.startsWith("scale")?1:0)])}}),s.length&&(i.transform=new An(s,n)),super(i)}},An=class extends di{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return yr(this.inputs,(r,i)=>{const s=ai(r[0]),[n,o]=this.transforms[i](gr.arr(s)?s:r.map(ai));e+=" "+n,t=t&&o}),t?"none":e}observerAdded(e){1==e&&yr(this.inputs,e=>yr(e,e=>oi(e)&&hi(e,this)))}observerRemoved(e){0==e&&yr(this.inputs,e=>yr(e,e=>oi(e)&&pi(e,this)))}eventObserved(e){"change"==e.type&&(this._value=null),ci(this,e)}};mr.assign({batchedUpdates:_.unstable_batchedUpdates,createStringInterpolator:Ai,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var jn=((e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:r=e=>new Wi(e),getComponentProps:i=e=>e}={})=>{const s={applyAnimatedValues:t,createAnimatedStyle:r,getComponentProps:i},n=e=>{const t=Yi(e)||"Anonymous";return(e=gr.str(e)?n[e]||(n[e]=qi(e,s)):e[Xi]||(e[Xi]=qi(e,s))).displayName=`Animated(${t})`,e};return br(e,(t,r)=>{gr.arr(e)&&(r=Yi(t)),n[r]=n(t)}),{animated:n}})(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const r="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{className:i,style:s,children:n,scrollTop:o,scrollLeft:a,viewBox:l,...c}=t,d=Object.values(c),u=Object.keys(c).map(t=>r||e.hasAttribute(t)?t:xn[t]||(xn[t]=t.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())));void 0!==n&&(e.textContent=n);for(const h in s)if(s.hasOwnProperty(h)){const t=mn(h,s[h]);pn.test(h)?e.style.setProperty(h,t):e.style[h]=t}u.forEach((t,r)=>{e.setAttribute(t,d[r])}),void 0!==i&&(e.className=i),void 0!==o&&(e.scrollTop=o),void 0!==a&&(e.scrollLeft=a),void 0!==l&&e.setAttribute("viewBox",l)},createAnimatedStyle:e=>new kn(e),getComponentProps:({scrollTop:e,scrollLeft:t,...r})=>r}),Cn=jn.animated;const Sn=e=>{const t=function(e){const t=T.useRef({currentPath:e,previousPath:void 0});return t.current.currentPath!==e&&(t.current={currentPath:e,previousPath:t.current.currentPath}),t.current}(e);return T.useMemo(()=>t.previousPath?ce(t.previousPath,t.currentPath):()=>t.currentPath,[t.currentPath,t.previousPath])};function Pn(e){return e.replace(" ","_")}function Mn(){const{chartId:e}=T.useContext(rt);return T.useMemo(()=>e,[e])}function En(e){return Ue(e)?t=>(e(t)??0)+e.bandwidth()/2:t=>e(t)}function Rn(){const{isInitialized:e,data:t}=T.useContext(it);if(!e)throw new Error(["MUI X: Could not find the svg ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join("\n"));return t}function Nn(e){const t=nt(),i=Mn(),s=on([t],{from:e=>({animatedWidth:e.left}),enter:e=>({animatedWidth:e.width+e.left+e.right}),leave:e=>({animatedWidth:e.width+e.left+e.right}),reset:!1,immediate:e.skipAnimation}),n=Pn(`${i}-${e.id}`);return r.jsxs(T.Fragment,{children:[r.jsx("clipPath",{id:n,children:s(e=>r.jsx(Cn.rect,{x:0,y:0,width:e.animatedWidth,height:t.top+t.height+t.bottom}))}),r.jsx("g",{clipPath:`url(#${n})`,children:e.children})]})}const Fn=["d","skipAnimation","ownerState"],zn=o(Cn.path,{name:"MuiAreaElement",slot:"Root",overridesResolver:(e,t)=>t.root})(({ownerState:e})=>({stroke:"none",fill:e.gradientId&&`url(#${e.gradientId})`||e.isHighlighted&&de(e.color).brighter(1).formatHex()||de(e.color).brighter(.5).formatHex(),transition:"opacity 0.2s ease-in, fill 0.2s ease-in",opacity:e.isFaded?.3:1}));function Tn(t){const{d:i,skipAnimation:s,ownerState:o}=t,a=n(t,Fn),l=on([Sn(i)],{from:{value:0},to:{value:1},enter:{value:1},reset:!1,immediate:s});return r.jsx(Nn,{skipAnimation:s,id:`${o.id}-area-clip`,children:l((t,i)=>r.jsx(zn,e({},a,{ownerState:o,d:t.value.to(i)})))})}const _n=["id","classes","color","gradientId","slots","slotProps","onClick"];function On(e){return c("MuiAreaElement",e)}function Dn(t){const{id:i,classes:s,color:o,gradientId:c,slots:d,slotProps:u,onClick:h}=t,p=n(t,_n),m=Kt(),{isFaded:x,isHighlighted:g}=Vt({seriesId:i}),f={id:i,classes:s,color:o,gradientId:c,isFaded:x,isHighlighted:g},y=(e=>{const{classes:t,id:r,isFaded:i,isHighlighted:s}=e;return l({root:["root",`series-${r}`,s&&"highlighted",i&&"faded"]},On,t)})(f),b=d?.area??Tn,v=a({elementType:b,externalSlotProps:u?.area,additionalProps:e({},m({type:"line",seriesId:i}),{onClick:h,cursor:h?"pointer":"unset"}),className:y.root,ownerState:f});return r.jsx(b,e({},p,v))}function Ln(e){switch(e){case"catmullRom":return ye.alpha(.5);case"linear":return fe;case"monotoneX":default:return ue;case"monotoneY":return ge;case"natural":return xe;case"step":return me;case"stepBefore":return pe;case"stepAfter":return he}}function $n(e){const{isReversed:t,gradientId:i,size:s,direction:n,scale:o,colorMap:a}=e;return s<=0?null:r.jsx("linearGradient",{id:i,x1:"0",x2:"0",y1:"0",y2:"0",[`${n}${t?1:2}`]:`${s}px`,gradientUnits:"userSpaceOnUse",children:a.thresholds.map((e,i)=>{const n=o(e);if(void 0===n)return null;const l=t?1-n/s:n/s;return r.jsxs(T.Fragment,{children:[r.jsx("stop",{offset:l,stopColor:a.colors[i],stopOpacity:1}),r.jsx("stop",{offset:l,stopColor:a.colors[i+1],stopOpacity:1})]},e.toString()+i)})})}function Bn(e){const{gradientUnits:t,isReversed:i,gradientId:s,size:n,direction:o,scale:a,colorScale:l,colorMap:c}=e,d=[c.min??0,c.max??100],u=d.map(a).filter(e=>void 0!==e);if(2!==u.length)return null;const h="number"==typeof d[0]?be(d[0],d[1]):ve(d[0],d[1]),p=Math.round((Math.max(...u)-Math.min(...u))/10),m=`${d[0]}-${d[1]}-`;return r.jsx("linearGradient",{id:s,x1:"0",x2:"0",y1:"0",y2:"0",[`${o}${i?1:2}`]:"objectBoundingBox"===t?1:`${n}px`,gradientUnits:t??"userSpaceOnUse",children:Array.from({length:p+1},(e,t)=>{const s=h(t/p);if(void 0===s)return null;const o=a(s);if(void 0===o)return null;const c=i?1-o/n:o/n,d=l(s);return null===d?null:r.jsx("stop",{offset:c,stopColor:d,stopOpacity:1},m+t)})})}function Hn(){const{chartId:e}=T.useContext(rt);return T.useCallback((t,r)=>`${e}-gradient-${r}-${t}`,[e])}function Wn(){const{top:e,height:t,bottom:i,left:s,width:n,right:o}=nt(),a=e+t+i,l=s+n+o,c=Hn(),{xAxisIds:d,xAxis:u,yAxisIds:h,yAxis:p}=Tt();return r.jsxs("defs",{children:[h.filter(e=>void 0!==p[e].colorMap).map(e=>{const t=c(e,"y"),{colorMap:i,scale:s,colorScale:n,reverse:o}=p[e];return"piecewise"===i?.type?r.jsx($n,{isReversed:!o,scale:s,colorMap:i,size:a,gradientId:t,direction:"y"},t):"continuous"===i?.type?r.jsx(Bn,{isReversed:!o,scale:s,colorScale:n,colorMap:i,size:a,gradientId:t,direction:"y"},t):null}),d.filter(e=>void 0!==u[e].colorMap).map(e=>{const t=c(e,"x"),{colorMap:i,scale:s,reverse:n,colorScale:o}=u[e];return"piecewise"===i?.type?r.jsx($n,{isReversed:n,scale:s,colorMap:i,size:l,gradientId:t,direction:"x"},t):"continuous"===i?.type?r.jsx(Bn,{isReversed:n,scale:s,colorScale:o,colorMap:i,size:l,gradientId:t,direction:"x"},t):null})]})}d("MuiAreaElement",["root","highlighted","faded"]);const Gn=T.createContext({isInitialized:!1,data:{skipAnimation:void 0}});function Vn(e){const{children:t,skipAnimation:i}=e,s="undefined"==typeof window||!window?.matchMedia,[n,o]=T.useState(s||void 0);Ei(()=>{if(s)return;const e=e=>{const t=e.matches||void 0;o(t),mr.assign({skipAnimation:t})},t=window.matchMedia("(prefers-reduced-motion)");return e(t),t?.addEventListener?.("change",e),()=>{t?.removeEventListener?.("change",e)}},[]);const a=T.useMemo(()=>({isInitialized:!0,data:{skipAnimation:i||n}}),[n,i]);return r.jsx(Gn.Provider,{value:a,children:t})}function Un(e){const{isInitialized:t,data:r}=T.useContext(Gn);if(!t)throw new Error(["MUI X: Could not find the animation ref context.","It looks like you rendered your component outside of a ChartsContainer parent component."].join("\n"));return e||r.skipAnimation}const qn=["slots","slotProps","onItemClick","skipAnimation"];function Kn(t){const{slots:i,slotProps:s,onItemClick:o,skipAnimation:a}=t,l=n(t,qn),c=Un(a),d=Hn(),u=(()=>{const t=Nt(),r=Tt(),i=T.useMemo(()=>{if(void 0===t)return[];const{series:i,stackingGroups:s}=t,{xAxis:n,yAxis:o,xAxisIds:a,yAxisIds:l}=r,c=a[0],d=l[0];return s.flatMap(({ids:t})=>[...t].reverse().map(t=>{const{xAxisId:r,yAxisId:s,xAxisKey:a=c,yAxisKey:l=d,stackedData:u,data:h,connectNulls:p,baseline:m}=i[t],x=r??a,g=s??l,f=En(n[x].scale),y=o[g].scale,b=n[x].data,v=o[g].colorScale&&[g,"y"]||n[x].colorScale&&[x,"x"]||void 0,w=we().x(e=>f(e.x)).defined((e,t)=>p||null!=h[t]).y0(e=>{if("number"==typeof m)return y(m);if("max"===m)return y.range()[1];if("min"===m)return y.range()[0];const t=e.y&&y(e.y[0]);return Number.isNaN(t)?y.range()[0]:t}).y1(e=>e.y&&y(e.y[1])),I=Ln(i[t].curve),k=b?.map((e,t)=>({x:e,y:u[t]}))??[],A=p?k.filter((e,t)=>null!=h[t]):k,j=w.curve(I)(A)||"";return e({},i[t],{gradientUsed:v,d:j,seriesId:t})}))},[t,r]);return i})();return r.jsx("g",e({},l,{children:u.map(({d:e,seriesId:t,color:n,area:a,gradientUsed:l})=>!!a&&r.jsx(Dn,{id:t,d:e,color:n,gradientId:l&&d(...l),slots:i,slotProps:s,onClick:o&&(e=>o(e,{type:"line",seriesId:t})),skipAnimation:c},t))}))}const Xn=["d","skipAnimation","ownerState"],Yn=o(Cn.path,{name:"MuiLineElement",slot:"Root",overridesResolver:(e,t)=>t.root})(({ownerState:e})=>({strokeWidth:2,strokeLinejoin:"round",fill:"none",stroke:e.gradientId&&`url(#${e.gradientId})`||e.isHighlighted&&de(e.color).brighter(.5).formatHex()||e.color,transition:"opacity 0.2s ease-in, stroke 0.2s ease-in",opacity:e.isFaded?.3:1}));function Qn(t){const{d:i,skipAnimation:s,ownerState:o}=t,a=n(t,Xn),l=on([Sn(i)],{from:{value:0},to:{value:1},enter:{value:1},reset:!1,immediate:s});return r.jsx(Nn,{skipAnimation:s,id:`${o.id}-line-clip`,children:l((t,i)=>r.jsx(Yn,e({},a,{ownerState:o,d:t.value.to(i)})))})}const Jn=["id","classes","color","gradientId","slots","slotProps","onClick"];function Zn(e){return c("MuiLineElement",e)}function eo(t){const{id:i,classes:s,color:o,gradientId:c,slots:d,slotProps:u,onClick:h}=t,p=n(t,Jn),m=Kt(),{isFaded:x,isHighlighted:g}=Vt({seriesId:i}),f={id:i,classes:s,color:o,gradientId:c,isFaded:x,isHighlighted:g},y=(e=>{const{classes:t,id:r,isFaded:i,isHighlighted:s}=e;return l({root:["root",`series-${r}`,s&&"highlighted",i&&"faded"]},Zn,t)})(f),b=d?.line??Qn,v=a({elementType:b,externalSlotProps:u?.line,additionalProps:e({},m({type:"line",seriesId:i}),{onClick:h,cursor:h?"pointer":"unset"}),className:y.root,ownerState:f});return r.jsx(b,e({},p,v))}d("MuiLineElement",["root","highlighted","faded"]);const to=["slots","slotProps","skipAnimation","onItemClick"];function ro(t){const{slots:i,slotProps:s,skipAnimation:o,onItemClick:a}=t,l=n(t,to),c=Un(o),d=Hn(),u=(()=>{const t=Nt(),r=Tt(),i=T.useMemo(()=>{if(void 0===t)return[];const{series:i,stackingGroups:s}=t,{xAxis:n,yAxis:o,xAxisIds:a,yAxisIds:l}=r,c=a[0],d=l[0];return s.flatMap(({ids:t})=>t.flatMap(t=>{const{xAxisId:r,yAxisId:s,xAxisKey:a=c,yAxisKey:l=d,stackedData:u,data:h,connectNulls:p}=i[t],m=r??a,x=s??l,g=En(n[m].scale),f=o[x].scale,y=n[m].data,b=o[x].colorScale&&[x,"y"]||n[m].colorScale&&[m,"x"]||void 0,v=Ie().x(e=>g(e.x)).defined((e,t)=>p||null!=h[t]).y(e=>f(e.y[1])),w=y?.map((e,t)=>({x:e,y:u[t]}))??[],I=p?w.filter((e,t)=>null!=h[t]):w,k=v.curve(Ln(i[t].curve))(I)||"";return e({},i[t],{gradientUsed:b,d:k,seriesId:t})}))},[t,r]);return i})();return r.jsx("g",e({},l,{children:u.map(({d:e,seriesId:t,color:n,gradientUsed:o})=>r.jsx(eo,{id:t,d:e,color:n,gradientId:o&&d(...o),skipAnimation:c,slots:i,slotProps:s,onClick:a&&(e=>a(e,{type:"line",seriesId:t}))},t))}))}function io(e){return e instanceof Date?e.getTime():e}const so=["children","width","height","viewBox","disableAxisListener","className","title","desc"],no=o("svg",{name:"MuiChartsSurface",slot:"Root"})(()=>({touchAction:"none"})),oo=T.forwardRef(function(t,i){const s=u({props:t,name:"MuiChartsSurface"}),{children:o,width:a,height:l,viewBox:c,disableAxisListener:d=!1,className:h,title:p,desc:m}=s,x=n(s,so),g=e({width:a,height:l,x:0,y:0},c);return(e=>{const t=Rn(),r=nt(),{xAxis:i,yAxis:s,xAxisIds:n,yAxisIds:o}=Tt(),{dispatch:a}=T.useContext(_t),l=n[0],c=o[0],d=T.useRef({isInChart:!1,x:-1,y:-1});T.useEffect(()=>{const n=t.current;if(null===n||e)return()=>{};function o(e,t){const{scale:r,data:i,reverse:s}=e;if(!Ue(r)){const e=r.invert(t);if(void 0===i)return{value:e,index:-1};const s=io(e),n=i?.findIndex((t,r)=>{const n=io(t);return n>s&&(0===r||Math.abs(s-n)<=Math.abs(s-io(i[r-1])))||n<=s&&(r===i.length-1||Math.abs(io(e)-n)<Math.abs(io(e)-io(i[r+1])))});return{value:void 0!==n&&n>=0?i[n]:e,index:n}}const n=0===r.bandwidth()?Math.floor((t-Math.min(...r.range())+r.step()/2)/r.step()):Math.floor((t-Math.min(...r.range()))/r.step());if(n<0||n>=i.length)return null;if(s){const e=i.length-1-n;return{index:e,value:i[e]}}return{index:n,value:i[n]}}const u=()=>{d.current={isInChart:!1,x:-1,y:-1},a({type:"exitChart"})},h=e=>{const t="targetTouches"in e?e.targetTouches[0]:e,u=function(e,t){const r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r.matrixTransform(e.getScreenCTM().inverse())}(n,t);if(d.current.x=u.x,d.current.y=u.y,!r.isPointInside(u,{targetElement:e.target}))return void(d.current.isInChart&&(a({type:"exitChart"}),d.current.isInChart=!1));d.current.isInChart=!0;const h=o(i[l],u.x),p=o(s[c],u.y);a({type:"updateAxis",data:{x:h,y:p}})},p=e=>{const t=e.currentTarget;t&&t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId)};return n.addEventListener("pointerdown",p),n.addEventListener("pointermove",h),n.addEventListener("pointerout",u),n.addEventListener("pointercancel",u),n.addEventListener("pointerleave",u),()=>{n.removeEventListener("pointerdown",p),n.removeEventListener("pointermove",h),n.removeEventListener("pointerout",u),n.removeEventListener("pointercancel",u),n.removeEventListener("pointerleave",u)}},[t,a,c,s,l,i,e,r])})(d),r.jsxs(no,e({width:a,height:l,viewBox:`${g.x} ${g.y} ${g.width} ${g.height}`,ref:i,className:h},x,{children:[r.jsx("title",{children:p}),r.jsx("desc",{children:m}),o]}))}),ao=(t,r,i)=>{const s="x"===i?et:"DEFAULT_Y_AXIS_KEY";return[...t?.map((t,r)=>e({id:`defaultized-${i}-axis-${r}`},t))??[],...void 0===t||-1===t.findIndex(({id:e})=>e===s)?[{id:s,scaleType:"linear"}]:[]].map(t=>{const s=t.dataKey;if(void 0===s||void 0!==t.data)return t;if(void 0===r)throw new Error(`MUI X: ${i}-axis uses \`dataKey\` but no \`dataset\` is provided.`);return e({},t,{data:r.map(e=>e[s])})})},lo=["width","height","series","margin","xAxis","yAxis","zAxis","colors","dataset","sx","title","desc","disableAxisListener","highlightedItem","onHighlightChange","plugins","children","skipAnimation"],co=T.forwardRef(function(t,i){const{children:s,drawingProviderProps:o,seriesProviderProps:a,cartesianProviderProps:l,zAxisContextProps:c,highlightedProviderProps:d,chartsSurfaceProps:u,pluginProviderProps:p,animationProviderProps:m}=((t,r)=>{const{width:i,height:s,series:o,margin:a,xAxis:l,yAxis:c,zAxis:d,colors:u,dataset:p,sx:m,title:x,desc:g,disableAxisListener:f,highlightedItem:y,onHighlightChange:b,plugins:v,children:w,skipAnimation:I}=t,k=n(t,lo),A=T.useRef(null),j=h(r,A),[C,S]=((e,t,r)=>[T.useMemo(()=>ao(e,r,"x"),[e,r]),T.useMemo(()=>ao(t,r,"y"),[t,r])])(l,c,p),P={skipAnimation:I},M={plugins:v};return{children:w,drawingProviderProps:{width:i,height:s,margin:a,svgRef:A},seriesProviderProps:{series:o,colors:u,dataset:p},cartesianProviderProps:{xAxis:C,yAxis:S,dataset:p},zAxisContextProps:{zAxis:d,dataset:p},highlightedProviderProps:{highlightedItem:y,onHighlightChange:b},chartsSurfaceProps:e({},k,{width:i,height:s,ref:j,sx:m,title:x,desc:g,disableAxisListener:f}),pluginProviderProps:M,animationProviderProps:P,xAxis:C,yAxis:S}})(t,i);return r.jsx(st,e({},o,{children:r.jsx(Pt,e({},p,{children:r.jsx(Et,e({},a,{children:r.jsx(zt,e({},l,{children:r.jsx(qt,e({},c,{children:r.jsx(Dt,{children:r.jsx(Wt,e({},d,{children:r.jsxs(oo,e({},u,{children:[r.jsx(Wn,{}),r.jsx(Vn,e({},m,{children:s}))]}))}))})}))}))}))}))}))}),uo=o("div",{name:"MuiResponsiveChart",slot:"Container"})(({ownerState:e})=>({width:e.width??"100%",height:e.height??"100%",display:"flex",position:"relative",flexGrow:1,flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden","&>svg":{width:"100%",height:"100%"}})),ho=["width","height","resolveSizeBeforeRender","margin","children","series","colors","dataset","desc","disableAxisListener","highlightedItem","onHighlightChange","plugins","sx","title","viewBox","xAxis","yAxis","zAxis","skipAnimation"],po=T.forwardRef(function(t,i){const{hasIntrinsicSize:s,chartContainerProps:o,resizableChartContainerProps:a}=((t,r)=>{const{width:i,height:s,resolveSizeBeforeRender:o,margin:a,children:l,series:c,colors:d,dataset:u,desc:h,disableAxisListener:x,highlightedItem:g,onHighlightChange:f,plugins:y,sx:b,title:v,viewBox:w,xAxis:I,yAxis:k,zAxis:A,skipAnimation:j}=t,C=n(t,ho),{containerRef:S,width:P,height:M}=((e,t,r)=>{const i=T.useRef({displayError:!1,initialCompute:!0,computeRun:0}),s=T.useRef(null),[n,o]=T.useState(0),[a,l]=T.useState(0),c=T.useCallback(()=>{const e=s?.current;if(!e)return{};const t=p(e).getComputedStyle(e),r=Math.floor(parseFloat(t.height))||0,i=Math.floor(parseFloat(t.width))||0;return o(i),l(r),{width:i,height:r}},[]);return T.useEffect(()=>{i.current.displayError=!0},[]),m(()=>{if(!r||!i.current.initialCompute||i.current.computeRun>20)return;const e=c();e.width!==n||e.height!==a?i.current.computeRun+=1:i.current.initialCompute&&(i.current.initialCompute=!1)},[n,a,c,r]),m(()=>{if(void 0!==e&&void 0!==t)return()=>{};c();const r=s.current;if("undefined"==typeof ResizeObserver)return()=>{};let i;const n=new ResizeObserver(()=>{i=requestAnimationFrame(()=>{c()})});return r&&n.observe(r),()=>{i&&cancelAnimationFrame(i),r&&n.unobserve(r)}},[c,t,e]),{containerRef:s,width:e??n,height:t??a}})(i,s,o);return{hasIntrinsicSize:P&&M,chartContainerProps:{margin:a,children:l,series:c,colors:d,dataset:u,desc:h,disableAxisListener:x,highlightedItem:g,onHighlightChange:f,plugins:y,sx:b,title:v,viewBox:w,xAxis:I,yAxis:k,zAxis:A,skipAnimation:j,width:P,height:M,ref:r},resizableChartContainerProps:e({},C,{ownerState:{width:i,height:s},ref:S})}})(t,i);return r.jsx(uo,e({},a,{children:s?r.jsx(co,e({},o)):null}))});function mo(e){return c("MuiMarkElement",e)}d("MuiMarkElement",["root","highlighted","faded"]);const xo=e=>{const{classes:t,id:r,isFaded:i,isHighlighted:s}=e;return l({root:["root",`series-${r}`,s&&"highlighted",i&&"faded"]},mo,t)},go=["x","y","id","classes","color","dataIndex","onClick","skipAnimation","shape"];function fo(t){const{x:s,y:o,id:a,classes:l,color:c,dataIndex:d,onClick:u,skipAnimation:h,shape:p}=t,m=n(t,go),x=i(),g=Kt(),{isFaded:f,isHighlighted:y}=Vt({seriesId:a}),{axis:b}=T.useContext(_t),v=nn({to:{x:s,y:o},immediate:h}),w={id:a,classes:l,isHighlighted:b.x?.index===d||y,isFaded:f},I=xo(w);return r.jsx(Cn.circle,e({},m,{cx:v.x,cy:v.y,r:5,fill:(x.vars||x).palette.background.paper,stroke:c,strokeWidth:2,className:I.root,onClick:u,cursor:u?"pointer":"unset"},g({type:"line",seriesId:a,dataIndex:d})))}function yo(e){return"circle cross diamond square star triangle wye".split(/ /).indexOf(e)||0}const bo=["x","y","id","classes","color","shape","dataIndex","onClick","skipAnimation"],vo=o(Cn.path,{name:"MuiMarkElement",slot:"Root",overridesResolver:(e,t)=>t.root})(({ownerState:e,theme:t})=>({fill:(t.vars||t).palette.background.paper,stroke:e.color,strokeWidth:2}));function wo(t){const{x:i,y:s,id:o,classes:a,color:l,shape:c,dataIndex:d,onClick:u,skipAnimation:h}=t,p=n(t,bo),m=Kt(),{isFaded:x,isHighlighted:g}=Vt({seriesId:o}),{axis:f}=T.useContext(_t),y=nn({to:{x:i,y:s},immediate:h}),b={id:o,classes:a,isHighlighted:f.x?.index===d||g,isFaded:x,color:l},v=xo(b);return r.jsx(vo,e({},p,{style:{transform:hn([y.x,y.y],(e,t)=>`translate(${e}px, ${t}px)`),transformOrigin:hn([y.x,y.y],(e,t)=>`${e}px ${t}px`)},ownerState:b,className:v.root,d:ke(Ae[yo(c)])(),onClick:u,cursor:u?"pointer":"unset"},m({type:"line",seriesId:o,dataIndex:d})))}const Io=["slots","slotProps","skipAnimation","onItemClick","experimentalRendering"];function ko(t){const{slots:i,slotProps:s,skipAnimation:o,onItemClick:a,experimentalRendering:l}=t,c=n(t,Io),d=Un(o),u=Nt(),h=Tt(),p=Mn(),m=nt(),x=i?.mark??(l?fo:wo);if(void 0===u)return null;const{series:g,stackingGroups:f}=u,{xAxis:y,yAxis:b,xAxisIds:v,yAxisIds:w}=h,I=v[0],k=w[0];return r.jsx("g",e({},c,{children:f.flatMap(({ids:t})=>t.map(t=>{const{xAxisId:i,yAxisId:n,xAxisKey:o=I,yAxisKey:l=k,stackedData:c,data:u,showMark:h=!0}=g[t];if(!1===h)return null;const f=i??o,v=n??l,w=En(y[f].scale),A=b[v].scale,j=y[f].data;if(void 0===j)throw new Error(`MUI X: ${f===et?"The first `xAxis`":`The x-axis with id "${f}"`} should have data property to be able to display a line plot.`);const C=Pn(`${p}-${t}-line-clip`),S=kt(g[t],y[f],b[v]);return r.jsx("g",{clipPath:`url(#${C})`,children:j?.map((e,t)=>{const r=null==u[t]?null:c[t][1];return{x:w(e),y:null===r?null:A(r),position:e,value:r,index:t}}).filter(({x:e,y:t,index:r,position:i,value:s})=>null!==s&&null!==t&&!!m.isPointInside({x:e,y:t})&&(!0===h||h({x:e,y:t,index:r,position:i,value:s}))).map(({x:i,y:n,index:o})=>r.jsx(x,e({id:t,dataIndex:o,shape:"circle",color:S(o),x:i,y:n,skipAnimation:d,onClick:a&&(e=>a(e,{type:"line",seriesId:t,dataIndex:o}))},s?.mark),`${t}-${o}`))},t)}))}))}function Ao(e){return c("MuiChartsAxis",e)}const jo=d("MuiChartsAxis",["root","line","tickContainer","tick","tickLabel","label","directionX","directionY","top","bottom","left","right"]),Co=o("g",{name:"MuiChartsAxis",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:t})=>({[`& .${jo.tickLabel}`]:e({},t.typography.caption,{fill:(t.vars||t).palette.text.primary}),[`& .${jo.label}`]:e({},t.typography.body1,{fill:(t.vars||t).palette.text.primary}),[`& .${jo.line}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges",strokeWidth:1},[`& .${jo.tick}`]:{stroke:(t.vars||t).palette.text.primary,shapeRendering:"crispEdges"}})),So={widthCache:{},cacheCount:0},Po={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Mo=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],Eo="mui_measurement_span";function Ro(e,t){return Mo.indexOf(e)>=0&&t===+t?`${t}px`:t}function No(e){return e.split("").reduce((e,t)=>t===t.toUpperCase()?[...e,"-",t.toLowerCase()]:[...e,t],[]).join("")}let Fo;function zo({style:t,needsComputation:r,text:i}){return i.split("\n").map(i=>e({text:i},r?((t,r={})=>{if(null==t||"undefined"==typeof window)return{width:0,height:0};const i=`${t}`,s=(e=>Object.keys(e).sort().reduce((t,r)=>`${t}${No(r)}:${Ro(r,e[r])};`,""))(r),n=`${i}-${s}`;if(So.widthCache[n])return So.widthCache[n];try{let t=document.getElementById(Eo);null===t&&(t=document.createElement("span"),t.setAttribute("id",Eo),t.setAttribute("aria-hidden","true"),document.body.appendChild(t));const s=e({},Po,r);Object.keys(s).map(e=>(t.style[No(e)]=Ro(e,s[e]),e)),t.textContent=i;const o=t.getBoundingClientRect(),a={width:o.width,height:o.height};return So.widthCache[n]=a,So.cacheCount+1>2e3?(So.cacheCount=0,So.widthCache={}):So.cacheCount+=1,Fo&&clearTimeout(Fo),Fo=setTimeout(()=>{t.textContent=""},0),a}catch{return{width:0,height:0}}})(i,t):{width:0,height:0}))}const To=["x","y","style","text","ownerState"],_o=["angle","textAnchor","dominantBaseline"];function Oo(t){const{x:i,y:s,style:o,text:a}=t,l=n(t,To),c=o??{},{angle:d,textAnchor:u,dominantBaseline:h}=c,p=n(c,_o),m=T.useMemo(()=>zo({style:p,needsComputation:a.includes("\n"),text:a}),[p,a]);let x;switch(h){case"hanging":x=0;break;case"central":x=(m.length-1)/2*-m[0].height;break;default:x=(m.length-1)*-m[0].height}const g=[];return d&&g.push(`rotate(${d}, ${i}, ${s})`),r.jsx("text",e({},l,{transform:g.length>0?g.join(" "):void 0,x:i,y:s,textAnchor:u,dominantBaseline:h,style:p,children:m.map((e,t)=>r.jsx("tspan",{x:i,dy:`${0===t?x:m[0].height}px`,dominantBaseline:h,children:e.text},t))}))}const Do=["scale","tickNumber","reverse"];const Lo=o(Co,{name:"MuiChartsXAxis",slot:"Root",overridesResolver:(e,t)=>t.root})({}),$o={position:"bottom",disableLine:!1,disableTicks:!1,tickSize:6};function Bo(t){const{xAxisIds:s,xAxis:o}=Tt(),c=o[t.axisId??s[0]],{scale:d,tickNumber:h,reverse:p}=c,x=n(c,Do),g=function(e=!1){const[t,r]=T.useState(!1);return m(()=>{e||r(!0)},[e]),T.useEffect(()=>{e&&r(!0)},[e]),t}(),f=u({props:e({},x,t),name:"MuiChartsXAxis"}),y=e({},$o,f),{position:b,disableLine:v,disableTicks:w,tickLabelStyle:I,label:k,labelStyle:A,tickFontSize:j,labelFontSize:C,tickSize:S,valueFormatter:P,slots:M,slotProps:E,tickInterval:R,tickLabelInterval:N,tickPlacement:F,tickLabelPlacement:z,sx:_}=y,O=i(),D=(e=>{const{classes:t,position:r}=e;return l({root:["root","directionX",r],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},Ao,t)})(e({},y,{theme:O})),{left:L,top:$,width:B,height:H,isPointInside:W}=nt(),G=w?4:S,V="bottom"===b?1:-1,U=M?.axisLine??"line",q=M?.axisTick??"line",K=M?.axisTickLabel??Oo,X=M?.axisLabel??Oo,Y=a({elementType:K,externalSlotProps:E?.axisTickLabel,additionalProps:{style:e({textAnchor:"middle",dominantBaseline:"bottom"===b?"hanging":"auto",fontSize:j??12},I)},className:D.tickLabel,ownerState:{}}),Q=function(t,{tickLabelStyle:r,tickLabelInterval:i,reverse:s,isMounted:n}){const o=t.map(t=>{if(!n||void 0===t.formattedValue)return e({},t,{width:0,height:0});const i=zo({style:r,needsComputation:!0,text:t.formattedValue});return e({},t,{width:Math.max(...i.map(e=>e.width)),height:Math.max(i.length*i[0].height)})});if("function"==typeof i)return o.map((t,r)=>e({},t,{skipLabel:!i(t.value,r)}));let a=0,l=0;const c=s?-1:1;return o.map((t,i)=>{const{width:s,offset:n,labelOffset:o,height:d}=t,u=function(e,t,r=0){const i=Math.min(Math.abs(r)%180,Math.abs(Math.abs(r)%180-180)%180);if(i<5)return e;if(i>85)return t;const s=i*Math.PI/180;return s<Math.atan2(t,e)?e/Math.cos(s):t/Math.sin(s)}(s,d,r?.angle),h=n+o;return a=h-c*(1.2*u)/2,i>0&&c*a<c*l?e({},t,{skipLabel:!0}):(l=h+c*(1.2*u)/2,t)})}(Xe({scale:d,tickNumber:h,valueFormatter:P,tickInterval:R,tickPlacement:F,tickLabelPlacement:z}),{tickLabelStyle:Y.style,tickLabelInterval:N,reverse:p,isMounted:g}),J={x:L+B/2,y:V*(G+22)},Z=a({elementType:X,externalSlotProps:E?.axisLabel,additionalProps:{style:e({fontSize:C??14,textAnchor:"middle",dominantBaseline:"bottom"===b?"hanging":"auto"},A)},ownerState:{}}),ee=d.domain(),te=Ue(d);return te&&0===ee.length||!te&&ee.some(qe)?null:r.jsxs(Lo,{transform:`translate(0, ${"bottom"===b?$+H:$})`,className:D.root,sx:_,children:[!v&&r.jsx(U,e({x1:L,x2:L+B,className:D.line},E?.axisLine)),Q.map(({formattedValue:t,offset:i,labelOffset:s,skipLabel:n},o)=>{const a=s??0,l=V*(G+3),c=W({x:i,y:-1},{direction:"x"}),d=W({x:i+a,y:-1},{direction:"x"});return r.jsxs("g",{transform:`translate(${i}, 0)`,className:D.tickContainer,children:[!w&&c&&r.jsx(q,e({y2:V*G,className:D.tick},E?.axisTick)),void 0!==t&&!n&&d&&r.jsx(K,e({x:a,y:l},Y,{text:t.toString()}))]},o)}),k&&r.jsx("g",{className:D.label,children:r.jsx(X,e({},J,Z,{text:k}))})]})}const Ho=["scale","tickNumber"],Wo=o(Co,{name:"MuiChartsYAxis",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Go={position:"left",disableLine:!1,disableTicks:!1,tickFontSize:12,labelFontSize:14,tickSize:6};function Vo(t){const{yAxisIds:s,yAxis:o}=Tt(),c=o[t.axisId??s[0]],{scale:d,tickNumber:h}=c,p=n(c,Ho),m=u({props:e({},p,t),name:"MuiChartsYAxis"}),g=e({},Go,m),{position:f,disableLine:y,disableTicks:b,tickFontSize:v,label:w,labelFontSize:I,labelStyle:k,tickLabelStyle:A,tickSize:j,valueFormatter:C,slots:S,slotProps:P,tickPlacement:M,tickLabelPlacement:E,tickInterval:R,tickLabelInterval:N,sx:F}=g,z=i(),T=x(),_=(e=>{const{classes:t,position:r}=e;return l({root:["root","directionY",r],line:["line"],tickContainer:["tickContainer"],tick:["tick"],tickLabel:["tickLabel"],label:["label"]},Ao,t)})(e({},g,{theme:z})),{left:O,top:D,width:L,height:$,isPointInside:B}=nt(),H=b?4:j,W=Xe({scale:d,tickNumber:h,valueFormatter:C,tickPlacement:M,tickLabelPlacement:E,tickInterval:R}),G="right"===f?1:-1,V={x:G*(v+H+10),y:D+$/2},U=S?.axisLine??"line",q=S?.axisTick??"line",K=S?.axisTickLabel??Oo,X=S?.axisLabel??Oo,Y=!T&&"right"===f||T&&"right"!==f,Q=a({elementType:K,externalSlotProps:P?.axisTickLabel,additionalProps:{style:e({fontSize:v,textAnchor:Y?"start":"end",dominantBaseline:"central"},A)},className:_.tickLabel,ownerState:{}}),J=a({elementType:X,externalSlotProps:P?.axisLabel,additionalProps:{style:e({fontSize:I,angle:90*G,textAnchor:"middle",dominantBaseline:"auto"},k)},ownerState:{}}),Z=a({elementType:U,externalSlotProps:P?.axisLine,additionalProps:{strokeLinecap:"square"},ownerState:{}}),ee=d.domain(),te=Ue(d);return te&&0===ee.length||!te&&ee.some(qe)?null:r.jsxs(Wo,{transform:`translate(${"right"===f?O+L:O}, 0)`,className:_.root,sx:F,children:[!y&&r.jsx(U,e({y1:D,y2:D+$,className:_.line},Z)),W.map(({formattedValue:t,offset:i,labelOffset:s,value:n},o)=>{const a=G*(H+2),l=s,c="function"==typeof N&&!N?.(n,o);return B({x:-1,y:i},{direction:"y"})?r.jsxs("g",{transform:`translate(0, ${i})`,className:_.tickContainer,children:[!b&&r.jsx(q,e({x2:G*H,className:_.tick},P?.axisTick)),void 0!==t&&!c&&r.jsx(K,e({x:a,y:l,text:t.toString()},Q))]},o):null}),w&&r.jsx("g",{className:_.label,children:r.jsx(X,e({},V,J,{text:w}))})]})}const Uo=(e,t)=>null==e?null:"object"==typeof e?e.axisId??t??null:e,qo=(t,r,i)=>"object"==typeof t?e({},t,{slots:e({},r,t?.slots),slotProps:e({},i,t?.slotProps)}):{slots:r,slotProps:i};function Ko(t){const{topAxis:i,leftAxis:s,rightAxis:n,bottomAxis:o,slots:a,slotProps:l}=t,{xAxis:c,xAxisIds:d,yAxis:u,yAxisIds:h}=Tt(),p=Uo(void 0===s?h[0]:s,h[0]),m=Uo(void 0===o?d[0]:o,d[0]),x=Uo(i,d[0]),g=Uo(n,h[0]);if(null!==x&&!c[x])throw new Error([`MUI X: id used for top axis "${x}" is not defined.`,`Available ids are: ${d.join(", ")}.`].join("\n"));if(null!==p&&!u[p])throw new Error([`MUI X: id used for left axis "${p}" is not defined.`,`Available ids are: ${h.join(", ")}.`].join("\n"));if(null!==g&&!u[g])throw new Error([`MUI X: id used for right axis "${g}" is not defined.`,`Available ids are: ${h.join(", ")}.`].join("\n"));if(null!==m&&!c[m])throw new Error([`MUI X: id used for bottom axis "${m}" is not defined.`,`Available ids are: ${d.join(", ")}.`].join("\n"));const f=qo(i,a,l),y=qo(o,a,l),b=qo(s,a,l),v=qo(n,a,l);return r.jsxs(T.Fragment,{children:[x&&r.jsx(Bo,e({},f,{position:"top",axisId:x})),m&&r.jsx(Bo,e({},y,{position:"bottom",axisId:m})),p&&r.jsx(Vo,e({},b,{position:"left",axisId:p})),g&&r.jsx(Vo,e({},v,{position:"right",axisId:g}))]})}function Xo(t){if(null===t)return{getBoundingClientRect:()=>({width:0,height:0,x:0,y:0,top:0,right:0,bottom:0,left:0,toJSON:()=>""})};const{x:r,y:i}=t,s={width:0,height:0,x:r,y:i,top:i,right:r,bottom:i,left:r};return{getBoundingClientRect:()=>e({},s,{toJSON:()=>JSON.stringify(s)})}}function Yo(e){return c("MuiChartsTooltip",e)}const Qo=d("MuiChartsTooltip",["root","paper","table","row","cell","mark","markCell","labelCell","valueCell"]),Jo=o("div",{name:"MuiChartsTooltip",slot:"Container",overridesResolver:(e,t)=>t.paper})(({theme:e})=>({boxShadow:e.shadows[1],backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),borderRadius:e.shape.borderRadius})),Zo=o("table",{name:"MuiChartsTooltip",slot:"Table",overridesResolver:(e,t)=>t.table})(({theme:e})=>({borderSpacing:0,"& thead td":{borderBottom:`solid ${(e.vars||e).palette.divider} 1px`}})),ea=o("tr",{name:"MuiChartsTooltip",slot:"Row",overridesResolver:(e,t)=>t.row})(({theme:e})=>({"tr:first-of-type& td":{paddingTop:e.spacing(1)},"tr:last-of-type& td":{paddingBottom:e.spacing(1)}})),ta=o("td",{name:"MuiChartsTooltip",slot:"Cell",overridesResolver:(e,t)=>t.cell})(({theme:e})=>({verticalAlign:"middle",color:(e.vars||e).palette.text.secondary,[`&.${Qo.labelCell}`]:{paddingLeft:e.spacing(1)},[`&.${Qo.valueCell}`]:{paddingLeft:e.spacing(4),color:(e.vars||e).palette.text.primary},"td:first-of-type&":{paddingLeft:e.spacing(2)},"td:last-of-type&":{paddingRight:e.spacing(2)}})),ra=o("div",{name:"MuiChartsTooltip",slot:"Mark",overridesResolver:(e,t)=>t.mark,shouldForwardProp:e=>g(e)&&"color"!==e})(({theme:e,color:t})=>({width:e.spacing(1),height:e.spacing(1),borderRadius:"50%",boxShadow:e.shadows[1],background:t,borderColor:(e.vars||e).palette.background.paper,border:`solid ${(e.vars||e).palette.background.paper} ${e.spacing(.25)}`,boxSizing:"content-box"}));function ia(t){const{series:i,itemData:s,sx:n,classes:o,getColor:a}=t;if(void 0===s.dataIndex||!i.data[s.dataIndex])return null;const{displayedLabel:l,color:c}="pie"===i.type?{color:a(s.dataIndex),displayedLabel:jt(i.data[s.dataIndex].label,"tooltip")}:{color:a(s.dataIndex),displayedLabel:jt(i.label,"tooltip")},d="pie"===i.type?e({},i.data[s.dataIndex],{label:jt(i.data[s.dataIndex].label,"tooltip")}):i.data[s.dataIndex],u=i.valueFormatter?.(d,{dataIndex:s.dataIndex});return r.jsx(Jo,{sx:n,className:o.paper,children:r.jsx(Zo,{className:o.table,children:r.jsx("tbody",{children:r.jsxs(ea,{className:o.row,children:[r.jsx(ta,{className:f(o.markCell,o.cell),children:r.jsx(ra,{color:c,className:o.mark})}),r.jsx(ta,{className:f(o.labelCell,o.cell),children:l}),r.jsx(ta,{className:f(o.valueCell,o.cell),children:u})]})})})})}function sa(t){const{content:i,itemData:s,sx:n,classes:o,contentProps:l}=t,c=Rt()[s.type].series[s.seriesId],{xAxis:d,yAxis:u,xAxisIds:h,yAxisIds:p}=Tt(),{zAxis:m,zAxisIds:x}=T.useContext(Ut),g=Mt(),f=c.xAxisId??c.xAxisKey??h[0],y=c.yAxisId??c.yAxisKey??p[0],b=c.zAxisId??c.zAxisKey??x[0],v=g[c.type]?.(c,f&&d[f],y&&u[y],b&&m[b])??(()=>""),w=i??ia,I=a({elementType:w,externalSlotProps:l,additionalProps:{itemData:s,series:c,sx:n,classes:o,getColor:v},ownerState:{}});return r.jsx(w,e({},I))}let na;const oa=new class{constructor(){if(this.types=new Set,na)throw new Error("You can only create one instance!");na=this.types}addType(e){this.types.add(e)}getTypes(){return this.types}};function aa(e){return oa.getTypes().has(e)}function la(e){return aa(e.type)}function ca(e){const{series:t,axis:i,dataIndex:s,axisValue:n,sx:o,classes:a}=e;if(null==s)return null;const l=i.valueFormatter??(e=>"utc"===i.scaleType?function(e){return e instanceof Date?e.toUTCString():e.toLocaleString()}(e):e.toLocaleString());return r.jsx(Jo,{sx:o,className:a.paper,children:r.jsxs(Zo,{className:a.table,children:[null!=n&&!i.hideTooltip&&r.jsx("thead",{children:r.jsx(ea,{children:r.jsx(ta,{colSpan:3,children:r.jsx(y,{children:l(n,{location:"tooltip"})})})})}),r.jsx("tbody",{children:t.filter(la).map(({id:e,label:t,valueFormatter:i,data:n,getColor:o})=>{const l=i(n[s]??null,{dataIndex:s});if(null==l)return null;const c=jt(t,"tooltip"),d=o(s);return r.jsxs(ea,{className:a.row,children:[r.jsx(ta,{className:f(a.markCell,a.cell),children:d&&r.jsx(ra,{color:d,className:a.mark})}),r.jsx(ta,{className:f(a.labelCell,a.cell),children:c?r.jsx(y,{children:c}):null}),r.jsx(ta,{className:f(a.valueCell,a.cell),children:r.jsx(y,{children:l})})]},e)})})]})})}function da(t){const{content:i,contentProps:s,axisData:n,sx:o,classes:l}=t,c=n.x&&-1!==n.x.index,d=c?n.x&&n.x.index:n.y&&n.y.index,u=c?n.x&&n.x.value:n.y&&n.y.value,{xAxisIds:h,xAxis:p,yAxisIds:m,yAxis:x}=Tt(),{zAxisIds:g,zAxis:f}=T.useContext(Ut),y=Rt(),b=Mt(),v=c?h[0]:m[0],w=T.useMemo(()=>{const t=[];return Object.keys(y).filter(aa).forEach(r=>{y[r].seriesOrder.forEach(i=>{const s=y[r].series[i],n=s.xAxisId??s.xAxisKey,o=s.yAxisId??s.yAxisKey,a=c?n:o;if(void 0===a||a===v){const s=y[r].series[i],a=n??h[0],l=o??m[0],c=s.zAxisId??s.zAxisKey??g[0],d=b[r]?.(s,p[a],x[l],c&&f[c])??(()=>"");t.push(e({},s,{getColor:d}))}})}),t},[v,b,c,y,p,h,x,m,f,g]),I=T.useMemo(()=>c?p[v]:x[v],[v,c,p,x]),k=i??ca,A=a({elementType:k,externalSlotProps:s,additionalProps:{axisData:n,series:w,axis:I,dataIndex:d,axisValue:u,sx:o,classes:l},ownerState:{}});return r.jsx(k,e({},A))}oa.addType("bar"),oa.addType("line"),oa.addType("scatter");const ua=o(v,{name:"MuiChartsTooltip",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({pointerEvents:"none",zIndex:e.zIndex.modal}));function ha(t){const i=u({props:t,name:"MuiChartsTooltip"}),{trigger:s="axis",itemContent:n,axisContent:o,slots:c,slotProps:d}=i,h=function(){const e=Rn(),[t,r]=T.useState(null);return T.useEffect(()=>{const t=e.current;if(null===t)return()=>{};const i=e=>{"mouse"!==e.pointerType&&r(null)},s=e=>{r({x:e.clientX,y:e.clientY,height:e.height,pointerType:e.pointerType})};return t.addEventListener("pointerdown",s),t.addEventListener("pointermove",s),t.addEventListener("pointerup",i),()=>{t.removeEventListener("pointerdown",s),t.removeEventListener("pointermove",s),t.removeEventListener("pointerup",i)}},[e]),t}(),{item:p,axis:m}=T.useContext(_t),x="item"===s?p:m,g=function(e,t){if("item"===e)return null!==t;const r=null!==t.x,i=null!==t.y;return r||i}(s,x),f=null!==h&&g,y=(e=>{const{classes:t}=e;return l({root:["root"],paper:["paper"],table:["table"],row:["row"],cell:["cell"],mark:["mark"],markCell:["markCell"],labelCell:["labelCell"],valueCell:["valueCell"]},Yo,t)})({classes:i.classes}),v=c?.popper??ua,w=a({elementType:v,externalSlotProps:d?.popper,additionalProps:{open:f,placement:"mouse"===h?.pointerType?"right-start":"top",anchorEl:Xo(h),modifiers:[{name:"offset",options:{offset:[0,"touch"===h?.pointerType?40-h.height:0]}}]},ownerState:{}});return"none"===s?null:r.jsx(b,{children:f&&r.jsx(v,e({},w,{className:y.root,children:"item"===s?r.jsx(sa,{itemData:x,content:c?.itemContent??n,contentProps:d?.itemContent,sx:{mx:2},classes:y}):r.jsx(da,{axisData:x,content:c?.axisContent??o,contentProps:d?.axisContent,sx:{mx:2},classes:y})}))})}const pa={bar:e=>{const{seriesOrder:t,series:r}=e;return t.reduce((e,t)=>{const i=jt(r[t].label,"legend");return void 0===i||e.push({id:t,seriesId:t,color:r[t].color,label:i}),e},[])},scatter:e=>{const{seriesOrder:t,series:r}=e;return t.reduce((e,t)=>{const i=jt(r[t].label,"legend");return void 0===i||e.push({id:t,seriesId:t,color:r[t].color,label:i}),e},[])},line:e=>{const{seriesOrder:t,series:r}=e;return t.reduce((e,t)=>{const i=jt(r[t].label,"legend");return void 0===i||e.push({id:t,seriesId:t,color:r[t].color,label:i}),e},[])},pie:e=>{const{seriesOrder:t,series:r}=e;return t.reduce((e,t)=>(r[t].data.forEach(r=>{const i=jt(r.label,"legend");void 0!==i&&e.push({id:r.id,seriesId:t,color:r.color,label:i,itemId:r.id})}),e),[])}};function ma(e){return c("MuiChartsLegend",e)}d("MuiChartsLegend",["root","series","itemBackground","mark","label","column","row"]);const xa=["label"];function ga(t){const i=x(),{id:s,positionY:n,label:o,positionX:a,innerHeight:l,innerWidth:c,legendWidth:d,color:u,gapX:h,gapY:p,itemMarkHeight:m,itemMarkWidth:g,markGap:y,labelStyle:b,classes:v,onClick:w}=t;return r.jsxs("g",{className:f(v?.series,`${v?.series}-${s}`),transform:`translate(${h+(i?d-a:a)} ${p+n})`,children:[r.jsx("rect",{x:i?-(c+2):-2,y:-m/2-2,width:c+4,height:l+4,fill:"transparent",className:v?.itemBackground,onClick:w,style:{pointerEvents:w?"all":"none",cursor:w?"pointer":"unset"}}),r.jsx("rect",{className:v?.mark,x:i?-g:0,y:-m/2,width:g,height:m,fill:u,style:{pointerEvents:"none"}}),r.jsx(Oo,{style:e({pointerEvents:"none"},b),text:o,x:(i?-1:1)*(g+y),y:0})]})}const fa=["rotate","dominantBaseline"],ya=o("g",{name:"MuiChartsLegend",slot:"Root",overridesResolver:(e,t)=>t.root})({});function ba(t){const{position:s,direction:o,itemsToDisplay:a,classes:l,itemMarkWidth:c=20,itemMarkHeight:d=20,markGap:u=5,itemGap:h=10,padding:p=10,labelStyle:m,onItemClick:x}=t,g=i(),f=nt(),y=T.useMemo(()=>e({},g.typography.subtitle1,{color:"inherit",dominantBaseline:"central",textAnchor:"start",fill:(g.vars||g).palette.text.primary,lineHeight:1},m),[m,g]),v=T.useMemo(()=>(t=>"number"==typeof t?{left:t,right:t,top:t,bottom:t}:e({left:0,right:0,top:0,bottom:0},t))(p),[p]),w=T.useCallback((t,r={})=>{const i=zo({style:n(r,fa),needsComputation:!0,text:t}),s={innerWidth:c+u+Math.max(...i.map(e=>e.width)),innerHeight:Math.max(d,i.length*i[0].height)};return e({},s,{outerWidth:s.innerWidth+h,outerHeight:s.innerHeight+h})},[h,d,c,u]),I=f.left+f.width+f.right,k=f.top+f.height+f.bottom,A=I-v.left-v.right,j=k-v.top-v.bottom,[C,S,P]=T.useMemo(()=>function(t,r,i,s,o,a,l){let c=0,d=0,u=0,h=0,p=0;const m=[0];return[t.map(t=>{let{label:x}=t,g=n(t,xa);const f=r(x,i),y=e({},g,{label:x,positionX:c,positionY:d,innerHeight:f.innerHeight,innerWidth:f.innerWidth,outerHeight:f.outerHeight,outerWidth:f.outerWidth,rowIndex:p});return"row"===s&&(c+f.innerWidth>o&&(c=0,d+=m[p],p+=1,m.length<=p&&m.push(0),y.positionX=c,y.positionY=d,y.rowIndex=p),u=Math.max(u,c+f.outerWidth),h=Math.max(h,d+f.outerHeight),m[p]=Math.max(m[p],f.outerHeight),c+=f.outerWidth),"column"===s&&(d+f.innerHeight>a&&(c=u+l,d=0,p=0,y.positionX=c,y.positionY=d,y.rowIndex=p),m.length<=p&&m.push(0),u=Math.max(u,c+f.outerWidth),h=Math.max(h,d+f.outerHeight),p+=1,d+=f.outerHeight),y}).map(t=>e({},t,{positionY:t.positionY+("row"===s?m[t.rowIndex]/2:t.outerHeight/2)})),u,h]}(a,w,y,o,A,j,h),[a,w,y,o,A,j,h]),M=T.useMemo(()=>{switch(s.horizontal){case"left":return v.left;case"right":return I-v.right-S;default:return(I-S)/2}},[s.horizontal,v.left,v.right,I,S]),E=T.useMemo(()=>{switch(s.vertical){case"top":return v.top;case"bottom":return k-v.bottom-P;default:return(k-P)/2}},[s.vertical,v.top,v.bottom,k,P]);return r.jsx(b,{children:r.jsx(ya,{className:l?.root,children:C.map((t,r)=>T.createElement(ga,e({},t,{key:t.id,gapX:M,gapY:E,legendWidth:S,itemMarkHeight:d,itemMarkWidth:c,markGap:u,labelStyle:y,classes:l,onClick:x?e=>x(e,r):void 0})))})})}const va=["drawingArea","seriesToDisplay","hidden","onItemClick"];function wa(t){const{seriesToDisplay:i,hidden:s,onItemClick:o}=t,a=n(t,va);return s?null:r.jsx(ba,e({},a,{itemsToDisplay:i,onItemClick:o?(e,t)=>{return o(e,{type:"series",color:(r=i[t]).color,label:r.label,seriesId:r.seriesId,itemId:r.itemId},t);var r}:void 0}))}const Ia=["slots","slotProps"];function ka(t){const s=u({props:t,name:"MuiChartsLegend"}),o=e({direction:"row"},s,{position:e({horizontal:"middle",vertical:"top"},s.position)}),{slots:c,slotProps:d}=o,h=n(o,Ia),p=i(),m=(e=>{const{classes:t,direction:r}=e;return l({root:["root",r],mark:["mark"],label:["label"],series:["series"],itemBackground:["itemBackground"]},ma,t)})(e({},o,{theme:p})),x=nt(),g=Rt(),f=function(e){return Object.keys(e).flatMap(t=>{const r=pa[t];return void 0===r?[]:r(e[t])})}(g),y=c?.legend??wa,b=a({elementType:y,externalSlotProps:d?.legend,additionalProps:e({},h,{classes:m,drawingArea:x,series:g,seriesToDisplay:f}),ownerState:{}});return r.jsx(y,e({},b))}function Aa(e){return c("MuiChartsAxisHighlight",e)}d("MuiChartsAxisHighlight",["root"]);const ja=o("path",{name:"MuiChartsAxisHighlight",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:t})=>({pointerEvents:"none",variants:[{props:{axisHighlight:"band"},style:e({fill:"white",fillOpacity:.1},t.applyStyles("light",{fill:"gray"}))},{props:{axisHighlight:"line"},style:e({strokeDasharray:"5 2",stroke:"#ffffff"},t.applyStyles("light",{stroke:"#000000"}))}]}));function Ca(e){const{x:t,y:i}=e,{xAxisIds:s,xAxis:n,yAxisIds:o,yAxis:a}=Tt(),c=l({root:["root"]},Aa),d=s[0],u=o[0],h=n[d].scale,p=a[u].scale,{axis:m}=T.useContext(_t),x=En(h),g=En(p),f=m.x,y=m.y,b="band"===t&&null!==f&&Ue(h),v="band"===i&&null!==y&&Ue(p);return r.jsxs(T.Fragment,{children:[b&&void 0!==h(f.value)&&r.jsx(ja,{d:`M ${h(f.value)-(h.step()-h.bandwidth())/2} ${p.range()[0]} l ${h.step()} 0 l 0 ${p.range()[1]-p.range()[0]} l ${-h.step()} 0 Z`,className:c.root,ownerState:{axisHighlight:"band"}}),v&&void 0!==p(y.value)&&r.jsx(ja,{d:`M ${h.range()[0]} ${p(y.value)-(p.step()-p.bandwidth())/2} l 0 ${p.step()} l ${h.range()[1]-h.range()[0]} 0 l 0 ${-p.step()} Z`,className:c.root,ownerState:{axisHighlight:"band"}}),"line"===t&&null!==m.x&&r.jsx(ja,{d:`M ${x(m.x.value)} ${p.range()[0]} L ${x(m.x.value)} ${p.range()[1]}`,className:c.root,ownerState:{axisHighlight:"line"}}),"line"===i&&null!==m.y&&r.jsx(ja,{d:`M ${h.range()[0]} ${g(m.y.value)} L ${h.range()[1]} ${g(m.y.value)}`,className:c.root,ownerState:{axisHighlight:"line"}})]})}function Sa(t){const{id:i,offset:s}=t,{left:n,top:o,width:a,height:l}=nt(),c=e({top:0,right:0,bottom:0,left:0},s);return r.jsx("clipPath",{id:i,children:r.jsx("rect",{x:n-c.left,y:o-c.top,width:a+c.left+c.right,height:l+c.top+c.bottom})})}const Pa=["x","y","id","classes","color"];function Ma(e){return c("MuiHighlightElement",e)}d("MuiHighlightElement",["root"]);const Ea=o("circle",{name:"MuiHighlightElement",slot:"Root",overridesResolver:(e,t)=>t.root})(({ownerState:e})=>({transform:`translate(${e.x}px, ${e.y}px)`,transformOrigin:`${e.x}px ${e.y}px`,fill:e.color}));function Ra(t){const{x:i,y:s,id:o,classes:a,color:c}=t,d=n(t,Pa),u={id:o,classes:a,color:c,x:i,y:s},h=(e=>{const{classes:t,id:r}=e;return l({root:["root",`series-${r}`]},Ma,t)})(u);return r.jsx(Ea,e({pointerEvents:"none",ownerState:u,className:h.root,cx:0,cy:0,r:void 0===d.r?5:d.r},d))}const Na=["slots","slotProps"];function Fa(t){const{slots:i,slotProps:s}=t,o=n(t,Na),a=Nt(),l=Tt(),c=nt(),{axis:d}=T.useContext(_t),u=d.x?.index;if(void 0===u)return null;if(void 0===a)return null;const{series:h,stackingGroups:p}=a,{xAxis:m,yAxis:x,xAxisIds:g,yAxisIds:f}=l,y=g[0],b=f[0],v=i?.lineHighlight??Ra;return r.jsx("g",e({},o,{children:p.flatMap(({ids:t})=>t.flatMap(t=>{const{xAxisId:i,yAxisId:n,xAxisKey:o=y,yAxisKey:a=b,stackedData:l,data:d,disableHighlight:p}=h[t],g=i??o,f=n??a;if(p||null==d[u])return null;const w=En(m[g].scale),I=x[f].scale,k=m[g].data;if(void 0===k)throw new Error(`MUI X: ${g===et?"The first `xAxis`":`The x-axis with id "${g}"`} should have data property to be able to display a line plot.`);const A=w(k[u]),j=I(l[u][1]);if(!c.isPointInside({x:A,y:j}))return null;const C=kt(h[t],m[g],x[f]);return r.jsx(v,e({id:t,color:C(u),x:A,y:j},s?.lineHighlight),`${t}`)}))}))}function za(e){return c("MuiChartsGrid",e)}const Ta=d("MuiChartsGrid",["root","line","horizontalLine","verticalLine"]),_a=o("g",{name:"MuiChartsGrid",slot:"Root",overridesResolver:(e,t)=>[{[`&.${Ta.verticalLine}`]:t.verticalLine},{[`&.${Ta.horizontalLine}`]:t.horizontalLine},t.root]})({}),Oa=o("line",{name:"MuiChartsGrid",slot:"Line",overridesResolver:(e,t)=>t.line})(({theme:e})=>({stroke:(e.vars||e).palette.divider,shapeRendering:"crispEdges",strokeWidth:1}));function Da(e){const{axis:t,drawingArea:i,classes:s}=e,{scale:n,tickNumber:o,tickInterval:a}=t,l=Xe({scale:n,tickNumber:o,tickInterval:a});return r.jsx(T.Fragment,{children:l.map(({value:e,offset:t})=>r.jsx(Oa,{y1:i.top,y2:i.top+i.height,x1:t,x2:t,className:s.verticalLine},`vertical-${e}`))})}function La(e){const{axis:t,drawingArea:i,classes:s}=e,{scale:n,tickNumber:o,tickInterval:a}=t,l=Xe({scale:n,tickNumber:o,tickInterval:a});return r.jsx(T.Fragment,{children:l.map(({value:e,offset:t})=>r.jsx(Oa,{y1:t,y2:t,x1:i.left,x2:i.left+i.width,className:s.horizontalLine},`horizontal-${e}`))})}const $a=["vertical","horizontal"];function Ba(t){const i=u({props:t,name:"MuiChartsGrid"}),s=nt(),{vertical:o,horizontal:a}=i,c=n(i,$a),{xAxis:d,xAxisIds:h,yAxis:p,yAxisIds:m}=Tt(),x=(({classes:e})=>l({root:["root"],verticalLine:["line","verticalLine"],horizontalLine:["line","horizontalLine"]},za,e))(i),g=p[m[0]],f=d[h[0]];return r.jsxs(_a,e({},c,{className:x.root,children:[o&&r.jsx(Da,{axis:f,drawingArea:s,classes:x}),a&&r.jsx(La,{axis:g,drawingArea:s,classes:x})]}))}function Ha(e){const{onAxisClick:t}=e,i=Rn(),s=Rt(),{axis:n}=T.useContext(_t),{xAxisIds:o,xAxis:a,yAxisIds:l,yAxis:c}=Tt();return T.useEffect(()=>{const e=i.current;if(null===e||!t)return()=>{};const r=e=>{e.preventDefault();const r=n.x&&-1!==n.x.index,i=r?o[0]:l[0],d=r?n.x&&n.x.index:n.y&&n.y.index;if(null==d)return;const u={};Object.keys(s).filter(e=>["bar","line"].includes(e)).forEach(e=>{s[e]?.seriesOrder.forEach(t=>{const n=s[e].series[t],o=n.xAxisId??n.xAxisKey,a=n.yAxisId??n.yAxisKey,l=r?o:a;void 0!==l&&l!==i||(u[t]=n.data[d])})});const h=(r?a:c)[i].data?.[d];t(e,{dataIndex:d,axisValue:h,seriesValues:u})};return e.addEventListener("click",r),()=>{e.removeEventListener("click",r)}},[n.x,n.y,t,s,i,a,o,c,l]),r.jsx(T.Fragment,{})}const Wa=["message"],Ga=o("text")(({theme:t})=>e({},t.typography.body2,{stroke:"none",fill:t.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function Va(t){const{message:i}=t,s=n(t,Wa),{top:o,left:a,height:l,width:c}=nt();return r.jsx(Ga,e({x:a+c/2,y:o+l/2},s,{children:i??"Loading data"}))}const Ua=["message"],qa=o("text")(({theme:t})=>e({},t.typography.body2,{stroke:"none",fill:t.palette.text.primary,shapeRendering:"crispEdges",textAnchor:"middle",dominantBaseline:"middle"}));function Ka(t){const{message:i}=t,s=n(t,Ua),{top:o,left:a,height:l,width:c}=nt();return r.jsx(qa,e({x:a+c/2,y:o+l/2},s,{children:i??"No data to display"}))}function Xa(t){const i=function(){const e=Rt();return Object.values(e).every(e=>{if(!e)return!0;const{series:t,seriesOrder:r}=e;return r.every(e=>0===t[e].data.length)})}();if(t.loading){const i=t.slots?.loadingOverlay??Va;return r.jsx(i,e({},t.slotProps?.loadingOverlay))}if(i){const i=t.slots?.noDataOverlay??Ka;return r.jsx(i,e({},t.slotProps?.noDataOverlay))}return null}const Ya=["xAxis","yAxis","series","width","height","margin","colors","dataset","sx","tooltip","onAxisClick","onAreaClick","onLineClick","onMarkClick","axisHighlight","disableLineItemHighlight","legend","grid","topAxis","leftAxis","rightAxis","bottomAxis","children","slots","slotProps","skipAnimation","loading","highlightedItem","onHighlightChange","className","experimentalMarkRendering"],Qa=T.forwardRef(function(i,s){const o=u({props:i,name:"MuiLineChart"}),{chartContainerProps:a,axisClickHandlerProps:l,gridProps:c,clipPathProps:d,clipPathGroupProps:h,areaPlotProps:p,linePlotProps:m,markPlotProps:x,overlayProps:g,chartsAxisProps:f,axisHighlightProps:y,lineHighlightPlotProps:b,legendProps:v,tooltipProps:w,children:I}=(r=>{const{xAxis:i,yAxis:s,series:o,width:a,height:l,margin:c,colors:d,dataset:u,sx:h,tooltip:p,onAxisClick:m,onAreaClick:x,onLineClick:g,onMarkClick:f,axisHighlight:y,disableLineItemHighlight:b,legend:v,grid:w,topAxis:I,leftAxis:k,rightAxis:A,bottomAxis:j,children:C,slots:S,slotProps:P,skipAnimation:M,loading:E,highlightedItem:R,onHighlightChange:N,className:F,experimentalMarkRendering:z}=r,T=n(r,Ya),_=`${t()}-clip-path`;return{chartContainerProps:e({},T,{series:o.map(t=>e({disableHighlight:!!b,type:"line"},t)),width:a,height:l,margin:c,colors:d,dataset:u,xAxis:i??[{id:et,scaleType:"point",data:Array.from({length:Math.max(...o.map(e=>(e.data??u??[]).length))},(e,t)=>t)}],yAxis:s,sx:h,highlightedItem:R,onHighlightChange:N,disableAxisListener:"axis"!==p?.trigger&&"none"===y?.x&&"none"===y?.y&&!m,className:F,skipAnimation:M}),axisClickHandlerProps:{onAxisClick:m},gridProps:{vertical:w?.vertical,horizontal:w?.horizontal},clipPathProps:{id:_},clipPathGroupProps:{clipPath:`url(#${_})`},areaPlotProps:{slots:S,slotProps:P,onItemClick:x},linePlotProps:{slots:S,slotProps:P,onItemClick:g},markPlotProps:{slots:S,slotProps:P,onItemClick:f,skipAnimation:M,experimentalRendering:z},overlayProps:{slots:S,slotProps:P,loading:E},chartsAxisProps:{topAxis:I,leftAxis:k,rightAxis:A,bottomAxis:j,slots:S,slotProps:P},axisHighlightProps:e({x:"line"},y),lineHighlightPlotProps:{slots:S,slotProps:P},legendProps:e({},v,{slots:S,slotProps:P}),tooltipProps:e({},p,{slots:S,slotProps:P}),children:C}})(o);return r.jsxs(po,e({ref:s},a,{children:[o.onAxisClick&&r.jsx(Ha,e({},l)),r.jsx(Ba,e({},c)),r.jsxs("g",e({},h,{children:[r.jsx(Kn,e({},p)),r.jsx(ro,e({},m)),r.jsx(Xa,e({},g)),r.jsx(Ca,e({},y))]})),r.jsx(Ko,e({},f)),r.jsx("g",{"data-drawing-container":!0,children:r.jsx(ko,e({},x))}),r.jsx(Fa,e({},b)),r.jsx(ka,e({},v)),!o.loading&&r.jsx(ha,e({},w)),r.jsx(Sa,e({},d)),I]}))}),Ja=[58,115,28,83,63,75,35],Za=["Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function el(){const e=i(),t={fill:e.palette.text.secondary};return r.jsx(Qa,{grid:{horizontal:!0},xAxis:[{data:Za,scaleType:"point",disableLine:!0,disableTicks:!0,tickLabelStyle:t}],yAxis:[{tickMaxStep:10}],leftAxis:null,series:[{data:Ja,showMark:!1,id:"ReportAreaChart",color:e.palette.warning.main,label:"Series 1"}],slotProps:{legend:{hidden:!0}},height:120,margin:{top:10,bottom:20,left:10,right:10},sx:{"& .MuiLineElement-root":{strokeWidth:1},[`& .${Ta.line}`]:{strokeDasharray:"5 3"}}})}ze.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIzODNiZmZiNC04YTUxLTQ1YzgtOWU1Mi1kNDUyY2I2ZDRkNTQiLCJpZCI6MzQyNDEzLCJpYXQiOjE3NTgxNzMyNDh9.zZRyMPovg5ALhNtG2_E-0ED0qHqd_uQQnAG84eQUyG4";const tl="/api/north-korea-attacks",rl=T.memo(()=>{const e=T.useRef(null),t=T.useRef(null),[i,s]=T.useState(null),n=T.useRef(null),o=T.useRef(new Map),a=()=>{n.current=null,o.current.forEach(e=>{e.polyline.material=new Fe({glowPower:.1,color:Re.RED.withAlpha(.6)}),e.polyline.width=2}),t.current&&t.current.scene.requestRender()};return T.useEffect(()=>{if(!e.current)return;if(t.current)return;return(async()=>{try{t.current=new je(e.current,{animation:!1,baseLayerPicker:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,scene3DOnly:!0,selectionIndicator:!1,timeline:!1,navigationHelpButton:!1,requestRenderMode:!0,maximumRenderTimeChange:1/0});const r=t.current.scene,s=r.globe;r.skyAtmosphere.show=!0,s.enableLighting=!1,s.showWaterEffect=!1,r.screenSpaceCameraController.enableRotate=!0,r.screenSpaceCameraController.enableTranslate=!1,r.screenSpaceCameraController.enableZoom=!1,r.screenSpaceCameraController.enableTilt=!1,r.screenSpaceCameraController.enableLook=!1,r.screenSpaceCameraController.inertiaSpin=0,r.screenSpaceCameraController.inertiaTranslate=0,r.screenSpaceCameraController.inertiaZoom=0,t.current.cesiumWidget.creditContainer.style.display="none";const l=2e7;t.current.camera.setView({destination:Se.fromDegrees(127.5,36,l),orientation:{heading:0,pitch:-Ce.PI_OVER_TWO,roll:0}}),r.screenSpaceCameraController.minimumZoomDistance=l,r.screenSpaceCameraController.maximumZoomDistance=l;const c=await(async()=>{try{const e=`http://localhost:5000${tl}?limit=20`,t=await fetch(e);if(!t.ok)return[];const r=await t.json();return r.success?r.attacks.map(e=>({id:e.id,source:{lat:e.source.lat,lon:e.source.lon,name:e.source.name},target:{lat:e.target.lat,lon:e.target.lon,name:e.target.name}})):[]}catch(i){return[]}})();(e=>{if(!t.current||!e||0===e.length)return;const r=5e3;e.forEach((e,i)=>{const s=parseFloat(e.source.lon),n=parseFloat(e.source.lat),a=parseFloat(e.target.lon),l=parseFloat(e.target.lat);if(isNaN(s)||isNaN(n)||isNaN(a)||isNaN(l))return;const c=Se.fromDegrees(s,n,r),d=Se.fromDegrees(a,l,r);t.current.entities.add({id:`source-${e.id}`,position:c,point:{pixelSize:4,color:Re.YELLOW,outlineColor:Re.RED,outlineWidth:1,disableDepthTestDistance:Number.POSITIVE_INFINITY}}),t.current.entities.add({id:`target-${e.id}`,position:d,point:{pixelSize:4,color:Re.CYAN,outlineColor:Re.BLUE,outlineWidth:1,disableDepthTestDistance:Number.POSITIVE_INFINITY}});const u=[];for(let t=0;t<=30;t++){const e=t/30,i=Se.lerp(c,d,e,new Se),s=5e5*Math.sin(e*Math.PI),n=Ne.fromCartesian(i);n.height=r+s,u.push(Ne.toCartesian(n))}u[0]=c,u[u.length-1]=d;const h=t.current.entities.add({id:`arc-${e.id}`,polyline:{positions:u,width:2,material:new Fe({glowPower:.1,color:Re.RED.withAlpha(.6)}),clampToGround:!1}});o.current.set(e.id,h)}),t.current.scene.requestRender()})(c);const d=new Pe(r.canvas);d.setInputAction(e=>{const i=t.current.scene.pick(e.position);if(Me(i)&&i.id){const e=i.id.id;e&&(e.startsWith("source-")||e.startsWith("target-"))&&(s=e.split("-").slice(1).join("-"),n.current!==s?(n.current=s,o.current.forEach((e,t)=>{const r=t===s;e.polyline.material=new Fe({glowPower:r?.5:.05,color:r?Re.CYAN.withAlpha(1):Re.RED.withAlpha(.2)}),e.polyline.width=r?5:1.5}),t.current&&t.current.scene.requestRender()):a())}else a();var s;r.requestRender()},Ee.LEFT_CLICK);const u=new ResizeObserver(()=>{t.current&&!t.current.isDestroyed()&&(t.current.resize(),r.requestRender())});u.observe(e.current),r.requestRender(),t.current._cleanup={resizeObserver:u,handler:d}}catch(r){s(`Cesium  : ${r.message}`)}})(),()=>{t.current&&(t.current._cleanup?.handler&&t.current._cleanup.handler.destroy(),t.current._cleanup?.resizeObserver&&t.current._cleanup.resizeObserver.disconnect(),t.current.isDestroyed()||t.current.destroy(),t.current=null),o.current.clear()}},[]),i?r.jsx(w,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#1a1a2e"},children:r.jsx("span",{style:{color:"#ff6b6b"},children:i})}):r.jsx(w,{ref:e,sx:{width:"100%",height:"100%",position:"absolute",top:0,left:0,overflow:"hidden","& .cesium-viewer":{width:"100% !important",height:"100% !important",position:"absolute !important"},"& .cesium-widget":{width:"100% !important",height:"100% !important"},"& .cesium-widget canvas":{width:"100% !important",height:"100% !important",position:"absolute !important"}}})}),il=T.lazy(()=>Te(()=>import("./three-vendor-BMDtE1KG.js").then(e=>e.q),__vite__mapDeps([0,1,2,3]))),sl={core:"#ffffff",firewall:"#e55353",router:"#f6a609",l3switch:"#f6a609",switchrouter:"#f6a609",layer3:"#f6a609",switch:"#3fb950",hub:"#26c6da",server:"#6aa7ff",host:"#6aa7ff",default:"#a0b4ff"},nl=T.memo(()=>{const e=T.useRef(),t=T.useRef(null),[i,s]=T.useState({nodes:[],links:[]}),[n,o]=T.useState(!0),[a,l]=T.useState({width:0,height:0}),[c,d]=T.useState(!1);T.useEffect(()=>{let e=!0;return(async()=>{try{o(!0);const t=await fetch("http://localhost:8000/neo4j/nodes?activeView=zone7&includeIsolated=true").then(e=>e.json()),r=new Map,i=[];t.forEach(e=>{e.src_IP?.id&&r.set(String(e.src_IP.id),e.src_IP),e.dst_IP?.id&&r.set(String(e.dst_IP.id),e.dst_IP),e.edge?.sourceIP&&e.edge?.targetIP&&i.push({source:String(e.edge.sourceIP),target:String(e.edge.targetIP),...e.edge})});const n=new Set([...r.keys()]),a=i.filter(e=>n.has(e.source)&&n.has(e.target)),l=new Set,c=[];for(const e of a){const t=String(e.source),r=String(e.target),i=t<r?`${t}__${r}__${e.type||""}`:`${r}__${t}__${e.type||""}`;l.has(i)||(l.add(i),c.push(e))}const d=Array.from(r.values()).map(e=>{const t=(e.kind||e.type||"host").toLowerCase(),r=e.label||e.ip||String(e.id),i=e.color||sl[t]||sl.default;return{...e,id:String(e.id),kind:t,label:r,color:i}});e&&s({nodes:d,links:c})}catch(t){e&&s({nodes:[],links:[]})}finally{e&&o(!1)}})(),()=>{e=!1}},[]),T.useEffect(()=>{if(!t.current)return;const e=()=>{if(t.current){const{offsetWidth:e,offsetHeight:r}=t.current;e>0&&r>0&&l({width:e,height:r})}},r=setTimeout(e,100),i=new ResizeObserver(()=>{e()});return i.observe(t.current),window.addEventListener("resize",e),()=>{clearTimeout(r),i.disconnect(),window.removeEventListener("resize",e)}},[n]);const u=T.useMemo(()=>({sphere:new Oe(3,16,16),box:new _e(6,6,6)}),[]),h=T.useMemo(()=>e=>{const t=new De,r=e.color||sl[e.kind]||sl.default,i=new Le({color:r,metalness:.3,roughness:.7}),s=new $e(u.sphere,i);return t.add(s),t},[u]),p=T.useMemo(()=>e=>"logical"===String(e.type||"").toLowerCase()?"#87aafc":"#a9b9ff",[]);return n?r.jsx(w,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#F0EDFD"},children:r.jsx(y,{variant:"body2",color:"text.secondary",children:"Loading Zone 7..."})}):0===i.nodes.length?r.jsx(w,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#F0EDFD"},children:r.jsx(y,{variant:"body2",color:"text.secondary",children:"Zone 7  "})}):r.jsx(w,{ref:t,sx:{width:"100%",height:"100%",bgcolor:"#F0EDFD",position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"hidden"},children:a.width>0&&a.height>0?r.jsx(T.Suspense,{fallback:r.jsx(w,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(y,{variant:"body2",children:"Loading Graph..."})}),children:r.jsx(il,{ref:e,graphData:i,backgroundColor:"#F0EDFD",width:a.width,height:a.height,nodeThreeObject:h,nodeThreeObjectExtend:!1,linkColor:p,linkWidth:1.5,linkDirectionalParticles:2,linkDirectionalParticleSpeed:.006,enableNodeDrag:!1,enablePointerInteraction:c,showNavInfo:!1,warmupTicks:10,cooldownTicks:0,d3AlphaDecay:.08,d3VelocityDecay:.4,onEngineStop:()=>d(!0)})}):r.jsx(w,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(y,{variant:"body2",children:"Initializing..."})})})}),ol=e=>{let t=e?.nodeType||e?.type||e?.properties?.type||e?.props?.type;if(!t&&e?.title&&"string"==typeof e.title)try{const r=JSON.parse(e.title);r.type&&(t=r.type)}catch{}const r=String(t||"").toLowerCase();return"switch"===r?"/image/switch.png":"workstation"===r?"/image/workstation.png":"server"===r?"/image/server.png":"router"===r?"/image/router.png":"firewall"===r?"/image/firewall.png":"laptop"===r?"/image/laptop.png":"printer"===r?"/image/printer.png":"sensor"===r?"/image/sensor.png":"plc"===r?"/image/plc.png":"/image/switch.png"},al=Be.driver("neo4j+s://eff16eb9.databases.neo4j.io",Be.auth.basic("neo4j","_G6MBldCj1gGO_hWjogaMJpleFbjuSZKlMHohGucVrA"));async function ll(e="MATCH (n) RETURN n LIMIT 25",t={}){const r=al.session();try{return(await r.run(e,t)).records}finally{await r.close()}}const cl=[{border:"#FF0000",edge:"#FF0000",shadow:"rgba(255, 0, 0, 0.8)",name:"1 ()"},{border:"#FF6600",edge:"#FF6600",shadow:"rgba(255, 102, 0, 0.7)",name:"2 ()"},{border:"#FFCC00",edge:"#FFCC00",shadow:"rgba(255, 204, 0, 0.7)",name:"3 ()"}],dl=T.memo(()=>{const e=T.useRef(null),t=T.useRef(null),i=T.useRef(null),s=T.useRef(null),[n,o]=T.useState({nodes:[],edges:[]}),[a,l]=T.useState(!0),[c,d]=T.useState(0),[u,h]=T.useState(null),[p,m]=T.useState(null),[x,g]=T.useState([]),[f,b]=T.useState(!1),v=T.useRef(null),A=T.useRef(null);T.useEffect(()=>{v.current=u},[u]),T.useEffect(()=>{A.current=p},[p]),T.useEffect(()=>{ll('\n      MATCH (d:Device{project:"facility"})\n      OPTIONAL MATCH (d)-[r:CONNECTED{project:"facility"}]-(d2:Device{project:"facility"})\n      RETURN d, r, d2\n    ').then(e=>{const t=new Map,r=new Map,i=e=>{if(!e)return null;const t=e.identity;return t&&"function"==typeof t.toNumber?t.toNumber():t},s=e=>{if(!e)return"";const t=e.properties||{};return t.name||t.label||e.labels&&e.labels[0]||t.id||String(i(e))};for(const n of e){const e=n.get("d"),o=n.get("r"),a=n.get("d2"),l=i(e);if(e&&null!=l&&!t.has(l)&&t.set(l,{id:l,label:s(e),name:e.properties?.name,elementId:e.elementId,shape:"image",image:ol(e),size:12,color:{border:"#205AAA"},font:{color:"#7c3aed",size:8}}),a){const e=i(a);if(null==e||t.has(e)||t.set(e,{id:e,label:s(a),name:a.properties?.name,elementId:a.elementId,shape:"image",image:ol(a),size:12,color:{border:"#205AAA"},font:{color:"#7c3aed",size:8}}),o&&null!=l&&null!=e){const t=Math.min(l,e),i=Math.max(l,e),s=`${t}-${i}`;r.has(s)||r.set(s,{id:s,from:t,to:i,color:{color:"#848484"},width:1})}}}o({nodes:Array.from(t.values()),edges:Array.from(r.values())}),l(!1)}).catch(e=>{l(!1)})},[]);const j=()=>{if(!i.current||!s.current)return;const e=n.nodes.map(e=>({id:e.id,color:{border:"#205AAA"},borderWidth:2,size:12,shadow:{enabled:!1}}));i.current.update(e);const t=n.edges.map(e=>({id:e.id,color:{color:"#848484"},width:1,shadow:{enabled:!1}}));s.current.update(t)},C=T.useMemo(()=>()=>{if(!i.current||!s.current||0===x.length)return;const e=A.current,t=v.current,r=new Map;n.nodes.forEach(e=>{e.name&&r.set(e.name,e.id)});const o=new Map,a=new Map;x.forEach((e,t)=>{const i=t;e.forEach(e=>{const t=r.get(e.name);null!=t&&(o.has(t)||o.set(t,{ranks:new Set,lowestRank:i}),o.get(t).ranks.add(i),i<o.get(t).lowestRank&&(o.get(t).lowestRank=i))});for(let s=0;s<e.length-1;s++){const t=r.get(e[s].name),n=r.get(e[s+1].name);if(null!=t&&null!=n){const e=`${Math.min(t,n)}-${Math.max(t,n)}`;a.has(e)||a.set(e,{ranks:new Set,lowestRank:i}),a.get(e).ranks.add(i),i<a.get(e).lowestRank&&(a.get(e).lowestRank=i)}}});const l=n.nodes.map(r=>{const i=e&&r.id===e.id,s=t&&r.id===t.id,n=o.get(r.id);if(s)return{id:r.id,size:20,borderWidth:4,color:{border:"#CC0000",background:"#FFE5E5"},shadow:{enabled:!0,color:"rgba(255, 0, 0, 0.8)",size:15,x:0,y:0}};if(i)return{id:r.id,size:18,borderWidth:4,color:{border:"#00CC00",background:"#E5FFE5"},shadow:{enabled:!0,color:"rgba(0, 204, 0, 0.8)",size:12,x:0,y:0}};if(n){const e=n.lowestRank,t=cl[Math.min(e,cl.length-1)];return{id:r.id,size:16,borderWidth:3,color:{border:t.border,background:"#FFFFFF"},shadow:{enabled:!0,color:t.shadow,size:10,x:0,y:0}}}return{id:r.id,size:10,borderWidth:1,color:{border:"rgba(100, 100, 100, 0.3)"},shadow:{enabled:!1}}});i.current.update(l);const c=n.edges.map(e=>{const t=a.get(e.id);if(t){const r=t.lowestRank,i=cl[Math.min(r,cl.length-1)];return{id:e.id,color:{color:i.edge,highlight:i.edge,hover:i.edge},width:4-.5*r,shadow:{enabled:!0,color:i.shadow,size:8,x:0,y:0}}}return{id:e.id,color:{color:"rgba(100, 100, 100, 0.15)",highlight:"rgba(100, 100, 100, 0.15)",hover:"rgba(100, 100, 100, 0.15)"},width:.5,shadow:{enabled:!1}}});s.current.update(c)},[x,n]);return T.useEffect(()=>{x.length>0&&C()},[x,C]),T.useEffect(()=>{if(e.current&&0!==n.nodes.length)return i.current=new He(n.nodes),s.current=new He(n.edges),t.current=new We(e.current,{nodes:i.current,edges:s.current},{nodes:{borderWidth:2,shadow:!0,font:{size:8,color:"#7c3aed"}},edges:{width:1,color:{color:"#848484",highlight:"inherit"},smooth:{type:"continuous"},selectionWidth:0},physics:{enabled:!0,solver:"forceAtlas2Based",forceAtlas2Based:{gravitationalConstant:-30,centralGravity:.005,springLength:80,springConstant:.08},stabilization:{enabled:!0,iterations:100,updateInterval:25}},interaction:{hover:!0,zoomView:!0,dragView:!0,dragNodes:!1}}),t.current.once("stabilized",()=>{t.current.setOptions({physics:{enabled:!1}}),t.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})}),t.current.on("selectNode",async e=>{const t=e.nodes&&e.nodes[0];if(!t||!i.current)return;const r=i.current.get(t);d(e=>{if(0===e)return h(r),i.current.update({id:t,color:{border:"#FF0000"},borderWidth:3,size:16}),1;if(1===e){const s=v.current;return s&&t!==s.id?(m(r),i.current.update({id:t,color:{border:"#00CC00"},borderWidth:3,size:16}),(async()=>{const e=await(async e=>{if(!e)return null;const t=await ll("MATCH (p:Physical {name:$name, project:'multi-layer'}) RETURN id(p) AS pid",{name:e});if(!t?.length)return null;const r=t[0].get("pid");return Be.isInt?.(r)?r.toNumber():r})(r.name);null!=e&&(async(e,t)=>{if(e&&t){b(!0);try{const r=await ll("\n      MATCH (start:Physical {project:'multi-layer'}), (target:Physical {name:$targetPhysicalName, project:'multi-layer'})\n      WHERE id(start) = $startId AND start <> target\n      CALL {\n        WITH start, target\n        MATCH (via:Physical {project:'multi-layer'})\n        WHERE via <> start AND via <> target \n          AND properties(via).type IS NOT NULL\n          AND (toLower(properties(via).type) CONTAINS 'laptop'\n               OR toLower(properties(via).type) CONTAINS 'workstation'\n               OR toLower(properties(via).type) CONTAINS 'server'\n               OR toLower(properties(via).type) CONTAINS 'printer'\n               OR toLower(properties(via).type) CONTAINS 'sensor'\n               OR toLower(properties(via).type) CONTAINS 'plc')\n        WITH start, target, via\n        ORDER BY rand()\n        LIMIT 30\n        \n        MATCH p1 = shortestPath((start)-[:CONNECTED*1..8]-(via))\n        WHERE ALL(r IN relationships(p1) WHERE r.project = 'multi-layer')\n          AND via <> start\n          AND NONE(n IN nodes(p1)[1..-1] WHERE n = target)\n        \n        WITH start, target, via, nodes(p1) AS p1Nodes, relationships(p1) AS p1Rels\n        MATCH p2 = shortestPath((via)-[:CONNECTED*1..8]-(target))\n        WHERE ALL(r IN relationships(p2) WHERE r.project = 'multi-layer')\n          AND via <> target\n          AND NONE(n IN nodes(p2)[1..-1] WHERE n = start)\n        \n        WITH start, target, via,\n             p1Nodes + nodes(p2)[1..] AS pathNodes,\n             p1Rels + relationships(p2) AS pathRels,\n             id(start) AS startId, \n             id(target) AS targetId\n        \n        WHERE size(pathNodes) <= 12 AND size(pathNodes) >= 3\n        \n        WITH pathNodes, pathRels, startId, targetId, range(0, size(pathNodes)-1) AS indices\n        LIMIT 5\n        \n        UNWIND indices AS idx\n        WITH pathNodes, pathRels, startId, targetId, idx, pathNodes[idx] AS n\n        WITH pathNodes, pathRels, startId, targetId, idx, n,\n             properties(n).type AS nodeType,\n             properties(n).name AS nodeName\n        WITH pathNodes, pathRels, startId, targetId, idx,\n             { id: id(n), nodeType: nodeType, name: nodeName } AS nodeInfo\n        ORDER BY idx\n        WITH pathRels, collect(nodeInfo) AS orderedNodeInfos\n        RETURN pathRels, orderedNodeInfos\n      }\n      WITH start, target, pathRels, orderedNodeInfos\n      LIMIT 3\n      RETURN start, target, pathRels, orderedNodeInfos\n    ",{targetPhysicalName:t,startId:e});if(!r||0===r.length)return g([]),void b(!1);const i=[];for(const e of r){const t=(e.get("orderedNodeInfos")||[]).map(e=>{return{id:(t=e.id,Be.isInt?.(t)?t.toNumber():t),name:e.name,nodeType:e.nodeType};var t});i.push(t)}g(i.slice(0,3)),b(!1)}catch(r){g([]),b(!1)}}})(e,s.name)})(),2):e}return j(),h(r),m(null),g([]),i.current.update({id:t,color:{border:"#FF0000"},borderWidth:3,size:16}),1})}),()=>{t.current&&(t.current.destroy(),t.current=null,i.current=null,s.current=null)}},[n]),a?r.jsx(w,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#F0EDFD"},children:r.jsx(y,{variant:"body2",color:"text.secondary",children:"Loading Topology..."})}):0===n.nodes.length?r.jsx(w,{sx:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#F0EDFD"},children:r.jsx(y,{variant:"body2",color:"text.secondary",children:"  "})}):r.jsxs(w,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"#F0EDFD",overflow:"hidden"},children:[r.jsx(w,{sx:{position:"absolute",bottom:4,left:4,zIndex:10},children:r.jsxs(I,{direction:"row",spacing:.5,alignItems:"center",flexWrap:"wrap",children:[0===c&&r.jsx(k,{label:"  ",size:"small",sx:{fontSize:"10px",height:20}}),1===c&&r.jsxs(r.Fragment,{children:[r.jsx(k,{label:` ${u?.label||""}`,size:"small",color:"error",sx:{fontSize:"10px",height:20}}),r.jsx(k,{label:"  ",size:"small",sx:{fontSize:"10px",height:20}})]}),2===c&&r.jsxs(r.Fragment,{children:[r.jsx(k,{label:` ${p?.label||""}`,size:"small",color:"success",sx:{fontSize:"10px",height:20}}),r.jsx(k,{label:"",size:"small",sx:{fontSize:"10px",height:20,minWidth:20}}),r.jsx(k,{label:` ${u?.label||""}`,size:"small",color:"error",sx:{fontSize:"10px",height:20}}),f?r.jsx(k,{label:" ...",size:"small",sx:{fontSize:"10px",height:20}}):r.jsx(k,{label:`${x.length} `,size:"small",color:"primary",sx:{fontSize:"10px",height:20}}),r.jsx(k,{label:"",size:"small",onClick:()=>{d(0),h(null),m(null),g([]),j()},sx:{fontSize:"10px",height:20,cursor:"pointer"}})]})]})}),x.length>0&&r.jsx(w,{sx:{position:"absolute",top:50,right:4,zIndex:10,bgcolor:"rgba(255,255,255,0.9)",p:.5,borderRadius:1},children:r.jsx(I,{spacing:.25,children:x.slice(0,3).map((e,t)=>r.jsxs(I,{direction:"row",spacing:.5,alignItems:"center",children:[r.jsx(w,{sx:{width:8,height:8,borderRadius:"50%",bgcolor:cl[t].border}}),r.jsxs(y,{sx:{fontSize:"9px"},children:[t+1,""]})]},t))})}),r.jsx(w,{ref:e,sx:{width:"100%",height:"100%","& .vis-network":{outline:"none"}}})]})}),ul=e=>{let t=e?.nodeType||e?.type||e?.properties?.type;if(!t&&e?.label&&"string"==typeof e.label){const t=e.label.toLowerCase();if(t.includes("server"))return"/image/server.png";if(t.includes("laptop"))return"/image/laptop.png";if(t.includes("workstation"))return"/image/workstation.png";if(t.includes("router"))return"/image/router.png";if(t.includes("switch"))return"/image/switch.png";if(t.includes("firewall"))return"/image/firewall.png"}const r=String(t||"").toLowerCase();return"switch"===r?"/image/switch.png":"workstation"===r?"/image/workstation.png":"server"===r?"/image/server.png":"router"===r?"/image/router.png":"firewall"===r?"/image/firewall.png":"laptop"===r?"/image/laptop.png":"printer"===r?"/image/printer.png":"sensor"===r?"/image/sensor.png":"plc"===r?"/image/plc.png":"/image/switch.png"},hl=T.memo(({dbNodes:e=[]})=>{const t=T.useRef(null),i=T.useRef(null),s=O.useCallback(e=>String(e?.__id??e?.id??e?.ip??e?.index??JSON.stringify(e)),[]),{nodes:n,edges:o}=T.useMemo(()=>{const t=[],r=[];return e.forEach(e=>{if(e.edge&&e.src_IP&&e.dst_IP){const t=s(e.src_IP),i=s(e.dst_IP),n=(e=>{const t={color:{color:"#cccccc"},width:1};if(!e)return t;const r=e.type||e.attack_type;return"attack"===r||"malicious"===r?{color:{color:"#ff0000"},width:2}:"suspicious"===r?{color:{color:"#ff9900"},width:2}:t})(e.edge);r.push({from:t,to:i,length:100+200*Math.random(),...n})}}),e.forEach(e=>{[e.src_IP,e.dst_IP].forEach(e=>{const r=s(e);if(e&&!t.some(e=>e.id===r)){const i=ul(e),s=12,n=40;let o=.5;"number"==typeof e.degree_score&&"number"==typeof e.con_score&&(o=e.degree_score+e.con_score,o=Math.max(0,Math.min(1,o)));const a=s+(n-s)*o;t.push({id:r,label:e.label||e.ip||r,shape:"image",image:i,size:a})}})}),{nodes:t,edges:r}},[e,s]);return T.useEffect(()=>{if(!t.current||0===n.length)return;if(i.current)return;const e={nodes:n,edges:o},r={layout:{randomSeed:1},nodes:{shape:"image",brokenImage:ul({}),size:30,borderWidth:2,color:{border:"#b39ddb"},font:{size:12,color:"#222"}},edges:{smooth:{type:"continuous"}},physics:{enabled:!0,solver:"forceAtlas2Based",forceAtlas2Based:{gravitationalConstant:-30,centralGravity:.005,springLength:100,springConstant:.05},stabilization:{enabled:!0,iterations:150,updateInterval:25}},interaction:{hover:!0,navigationButtons:!1,keyboard:!1}};return i.current=new We(t.current,e,r),()=>{i.current&&(i.current.destroy(),i.current=null)}},[n,o]),r.jsx(w,{ref:t,sx:{width:"100%",height:"100%",position:"relative",bgcolor:"#F0EDFD","& .vis-network":{outline:"none"},"& canvas":{display:"block"}}})});hl.displayName="TargetGraph2DMini";const pl=[{text:"C:\\Projects\\bgp-collector> bgp_archive_collector.exe --source routeviews,ris --start 2025-01-01T00:00:00Z",color:"#333333",delay:0},{text:"",color:"#333333",delay:200},{text:"[2025-01-10 09:13:21.004] [INFO ] BGP Archive Collector v1.2.3 starting...",color:"#008000",delay:400},{text:"[2025-01-10 09:13:21.017] [INFO ] Loading config from .\\config\\collector.yml",color:"#333333",delay:600},{text:"[2025-01-10 09:13:21.032] [INFO ] Time window     : 2025-01-01 00:00:00 ~ 2025-01-01 01:00:00 (UTC)",color:"#333333",delay:800},{text:"[2025-01-10 09:13:21.033] [INFO ] Sources        : routeviews, ris",color:"#333333",delay:1e3},{text:"[2025-01-10 09:13:21.034] [INFO ] Target DB      : MongoDB (network_traffic)",color:"#333333",delay:1200},{text:"[2025-01-10 09:13:21.048] [INFO ] Testing database connectivity...",color:"#333333",delay:1400},{text:"[2025-01-10 09:13:21.097] [INFO ] DB connection OK (latency 12ms)",color:"#008000",delay:1800},{text:"[2025-01-10 09:13:21.111] [INFO ] Initializing schema migration...",color:"#333333",delay:2e3},{text:"[2025-01-10 09:13:21.384] [INFO ] Schema up-to-date (version 20250105_01)",color:"#008000",delay:2400},{text:"",color:"#333333",delay:2600},{text:"[2025-01-10 09:13:21.412] [INFO ] Fetching MRT file list from RouteViews (route-views2)...",color:"#333333",delay:2800},{text:"[2025-01-10 09:13:22.034] [INFO ]  -> Found 4 UPDATE dump files, 1 RIB snapshot",color:"#cc6600",delay:3200},{text:"[2025-01-10 09:13:22.041] [INFO ] Fetching MRT file list from RIPE RIS (rrc00)...",color:"#333333",delay:3400},{text:"[2025-01-10 09:13:22.619] [INFO ]  -> Found 3 UPDATE dump files, 1 RIB snapshot",color:"#cc6600",delay:3800},{text:"",color:"#333333",delay:4e3},{text:"[2025-01-10 09:13:22.641] [INFO ] Starting parallel downloader (max 3 jobs)...",color:"#333333",delay:4200},{text:"[2025-01-10 09:13:23.102] [INFO ] [DL-001] routeviews/2025.01/updates.20250101.0000.gz (12.4 MB) queued",color:"#0066cc",delay:4600},{text:"[2025-01-10 09:13:23.104] [INFO ] [DL-002] routeviews/2025.01/updates.20250101.0015.gz (11.1 MB) queued",color:"#0066cc",delay:4800},{text:"[2025-01-10 09:13:23.107] [INFO ] [DL-003] ris/rrc00/2025.01/updates.20250101.0000.gz (9.7 MB) queued",color:"#0066cc",delay:5e3},{text:"[2025-01-10 09:13:24.889] [INFO ] [DL-001] Downloading...  35% (4.3 MB / 12.4 MB)",color:"#0066cc",delay:5400},{text:"[2025-01-10 09:13:26.417] [INFO ] [DL-001] Downloading...  82% (10.2 MB / 12.4 MB)",color:"#0066cc",delay:5800},{text:"[2025-01-10 09:13:27.095] [INFO ] [DL-001] Completed (12.4 MB, 3.9s, avg 3.1 MB/s)",color:"#008000",delay:6200},{text:"[2025-01-10 09:13:27.102] [INFO ] [DL-004] ris/rrc00/2025.01/bview.20250101.0000.gz (45.8 MB) queued",color:"#0066cc",delay:6400},{text:"[2025-01-10 09:13:28.781] [INFO ] [DL-002] Completed (11.1 MB, 5.6s, avg 2.0 MB/s)",color:"#008000",delay:6800},{text:"[2025-01-10 09:13:29.004] [INFO ] [DL-003] Completed (9.7 MB, 5.8s, avg 1.7 MB/s)",color:"#008000",delay:7e3},{text:"[2025-01-10 09:13:33.612] [INFO ] [DL-004] Completed (45.8 MB, 6.4s, avg 7.1 MB/s)",color:"#008000",delay:7600},{text:"",color:"#333333",delay:7800},{text:"[2025-01-10 09:13:33.645] [INFO ] All MRT files downloaded. Starting parsing pipeline...",color:"#333333",delay:8e3},{text:"[2025-01-10 09:13:33.656] [INFO ] Launching worker pool: 4 parser threads, 2 DB writer threads",color:"#333333",delay:8200},{text:"[2025-01-10 09:13:33.889] [INFO ] [PARSER-01] Reading updates.20250101.0000.gz",color:"#007799",delay:8600},{text:"[2025-01-10 09:13:33.901] [INFO ] [PARSER-02] Reading updates.20250101.0015.gz",color:"#007799",delay:8800},{text:"[2025-01-10 09:13:33.912] [INFO ] [PARSER-03] Reading ris-rrc00-updates.20250101.0000.gz",color:"#007799",delay:9e3},{text:"[2025-01-10 09:13:34.027] [INFO ] [PARSER-01] MRT header parsed, stream starts at ts=1735689600",color:"#007799",delay:9400},{text:"[2025-01-10 09:13:34.291] [INFO ] [PARSER-01] Decoded 10,000 BGP UPDATE messages (RIB=0/U=10000, 0.23s)",color:"#007799",delay:9800},{text:"[2025-01-10 09:13:34.293] [INFO ] [PARSER-02] Decoded 7,812 BGP UPDATE messages (RIB=0/U=7812, 0.19s)",color:"#007799",delay:1e4},{text:"[2025-01-10 09:13:34.311] [INFO ] [PARSER-03] Decoded 9,104 BGP UPDATE messages (RIB=0/U=9104, 0.21s)",color:"#007799",delay:10200},{text:"",color:"#333333",delay:10400},{text:"[2025-01-10 09:13:34.345] [INFO ] [FILTER ] Applying prefix / ASN filters...",color:"#333333",delay:10600},{text:"[2025-01-10 09:13:34.612] [INFO ] [FILTER ]   -> Prefix filter: 0.0.0.0/0, 10.0.0.0/8, 192.168.0.0/16",color:"#cc6600",delay:11e3},{text:"[2025-01-10 09:13:34.614] [INFO ] [FILTER ]   -> ASN watchlist: 64512, 64513, 64514",color:"#cc6600",delay:11200},{text:"[2025-01-10 09:13:35.041] [INFO ] [FILTER ] Kept 12,341 / 26,916 elems (45.8%)",color:"#008000",delay:11600},{text:"",color:"#333333",delay:11800},{text:"[2025-01-10 09:13:35.092] [INFO ] [DB-WRITER-01] Inserting batch (size=2,000) into MongoDB...",color:"#cc0066",delay:12e3},{text:"[2025-01-10 09:13:35.642] [INFO ] [DB-WRITER-01] Committed batch (rows=2,000, elapsed=0.54s)",color:"#cc0066",delay:12400},{text:"[2025-01-10 09:13:35.713] [INFO ] [DB-WRITER-02] Inserting batch (size=2,000) into MongoDB...",color:"#cc0066",delay:12600},{text:"[2025-01-10 09:13:36.204] [INFO ] [DB-WRITER-02] Committed batch (rows=2,000, elapsed=0.49s)",color:"#cc0066",delay:13e3},{text:"[2025-01-10 09:13:36.812] [INFO ] [DB-WRITER-01] Inserting batch (size=2,000) into MongoDB...",color:"#cc0066",delay:13400},{text:"[2025-01-10 09:13:37.305] [INFO ] [DB-WRITER-01] Committed batch (rows=2,000, elapsed=0.49s)",color:"#cc0066",delay:13800},{text:"[2025-01-10 09:13:38.019] [INFO ] [DB-WRITER-02] Inserting final batch (size=2,341) into MongoDB...",color:"#cc0066",delay:14200},{text:"[2025-01-10 09:13:38.587] [INFO ] [DB-WRITER-02] Committed batch (rows=2,341, elapsed=0.56s)",color:"#cc0066",delay:14600},{text:"",color:"#333333",delay:14800},{text:"[2025-01-10 09:13:38.601] [INFO ] [STATS] Parsed records     : 26,916",color:"#cc6600",delay:15e3},{text:"[2025-01-10 09:13:38.602] [INFO ] [STATS] Stored updates     : 12,341",color:"#cc6600",delay:15200},{text:"[2025-01-10 09:13:38.603] [INFO ] [STATS] Unique prefixes    : 3,287",color:"#cc6600",delay:15400},{text:"[2025-01-10 09:13:38.604] [INFO ] [STATS] Unique origin ASNs : 412",color:"#cc6600",delay:15600},{text:"[2025-01-10 09:13:38.605] [INFO ] [STATS] Total processing   : 17.3s",color:"#cc6600",delay:15800},{text:"",color:"#333333",delay:16e3},{text:"[2025-01-10 09:13:38.617] [INFO ] BGP archive collection finished successfully.",color:"#008000",delay:16200},{text:"[2025-01-10 09:13:38.618] [INFO ] Press any key to close this window...",color:"#888888",delay:16600}];function ml({onNavigate:e}){const[t,i]=T.useState([]),[s,n]=T.useState(!1),[o,a]=T.useState(!1),l=T.useRef(null),c=T.useRef([]);T.useEffect(()=>{l.current?.scrollIntoView({behavior:"smooth"})},[t]);const d=()=>{c.current.forEach(clearTimeout),c.current=[],n(!1),a(!0)};return T.useEffect(()=>()=>{c.current.forEach(clearTimeout)},[]),r.jsxs(w,{sx:{height:"100%",display:"flex",flexDirection:"column",bgcolor:"#F0EDFD",borderRadius:1,overflow:"hidden",position:"relative"},children:[r.jsxs(w,{sx:{position:"absolute",top:8,left:12,right:12,display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:10},children:[r.jsx(y,{variant:"h4",color:"text.secondary",fontWeight:"bold",children:" BGP Archive Data   DB "}),e&&r.jsx(A,{size:"small",variant:"outlined",onClick:e,sx:{flexShrink:0},children:""})]}),r.jsxs(w,{sx:{display:"flex",gap:1,p:1,pt:6,bgcolor:"#F0EDFD",borderBottom:"1px solid #D0C9F5"},children:[r.jsx(A,{size:"small",variant:"contained",color:"success",startIcon:r.jsx(j,{}),onClick:()=>{i([]),n(!0),a(!1),pl.forEach((e,t)=>{const r=setTimeout(()=>{o||i(t=>[...t,e])},e.delay/3);c.current.push(r)});const e=setTimeout(()=>{n(!1)},(pl[pl.length-1].delay+500)/3);c.current.push(e)},disabled:s,sx:{minWidth:"80px",fontSize:"0.7rem"},children:"Start"}),r.jsx(A,{size:"small",variant:"contained",color:"error",startIcon:r.jsx(C,{}),onClick:d,disabled:!s,sx:{minWidth:"80px",fontSize:"0.7rem"},children:"Stop"}),r.jsx(A,{size:"small",variant:"contained",color:"info",startIcon:r.jsx(S,{}),onClick:()=>{d(),i([]),a(!1)},sx:{minWidth:"80px",fontSize:"0.7rem"},children:"Reset"})]}),r.jsxs(w,{sx:{flex:1,overflow:"auto",p:2,fontFamily:'"Courier New", Courier, monospace',fontSize:"0.75rem",lineHeight:1.6,bgcolor:"#F0EDFD",color:"#333333","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{bgcolor:"#F0EDFD"},"&::-webkit-scrollbar-thumb":{bgcolor:"#C5BEE6",borderRadius:"4px","&:hover":{bgcolor:"#B0A8D9"}}},children:[0===t.length&&!s&&r.jsx(y,{sx:{fontFamily:'"Courier New", Courier, monospace',fontSize:"0.75rem",color:"#999",fontStyle:"italic"},children:"Press 'Start' to begin BGP data collection..."}),t.map((e,t)=>r.jsx(w,{sx:{mb:.5,color:e.color,animation:"fadeIn 0.3s ease-in","@keyframes fadeIn":{from:{opacity:0,transform:"translateX(-10px)"},to:{opacity:1,transform:"translateX(0)"}}},children:e.text},t)),s&&r.jsx(w,{sx:{display:"inline-block",width:"8px",height:"14px",bgcolor:"#008000",ml:.5,animation:"blink 1s infinite","@keyframes blink":{"0%, 49%":{opacity:1},"50%, 100%":{opacity:0}}}}),r.jsx("div",{ref:l})]})]})}const xl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],gl=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],fl=[76,85,101,98,87,105,91,114,94,86,115,35],yl=[31,40,28,51,42,109,100],bl=[110,60,150,35,60,36,26,45,65,52,53,41],vl=[11,32,45,32,34,52,41];function wl({items:e,onToggle:t}){return r.jsx(I,{direction:"row",sx:{gap:2,alignItems:"center",justifyContent:"center",mt:.5,mb:0},children:e.map(e=>r.jsxs(I,{direction:"row",sx:{gap:1.25,alignItems:"center",cursor:"pointer"},onClick:()=>t(e.label),children:[r.jsx(w,{sx:{width:12,height:12,bgcolor:e.visible?e.color:"grey.500",borderRadius:"50%"}}),r.jsx(y,{variant:"body2",color:"text.primary",children:e.label})]},e.label))})}function Il({view:e}){const t=i(),[s,n]=T.useState({"  ":!0,"  ":!0}),o="monthly"===e?xl:gl,a="monthly"===e?fl:yl,l="monthly"===e?bl:vl,c=t.palette.divider,d=[{data:a,label:"  ",showMark:!1,area:!0,id:"Germany",color:t.palette.primary.main||"",visible:s["  "]},{data:l,label:"  ",showMark:!1,area:!0,id:"UK",color:t.palette.primary[700]||"",visible:s["  "]}],u={fontSize:10,fill:t.palette.text.secondary};return r.jsxs(r.Fragment,{children:[r.jsx(Qa,{grid:{horizontal:!0},xAxis:[{scaleType:"point",data:o,disableLine:!0,tickLabelStyle:u}],yAxis:[{disableLine:!0,disableTicks:!0,tickLabelStyle:u}],height:140,margin:{top:5,bottom:15,right:15},series:d.filter(e=>e.visible).map(e=>({type:"line",data:e.data,label:e.label,showMark:e.showMark,area:e.area,id:e.id,color:e.color,stroke:e.color,strokeWidth:2})),slotProps:{legend:{hidden:!0}},sx:{"& .MuiAreaElement-series-Germany":{fill:"url('#myGradient1')",strokeWidth:2,opacity:.8},"& .MuiAreaElement-series-UK":{fill:"url('#myGradient2')",strokeWidth:2,opacity:.8},"& .MuiChartsAxis-directionX .MuiChartsAxis-tick":{stroke:c}},children:r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"myGradient1",gradientTransform:"rotate(90)",children:[r.jsx("stop",{offset:"10%",stopColor:z(t.palette.primary.main,.4)}),r.jsx("stop",{offset:"90%",stopColor:z(t.palette.background.default,.4)})]}),r.jsxs("linearGradient",{id:"myGradient2",gradientTransform:"rotate(90)",children:[r.jsx("stop",{offset:"10%",stopColor:z(t.palette.primary[700],.4)}),r.jsx("stop",{offset:"90%",stopColor:z(t.palette.background.default,.4)})]})]})}),r.jsx(wl,{items:d,onToggle:e=>{n(t=>({...t,[e]:!t[e]}))}})]})}function kl(){const[e,t]=T.useState("monthly"),[i,s]=T.useState([]),n=D();T.useEffect(()=>{fetch("http://localhost:8000/neo4j/nodes?activeView=target").then(e=>e.json()).then(e=>s(e)).catch(()=>{})},[]);const o=()=>{n("/ExtInt/TimeSeriesVisualization")},a=()=>n("/ExtInt/TimeSeriesVisualization");return r.jsxs(w,{sx:{height:"calc(100vh - 120px)",display:"flex",flexDirection:"column",gap:2,overflow:"hidden"},children:[r.jsx(P,{sx:{bgcolor:"background.paper",boxShadow:2,borderRadius:2,border:"1px solid",borderColor:"divider",flexShrink:0},children:r.jsx(M,{sx:{p:1.5},children:r.jsxs(E,{container:!0,spacing:1.5,sx:{height:250},children:[r.jsx(E,{size:{xs:12,md:4},children:r.jsxs(w,{onClick:o,sx:{bgcolor:"#F0EDFD",borderRadius:2,border:"1px solid",borderColor:"divider",p:1.5,height:"260px",cursor:"pointer",transition:"all 0.3s ease",overflow:"hidden","&:hover":{boxShadow:3,transform:"translateY(-2px)",borderColor:"primary.main"}},children:[r.jsx(y,{variant:"h4",gutterBottom:!0,sx:{color:"text.primary",fontWeight:"bold",mb:.5},children:"   "}),r.jsxs(I,{direction:"row",sx:{alignItems:"center",mb:.5},onClick:e=>e.stopPropagation(),children:[r.jsx(A,{size:"small",onClick:e=>{e.stopPropagation(),t("monthly")},color:"monthly"===e?"primary":"secondary",variant:"monthly"===e?"outlined":"text",children:"Month"}),r.jsx(A,{size:"small",onClick:e=>{e.stopPropagation(),t("weekly")},color:"weekly"===e?"primary":"secondary",variant:"weekly"===e?"outlined":"text",children:"Week"})]}),r.jsx(w,{sx:{height:"100%"},onClick:e=>e.stopPropagation(),children:r.jsx(Il,{view:e})})]})}),r.jsx(E,{size:{xs:12,md:4},children:r.jsxs(w,{onClick:o,sx:{bgcolor:"#F0EDFD",borderRadius:2,border:"1px solid",borderColor:"divider",p:1,height:"100%",cursor:"pointer",transition:"all 0.3s ease",overflow:"hidden","&:hover":{boxShadow:3,transform:"translateY(-2px)",borderColor:"primary.main"}},children:[r.jsx(y,{variant:"h4",gutterBottom:!0,sx:{color:"text.primary",fontWeight:"bold",mb:.5},children:"   "}),r.jsxs(w,{onClick:e=>e.stopPropagation(),children:[r.jsxs(R,{sx:{p:0,"& .MuiListItemButton-root":{py:0,minHeight:24}},children:[r.jsxs(N,{divider:!0,children:[r.jsx(F,{primary:"  "}),r.jsx(y,{variant:"h6",color:"success.main",children:"+45.14%"})]}),r.jsxs(N,{divider:!0,children:[r.jsx(F,{primary:" "}),r.jsx(y,{variant:"h6",color:"warning.main",children:"0.58%"})]}),r.jsxs(N,{children:[r.jsx(F,{primary:"  "}),r.jsx(y,{variant:"h6",color:"success.main",children:"Low"})]})]}),r.jsx(el,{})]})]})}),r.jsx(E,{size:{xs:12,md:4},children:r.jsxs(w,{onClick:o,sx:{bgcolor:"#F0EDFD",borderRadius:2,border:"1px solid",borderColor:"divider",p:1,height:"100%",cursor:"pointer",transition:"all 0.3s ease",overflow:"hidden","&:hover":{boxShadow:3,transform:"translateY(-2px)",borderColor:"primary.main"}},children:[r.jsx(y,{variant:"h4",gutterBottom:!0,sx:{color:"text.primary",fontWeight:"bold",mb:.5},children:"   "}),r.jsxs(E,{container:!0,spacing:.5,onClick:e=>e.stopPropagation(),children:[r.jsx(E,{size:6,children:r.jsxs(w,{sx:{bgcolor:"primary.lighter",borderRadius:1,p:1.5,height:"100px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",boxShadow:1},children:[r.jsx(y,{variant:"body2",color:"text.primary",sx:{mb:.5},children:"   "}),r.jsx(y,{variant:"h4",color:"primary.main",fontWeight:"bold",children:"2,236"})]})}),r.jsx(E,{size:6,children:r.jsxs(w,{sx:{bgcolor:"warning.lighter",borderRadius:1,p:1.5,height:"100px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",boxShadow:1},children:[r.jsx(y,{variant:"body2",color:"text.primary",sx:{mb:.5},children:"   "}),r.jsx(y,{variant:"h4",color:"warning.main",fontWeight:"bold",children:"800"})]})}),r.jsx(E,{size:6,children:r.jsxs(w,{sx:{bgcolor:"primary.lighter",borderRadius:1,p:1.5,height:"100px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",boxShadow:1},children:[r.jsx(y,{variant:"body2",color:"text.primary",sx:{mb:.5},children:"   "}),r.jsx(y,{variant:"h4",color:"primary.main",fontWeight:"bold",children:"20"})]})}),r.jsx(E,{size:6,children:r.jsxs(w,{sx:{bgcolor:"warning.lighter",borderRadius:1,p:1.5,height:"100px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",boxShadow:1},children:[r.jsx(y,{variant:"body2",color:"text.primary",sx:{mb:.5},children:"   "}),r.jsx(y,{variant:"h4",color:"warning.main",fontWeight:"bold",children:"1,278"})]})})]})]})})]})})}),r.jsx(P,{sx:{bgcolor:"background.paper",boxShadow:2,borderRadius:2,border:"1px solid",borderColor:"divider",flex:1,minHeight:0,overflow:"hidden"},children:r.jsx(M,{sx:{p:1.5,height:"100%","&:last-child":{pb:1.5},boxSizing:"border-box",overflow:"auto"},children:r.jsxs(E,{container:!0,spacing:1.5,sx:{height:"100%"},children:[r.jsx(E,{size:6,sx:{height:"calc(33.33% - 8px)"},children:r.jsx(ml,{onNavigate:a})}),r.jsx(E,{size:6,sx:{height:"calc(33.33% - 8px)"},children:r.jsxs(w,{sx:{bgcolor:"#F0EDFD",boxShadow:1,borderRadius:2,border:"1px solid",borderColor:"divider",height:"100%",p:2,display:"flex",flexDirection:"column",justifyContent:"center"},children:[r.jsx(y,{variant:"h3",gutterBottom:!0,fontWeight:"bold",children:" BGP   "}),r.jsx(y,{variant:"h4",color:"text.secondary",children:"BGP Archive    MongoDB . IP, , ,   ,     BGP Hijacking        ."})]})}),r.jsx(E,{size:3,sx:{height:"calc(33.33% - 8px)"},children:r.jsx(P,{sx:{bgcolor:"background.default",boxShadow:1,borderRadius:2,border:"1px solid",borderColor:"divider",height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:r.jsxs(M,{sx:{flex:1,p:0,"&:last-child":{pb:0},position:"relative"},children:[r.jsx(w,{sx:{position:"absolute",top:4,left:8,zIndex:10},children:r.jsx(y,{variant:"h4",color:"text.secondary",fontWeight:"bold",children:" Osint &     "})}),r.jsx(A,{size:"small",variant:"outlined",onClick:a,sx:{position:"absolute",top:4,right:8,zIndex:10},children:""}),r.jsx(w,{sx:{width:"100%",height:"100%"},children:r.jsx(rl,{})})]})})}),r.jsx(E,{size:3,sx:{height:"calc(33.33% - 8px)"},children:r.jsxs(w,{sx:{bgcolor:"#F0EDFD",boxShadow:1,borderRadius:2,border:"1px solid",borderColor:"divider",height:"100%",p:2,display:"flex",flexDirection:"column",justifyContent:"center"},children:[r.jsx(y,{variant:"h3",gutterBottom:!0,fontWeight:"bold",children:" OSINT "}),r.jsx(y,{variant:"h4",color:"text.secondary",children:"   3D Globe     .              ."})]})}),r.jsx(E,{size:3,sx:{height:"calc(33.33% - 8px)"},children:r.jsx(P,{sx:{bgcolor:"background.default",boxShadow:1,borderRadius:2,border:"1px solid",borderColor:"divider",height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:r.jsxs(M,{sx:{flex:1,p:0,"&:last-child":{pb:0},position:"relative"},children:[r.jsx(w,{sx:{position:"absolute",top:4,left:8,zIndex:10,bgcolor:"rgba(255,255,255,0.85)",px:.5,borderRadius:1},children:r.jsx(y,{variant:"h4",color:"text.secondary",fontWeight:"bold",children:"    &    "})}),r.jsx(A,{size:"small",variant:"outlined",onClick:()=>n("/target/targetDashboard"),sx:{position:"absolute",top:4,right:8,zIndex:10,bgcolor:"rgba(255,255,255,0.85)"},children:""}),r.jsx(w,{sx:{width:"100%",height:"100%"},children:r.jsx(hl,{dbNodes:i})})]})})}),r.jsx(E,{size:3,sx:{height:"calc(33.33% - 8px)"},children:r.jsxs(w,{sx:{bgcolor:"#F0EDFD",boxShadow:1,borderRadius:2,border:"1px solid",borderColor:"divider",height:"100%",p:2,display:"flex",flexDirection:"column",justifyContent:"center"},children:[r.jsx(y,{variant:"h3",gutterBottom:!0,fontWeight:"bold",children:"  "}),r.jsx(y,{variant:"h4",color:"text.secondary",children:"        2D Force Graph .            ."})]})}),r.jsx(E,{size:3,sx:{height:"calc(33.33% - 8px)"},children:r.jsx(P,{sx:{bgcolor:"background.default",boxShadow:1,borderRadius:2,border:"1px solid",borderColor:"divider",height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:r.jsxs(M,{sx:{flex:1,p:0,"&:last-child":{pb:0},position:"relative",height:"100%"},children:[r.jsx(w,{sx:{position:"absolute",top:4,left:8,zIndex:10,bgcolor:"rgba(255,255,255,0.85)",px:.5,borderRadius:1},children:r.jsx(y,{variant:"h4",color:"text.secondary",fontWeight:"bold",children:"   &    "})}),r.jsx(A,{size:"small",variant:"outlined",onClick:()=>n("/ExtInt/internaltopology"),sx:{position:"absolute",top:4,right:8,zIndex:10,bgcolor:"rgba(255,255,255,0.85)"},children:""}),r.jsx(w,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"hidden"},children:r.jsx(nl,{})})]})})}),r.jsx(E,{size:3,sx:{height:"calc(33.33% - 8px)"},children:r.jsxs(w,{sx:{bgcolor:"#F0EDFD",boxShadow:1,borderRadius:2,border:"1px solid",borderColor:"divider",height:"100%",p:2,display:"flex",flexDirection:"column",justifyContent:"center"},children:[r.jsx(y,{variant:"h3",gutterBottom:!0,fontWeight:"bold",children:"  "}),r.jsx(y,{variant:"h4",color:"text.secondary",children:" BGP Archive Data    3(Physical-Logical-Persona)  3D . Zone  ,   ,       ."})]})}),r.jsx(E,{size:3,sx:{height:"calc(33.33% - 8px)"},children:r.jsx(P,{sx:{bgcolor:"background.default",boxShadow:1,borderRadius:2,border:"1px solid",borderColor:"divider",height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:r.jsxs(M,{sx:{flex:1,p:0,"&:last-child":{pb:0},position:"relative",height:"100%"},children:[r.jsx(w,{sx:{position:"absolute",top:4,left:8,zIndex:10,bgcolor:"rgba(255,255,255,0.85)",px:.5,borderRadius:1},children:r.jsx(y,{variant:"h4",color:"text.secondary",fontWeight:"bold",children:"   &   "})}),r.jsx(A,{size:"small",variant:"outlined",onClick:()=>n("/ActiveResponse/responseeffectvisualization"),sx:{position:"absolute",top:4,right:8,zIndex:10,bgcolor:"rgba(255,255,255,0.85)"},children:""}),r.jsx(w,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"hidden"},children:r.jsx(dl,{})})]})})}),r.jsx(E,{size:3,sx:{height:"calc(33.33% - 8px)"},children:r.jsxs(w,{sx:{bgcolor:"#F0EDFD",boxShadow:1,borderRadius:2,border:"1px solid",borderColor:"divider",height:"100%",p:2,display:"flex",flexDirection:"column",justifyContent:"center"},children:[r.jsx(y,{variant:"h3",gutterBottom:!0,fontWeight:"bold",children:"  "}),r.jsx(y,{variant:"h4",color:"text.secondary",children:"      .        , ,      ."})]})})]})})})]})}export{kl as default};
