import{j as e}from"./mui-vendor-BDHQmYi7.js";import{c as t,a}from"./react-vendor-ClEFeRSO.js";import{R as i,Q as r,X as n,Y as o,T as s,U as c,V as d,W as l,Z as h}from"./chart-vendor-CeJ1_NXY.js";const m=t.memo(({data:t,chartType:m,compact:x=!1})=>{const{histogram:f,lineData:g,degreeHistogram:p,conHistogram:j}=a.useMemo(()=>{if(!Array.isArray(t)||0===t.length)return{histogram:[],lineData:[],degreeHistogram:[],conHistogram:[]};const e=function(e){const t=e.map(e=>e.degree_score+e.con_score),a=Math.min(...t),i=Math.max(...t);return t.map(e=>i===a?0:(e-a)/(i-a))}(t),a=function(e){const t=Array(10).fill(0);return e.forEach(e=>{const a=Math.min(9,Math.floor(10*e));t[a]++}),t.map((e,t)=>({range:`${(t/10).toFixed(1)}-${((t+1)/10).toFixed(1)}`,count:e}))}(e),i=function(e){const t=Array(10).fill(0);return e.forEach(e=>{const a=e.degree_score||0,i=Math.min(9,Math.floor(10*a));t[i]++}),t.map((e,t)=>({range:`${(t/10).toFixed(1)}-${((t+1)/10).toFixed(1)}`,count:e}))}(t),r=function(e){const t=Array(10).fill(0);return e.forEach(e=>{const a=e.con_score||0,i=Math.min(9,Math.floor(10*a));t[i]++}),t.map((e,t)=>({range:`${(t/10).toFixed(1)}-${((t+1)/10).toFixed(1)}`,count:e}))}(t);return{histogram:a,lineData:e.map((e,t)=>({idx:t,score:e})).sort((e,t)=>e.score-t.score),degreeHistogram:i,conHistogram:r}},[t]);if(x){const t="degree"===m?p:j,a="degree"===m?"#8884d8":"#82ca9d",l="degree"===m?"점수 별 표적 개수":"표적 정규화 점수";return e.jsx("div",{style:{width:"100%",height:"100%"},children:e.jsx(i,{width:"100%",height:"100%",children:e.jsxs(r,{data:t,margin:{top:5,right:5,left:-20,bottom:18},children:[e.jsx(n,{dataKey:"range",tick:{fontSize:8},interval:2}),e.jsx(o,{allowDecimals:!1,tick:{fontSize:8}}),e.jsx(s,{contentStyle:{fontSize:"10px"}}),e.jsx(c,{wrapperStyle:{fontSize:"9px",paddingTop:"2px"},iconSize:10}),e.jsx(d,{dataKey:"count",fill:a,name:l})]})})})}return e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"16px",padding:"8px"},children:[e.jsx("div",{style:{flex:1,height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(i,{width:"100%",height:"100%",children:e.jsxs(r,{data:f,margin:{top:10,right:10,left:-5,bottom:5},children:[e.jsx(n,{dataKey:"range",tick:{fontSize:11},interval:1}),e.jsx(o,{allowDecimals:!1,tick:{fontSize:11}}),e.jsx(s,{}),e.jsx(c,{wrapperStyle:{fontSize:"11px"},iconSize:8}),e.jsx(d,{dataKey:"count",fill:"#8884d8",name:"점수 별 표적 개수"})]})})}),e.jsx("div",{style:{flex:1,height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(i,{width:"100%",height:"100%",children:e.jsxs(l,{data:g,margin:{top:10,right:10,left:-5,bottom:5},children:[e.jsx(n,{dataKey:"idx",hide:!0}),e.jsx(o,{domain:[0,1],tick:{fontSize:11}}),e.jsx(s,{}),e.jsx(c,{wrapperStyle:{fontSize:"11px"},iconSize:8}),e.jsx(h,{type:"monotone",dataKey:"score",stroke:"#82ca9d",dot:!1,name:"표적 정규화 점수"})]})})})]})});m.displayName="TrendChart";export{m as default};
