import{j as e,o as t,t as r}from"./mui-vendor-BCY2i4tN.js";import{a as n,c as a}from"./react-vendor-D7TXN3SA.js";const l=({open:l=!0,isPopup:i=!1})=>{const[o,c]=n.useState(""),[s,u]=n.useState(!1),[d,p]=n.useState(!0),h=a.useRef(null),x=a.useRef(null);n.useEffect(()=>(l?(c(""),u(!1),f(),x.current=setInterval(()=>{p(e=>!e)},500)):(x.current&&(clearInterval(x.current),x.current=null),h.current&&(clearInterval(h.current),h.current=null),c(""),u(!1)),()=>{x.current&&clearInterval(x.current),h.current&&clearInterval(h.current)}),[l]);const f=async()=>{u(!0),c("");try{const e=await fetch("http://localhost:5000/api/read-info-file?file=inter.txt"),t=await e.text();v(t)}catch(e){c("파일을 로드할 수 없습니다."),u(!1)}},v=e=>{h.current&&(clearInterval(h.current),h.current=null);let t=0;c(""),u(!0),h.current=setInterval(()=>{t<e.length?(c(r=>r+e[t]),t++):(clearInterval(h.current),h.current=null,u(!1))},15)};return e.jsx(t,{component:"main",role:"main","aria-label":"위험 노출도 및 공격 가능도 측정",sx:{width:"100%",height:i?"100%":"calc(100vh - 120px)",bgcolor:"background.paper",boxShadow:3,m:0},children:e.jsx(r,{sx:{p:1,height:"100%","&:last-child":{pb:1},display:"flex",flexDirection:"column",overflow:"auto"},children:e.jsxs("div",{style:{background:"#f0edfd",color:"#39306b",padding:"20px",fontFamily:"'Noto Sans KR', 'Malgun Gothic', 'Apple SD Gothic Neo', Arial, Helvetica, sans-serif",height:"100%",fontSize:"14px",lineHeight:"1.5",overflow:"auto",borderRadius:"4px"},children:[e.jsxs("div",{style:{borderBottom:"2px solid #39306b",paddingBottom:"10px",marginBottom:"20px"},children:[e.jsx("h2",{style:{margin:0},children:"위험 노출도 및 공격 가능도 측정"}),e.jsx("div",{style:{fontSize:"12px",opacity:.7},children:"Loading ~ Neo4j - neo4j+s://eff16e19.databases.neo4j.io"})]}),e.jsxs("div",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",position:"relative"},children:[o,s&&e.jsx("span",{style:{display:"inline-block",width:"8px",height:"16px",backgroundColor:"#0f0",marginLeft:"2px",animation:d?"none":"blink 1s step-end infinite",opacity:d?1:0},children:d?"█":""})]})]})})})};export{l as T};
