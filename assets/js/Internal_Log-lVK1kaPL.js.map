{"version":3,"file":"Internal_Log-lVK1kaPL.js","sources":["../../../miraedojeon/front/src/pages/ExtInt/Internal/Internal_Log.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Card, CardContent, Typography, IconButton } from '@mui/material';\r\nimport { ClusterOutlined } from '@ant-design/icons';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction InternalLog({ eventLogs = [] }) {\r\n  const navigate = useNavigate();\r\n\r\n  return (\r\n    <Card sx={{\r\n      minWidth: 350,\r\n      width: 300,\r\n      bgcolor: '#f0edfd',\r\n      color: '#000',\r\n      border: '1px solid #d0c9f0',\r\n      boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\r\n      borderRadius: '20px',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      flexShrink: 0,\r\n      height: '100%'\r\n    }}>\r\n      <CardContent sx={{ p: 2, display: 'flex', flexDirection: 'column', gap: 2, flex: 1, minHeight: 0 }}>\r\n        <Typography variant=\"subtitle1\" sx={{ fontWeight: 700, color: '#39306b', mb: 1 }}>이벤트 로그</Typography>\r\n        <div style={{ flex: 1, overflowY: 'auto', minHeight: 0 }}>\r\n        {eventLogs.length === 0 ? (\r\n          <div style={{ color: '#666', fontSize: '14px', padding: '10px' }}>\r\n            노드를 클릭하면 이벤트 로그가 표시됩니다.\r\n          </div>\r\n        ) : (\r\n          eventLogs.map((log, idx) => (\r\n            <div\r\n              key={idx}\r\n              style={{\r\n                padding: '12px 14px',\r\n                marginBottom: '12px',\r\n                background: 'linear-gradient(180deg, rgba(128,90,213,0.12), rgba(99,102,241,0.08))',\r\n                borderRadius: '12px',\r\n                border: '1px solid rgba(124,58,237,0.25)',\r\n                boxShadow: '0 6px 20px rgba(91,76,155,0.18)',\r\n                fontSize: '13px',\r\n                color: '#1f1b2e'\r\n              }}\r\n            >\r\n              {log.message && (\r\n                <div style={{ fontWeight: 700, marginBottom: '8px', color: '#2a2050' }}>{log.message}</div>\r\n              )}\r\n              \r\n              {/* 연결된 노드 개수 */}\r\n              {log.connectedCount !== undefined && (\r\n                <div style={{ marginTop: '8px', marginBottom: '8px', color: '#2a2050' }}>\r\n                  연결된 노드 개수: {log.connectedCount}\r\n                  {Array.isArray(log.connectedIps) && log.connectedIps.length > 0 && (\r\n                    <details style={{ marginTop: '4px', color: '#2a2050' }}>\r\n                      <summary style={{ cursor: 'pointer', color: '#6d4dd6', fontWeight: 700 }}>연결된 노드 IP 목록 보기</summary>\r\n                      <ul style={{ margin: 0, paddingLeft: 16 }}>\r\n                        {log.connectedIps.map((ip, i) => (\r\n                          <li key={ip + i} style={{ color: '#2a2050' }}>{ip}</li>\r\n                        ))}\r\n                      </ul>\r\n                    </details>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* dbInfo 배열 출력 - 하나의 카드로 통합 */}\r\n              {Array.isArray(log.dbInfo) && log.dbInfo.length > 0 && log.dbInfo.map((info, i) => (\r\n                <div key={i} style={{ margin: '8px 0', background: 'rgba(255,255,255,0.6)', border: '1px solid rgba(124,58,237,0.18)', borderRadius: 10, padding: '12px', color: '#2a2050', position: 'relative' }}>\r\n                  {/* 내부망 이동 아이콘 */}\r\n                  <IconButton\r\n                    size=\"small\"\r\n                    aria-label=\"타겟 대시보드로 이동\"\r\n                    title=\"타겟 대시보드로 이동\"\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      navigate('/target/targetDashboard');\r\n                    }}\r\n                    sx={{\r\n                      position: 'absolute',\r\n                      top: 4,\r\n                      right: 4,\r\n                      color: '#7c3aed',\r\n                      bgcolor: 'rgba(124,58,237,0.1)',\r\n                      border: '1px solid rgba(124,58,237,0.3)',\r\n                      '&:hover': {\r\n                        bgcolor: 'rgba(124,58,237,0.2)',\r\n                        color: '#9333ea'\r\n                      },\r\n                      width: 24,\r\n                      height: 24\r\n                    }}\r\n                  >\r\n                    <ClusterOutlined style={{ fontSize: 12 }} />\r\n                  </IconButton>\r\n                  \r\n                  {/* Source IP */}\r\n                  {info.src_IP && (\r\n                    <div style={{ marginBottom: '12px' }}>\r\n                      <strong style={{ color: '#3b2c6b' }}>Source IP</strong>\r\n                      <ul style={{ margin: 0, paddingLeft: 16, marginTop: 6 }}>\r\n                        {Object.entries(info.src_IP)\r\n                          .filter(([key, value]) => [\"ip\", \"subnet\", \"gateway\", \"__labels\", \"id\"].includes(key) && value !== undefined && value !== null && value !== '')\r\n                          .map(([key, value]) => (\r\n                            <li key={key} style={{ color: '#2a2050' }}><b style={{ color: '#6553a7' }}>{key}:</b> {String(value)}</li>\r\n                          ))}\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {/* Destination IP */}\r\n                  {info.dst_IP && (\r\n                    <div style={{ marginBottom: '12px' }}>\r\n                      <strong style={{ color: '#3b2c6b' }}>Destination IP</strong>\r\n                      <ul style={{ margin: 0, paddingLeft: 16, marginTop: 6 }}>\r\n                        {Object.entries(info.dst_IP)\r\n                          .filter(([key, value]) => [\"ip\", \"subnet\", \"gateway\", \"__labels\", \"id\"].includes(key) && value !== undefined && value !== null && value !== '')\r\n                          .map(([key, value]) => (\r\n                            <li key={key} style={{ color: '#2a2050' }}><b style={{ color: '#6553a7' }}>{key}:</b> {String(value)}</li>\r\n                          ))}\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {/* Edge Info */}\r\n                  {info.edge && (\r\n                    <div>\r\n                      <strong style={{ color: '#3b2c6b' }}>Edge Info</strong>\r\n                      <ul style={{ margin: 0, paddingLeft: 16, marginTop: 6 }}>\r\n                        {Object.entries(info.edge)\r\n                          .filter(([key]) => ![\"count\"].includes(key))\r\n                          .map(([key, value]) => {\r\n                            const label = key === 'sourceIP' ? 'SrcID' : key === 'targetIP' ? 'targetID' : key;\r\n                            return (\r\n                              <li key={label} style={{ color: '#2a2050' }}><b style={{ color: '#6553a7' }}>{label}:</b> {String(value)}</li>\r\n                            );\r\n                          })}\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ))\r\n        )}\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default InternalLog;\r\n"],"names":["InternalLog","eventLogs","navigate","useNavigate","jsx","Card","sx","minWidth","width","bgcolor","color","border","boxShadow","borderRadius","display","flexDirection","flexShrink","height","children","jsxs","CardContent","p","gap","flex","minHeight","Typography","variant","fontWeight","mb","style","overflowY","length","fontSize","padding","map","log","idx","marginBottom","background","message","connectedCount","marginTop","Array","isArray","connectedIps","cursor","margin","paddingLeft","ip","i","dbInfo","info","position","IconButton","size","title","onClick","e","stopPropagation","top","right","ClusterOutlined","src_IP","entries","filter","key","value","includes","String","dst_IP","edge","Object","label"],"mappings":"4QAKA,SAASA,GAAYC,UAAEA,EAAY,KACjC,MAAMC,EAAWC,IAEjB,OACEC,EAAAA,IAACC,GAAKC,GAAI,CACRC,SAAU,IACVC,MAAO,IACPC,QAAS,UACTC,MAAO,OACPC,OAAQ,oBACRC,UAAW,4BACXC,aAAc,OACdC,QAAS,OACTC,cAAe,SACfC,WAAY,EACZC,OAAQ,QAERC,SAAAC,EAAAA,KAACC,EAAA,CAAYd,GAAI,CAAEe,EAAG,EAAGP,QAAS,OAAQC,cAAe,SAAUO,IAAK,EAAGC,KAAM,EAAGC,UAAW,GAC7FN,SAAA,CAAAd,EAAAA,IAACqB,EAAA,CAAWC,QAAQ,YAAYpB,GAAI,CAAEqB,WAAY,IAAKjB,MAAO,UAAWkB,GAAI,GAAKV,SAAA,WAClFd,EAAAA,IAAC,MAAA,CAAIyB,MAAO,CAAEN,KAAM,EAAGO,UAAW,OAAQN,UAAW,GACpDN,SAAqB,IAArBjB,EAAU8B,OACT3B,MAAC,MAAA,CAAIyB,MAAO,CAAEnB,MAAO,OAAQsB,SAAU,OAAQC,QAAS,QAAUf,SAAA,4BAIlEjB,EAAUiC,IAAI,CAACC,EAAKC,IAClBjB,EAAAA,KAAC,MAAA,CAECU,MAAO,CACLI,QAAS,YACTI,aAAc,OACdC,WAAY,wEACZzB,aAAc,OACdF,OAAQ,kCACRC,UAAW,kCACXoB,SAAU,OACVtB,MAAO,WAGRQ,SAAA,CAAAiB,EAAII,SACHnC,EAAAA,IAAC,MAAA,CAAIyB,MAAO,CAAEF,WAAY,IAAKU,aAAc,MAAO3B,MAAO,WAAcQ,WAAIqB,eAIvD,IAAvBJ,EAAIK,gBACHrB,EAAAA,KAAC,MAAA,CAAIU,MAAO,CAAEY,UAAW,MAAOJ,aAAc,MAAO3B,MAAO,WAAaQ,SAAA,CAAA,cAC3DiB,EAAIK,eACfE,MAAMC,QAAQR,EAAIS,eAAiBT,EAAIS,aAAab,OAAS,GAC5DZ,EAAAA,KAAC,WAAQU,MAAO,CAAEY,UAAW,MAAO/B,MAAO,WACzCQ,SAAA,CAAAd,EAAAA,IAAC,UAAA,CAAQyB,MAAO,CAAEgB,OAAQ,UAAWnC,MAAO,UAAWiB,WAAY,KAAOT,SAAA,oBAC1Ed,EAAAA,IAAC,KAAA,CAAGyB,MAAO,CAAEiB,OAAQ,EAAGC,YAAa,IAClC7B,SAAAiB,EAAIS,aAAaV,IAAI,CAACc,EAAIC,IACzB7C,EAAAA,IAAC,KAAA,CAAgByB,MAAO,CAAEnB,MAAO,WAAcQ,SAAA8B,GAAtCA,EAAKC,YASzBP,MAAMC,QAAQR,EAAIe,SAAWf,EAAIe,OAAOnB,OAAS,GAAKI,EAAIe,OAAOhB,IAAI,CAACiB,EAAMF,IAC3E9B,EAAAA,KAAC,MAAA,CAAYU,MAAO,CAAEiB,OAAQ,QAASR,WAAY,wBAAyB3B,OAAQ,kCAAmCE,aAAc,GAAIoB,QAAS,OAAQvB,MAAO,UAAW0C,SAAU,YAEpLlC,SAAA,CAAAd,EAAAA,IAACiD,EAAA,CACCC,KAAK,QACL,aAAW,cACXC,MAAM,cACNC,QAAUC,IACRA,EAAEC,kBACFxD,EAAS,4BAEXI,GAAI,CACF8C,SAAU,WACVO,IAAK,EACLC,MAAO,EACPlD,MAAO,UACPD,QAAS,uBACTE,OAAQ,iCACR,UAAW,CACTF,QAAS,uBACTC,MAAO,WAETF,MAAO,GACPS,OAAQ,IAGVC,eAAC2C,EAAA,CAAgBhC,MAAO,CAAEG,SAAU,QAIrCmB,EAAKW,QACJ3C,EAAAA,KAAC,MAAA,CAAIU,MAAO,CAAEQ,aAAc,QAC1BnB,SAAA,CAAAd,MAAC,UAAOyB,MAAO,CAAEnB,MAAO,WAAaQ,SAAA,cACrCd,EAAAA,IAAC,MAAGyB,MAAO,CAAEiB,OAAQ,EAAGC,YAAa,GAAIN,UAAW,GACjDvB,gBAAO6C,QAAQZ,EAAKW,QAClBE,OAAO,EAAEC,EAAKC,KAAW,CAAC,KAAM,SAAU,UAAW,WAAY,MAAMC,SAASF,IAAvD,MAA+DC,GAAmD,KAAVA,GACjIhC,IAAI,EAAE+B,EAAKC,KACV/C,OAAC,MAAaU,MAAO,CAAEnB,MAAO,WAAaQ,SAAA,CAAAC,EAAAA,KAAC,IAAA,CAAEU,MAAO,CAAEnB,MAAO,WAAcQ,SAAA,CAAA+C,EAAI,OAAK,IAAEG,OAAOF,KAArFD,SAOlBd,EAAKkB,QACJlD,EAAAA,KAAC,MAAA,CAAIU,MAAO,CAAEQ,aAAc,QAC1BnB,SAAA,CAAAd,MAAC,UAAOyB,MAAO,CAAEnB,MAAO,WAAaQ,SAAA,mBACrCd,EAAAA,IAAC,MAAGyB,MAAO,CAAEiB,OAAQ,EAAGC,YAAa,GAAIN,UAAW,GACjDvB,gBAAO6C,QAAQZ,EAAKkB,QAClBL,OAAO,EAAEC,EAAKC,KAAW,CAAC,KAAM,SAAU,UAAW,WAAY,MAAMC,SAASF,IAAvD,MAA+DC,GAAmD,KAAVA,GACjIhC,IAAI,EAAE+B,EAAKC,KACV/C,OAAC,MAAaU,MAAO,CAAEnB,MAAO,WAAaQ,SAAA,CAAAC,EAAAA,KAAC,IAAA,CAAEU,MAAO,CAAEnB,MAAO,WAAcQ,SAAA,CAAA+C,EAAI,OAAK,IAAEG,OAAOF,KAArFD,SAOlBd,EAAKmB,MACJnD,EAAAA,KAAC,MAAA,CACCD,SAAA,CAAAd,MAAC,UAAOyB,MAAO,CAAEnB,MAAO,WAAaQ,SAAA,cACrCd,EAAAA,IAAC,KAAA,CAAGyB,MAAO,CAAEiB,OAAQ,EAAGC,YAAa,GAAIN,UAAW,GACjDvB,SAAAqD,OAAOR,QAAQZ,EAAKmB,MAClBN,OAAO,EAAEC,MAAU,CAAC,SAASE,SAASF,IACtC/B,IAAI,EAAE+B,EAAKC,MACV,MAAMM,EAAgB,aAARP,EAAqB,QAAkB,aAARA,EAAqB,WAAaA,EAC/E,cACG,KAAA,CAAepC,MAAO,CAAEnB,MAAO,WAAaQ,SAAA,CAAAC,EAAAA,KAAC,IAAA,CAAEU,MAAO,CAAEnB,MAAO,WAAcQ,SAAA,CAAAsD,EAAM,OAAK,IAAEJ,OAAOF,KAAzFM,YAlEbvB,MAnCPb,UAoHnB"}