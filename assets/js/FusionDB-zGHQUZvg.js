import{j as e,o as r,t}from"./mui-vendor-BCY2i4tN.js";import{a as n,c as a}from"./react-vendor-D7TXN3SA.js";const l=({open:l=!0})=>{const[o,i]=n.useState(""),[c,s]=n.useState(!1),[u,d]=n.useState(!0),p=a.useRef(null),h=a.useRef(null);n.useEffect(()=>(l?(i(""),s(!1),x(),h.current=setInterval(()=>{d(e=>!e)},500)):(h.current&&(clearInterval(h.current),h.current=null),p.current&&(clearInterval(p.current),p.current=null),i(""),s(!1)),()=>{h.current&&clearInterval(h.current),p.current&&clearInterval(p.current)}),[l]);const x=async()=>{s(!0),i("");try{const e=await fetch("/api/read-info-file?file=inter.txt"),r=await e.text();f(r)}catch(e){i("파일을 로드할 수 없습니다."),s(!1)}},f=e=>{p.current&&(clearInterval(p.current),p.current=null);let r=0;i(""),s(!0),p.current=setInterval(()=>{r<e.length?(i(t=>t+e[r]),r++):(clearInterval(p.current),p.current=null,s(!1))},25)};return e.jsx(r,{component:"main",role:"main","aria-label":"융합 데이터베이스 구축 콘솔",sx:{width:"100%",height:"calc(100vh - 120px)",bgcolor:"background.paper",boxShadow:3,m:0},children:e.jsx(t,{sx:{p:1,height:"100%","&:last-child":{pb:1},display:"flex",flexDirection:"column",overflow:"auto"},children:e.jsxs("div",{style:{background:"#f0edfd",color:"#39306b",padding:"20px",fontFamily:"'Noto Sans KR', 'Malgun Gothic', 'Apple SD Gothic Neo', Arial, Helvetica, sans-serif",height:"100%",fontSize:"14px",lineHeight:"1.5",overflow:"auto",borderRadius:"4px"},children:[e.jsxs("div",{style:{borderBottom:"2px solid #39306b",paddingBottom:"10px",marginBottom:"20px"},children:[e.jsx("h2",{style:{margin:0},children:"융합 데이터베이스 구축"}),e.jsx("div",{style:{fontSize:"12px",opacity:.7},children:"Loading ~ MongoDB - mongodb+srv://lovea:milab123@cluster0.zvlayyo.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0"})]}),e.jsxs("div",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",position:"relative"},children:[o,c&&e.jsx("span",{style:{display:"inline-block",width:"8px",height:"16px",backgroundColor:"#0f0",marginLeft:"2px",animation:u?"none":"blink 1s step-end infinite",opacity:u?1:0},children:u?"█":""})]})]})})})};export{l as F};
