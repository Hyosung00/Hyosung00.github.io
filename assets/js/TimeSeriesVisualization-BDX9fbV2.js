import{j as e,B as t,T as r,o as i,t as n,a3 as a,I as o,a4 as l}from"./mui-vendor-BDHQmYi7.js";import{a as s,u as c}from"./react-vendor-ClEFeRSO.js";import{P as d,c as u,b as p,e as g,C as h,a as m,I as x,V as b,f as S,j as A,g as f,h as I,F as y,J as C,N as E,H as w}from"./cesium-vendor-COxvkSqA.js";import{R as T}from"./ClusterOutlined-iQSCPmik.js";import"./index-aXBZ4TsU.js";import"./chart-vendor-CeJ1_NXY.js";import"./three-vendor-D7qPC0-x.js";const N="/api/north-korea-attacks",D={SOURCE:{NORMAL:u.YELLOW,OUTLINE:u.RED,HIGHLIGHT:u.ORANGE},TARGET:{NORMAL:u.CYAN,OUTLINE:u.BLUE,HIGHLIGHT:u.LIME},HIGHLIGHT_OUTLINE:u.WHITE},v=document.createElement("style");v.textContent="\n  @keyframes pulse {\n    0% { box-shadow: 0 0 10px rgba(124,58,237,0.4); }\n    50% { box-shadow: 0 0 20px rgba(124,58,237,0.6); }\n    100% { box-shadow: 0 0 10px rgba(124,58,237,0.4); }\n  }\n",document.head.appendChild(v),x.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIzODNiZmZiNC04YTUxLTQ1YzgtOWU1Mi1kNDUyY2I2ZDRkNTQiLCJpZCI6MzQyNDEzLCJpYXQiOjE3NTgxNzMyNDh9.zZRyMPovg5ALhNtG2_E-0ED0qHqd_uQQnAG84eQUyG4";const L=e=>{const t={"Ï§ëÍµ≠":["AS4134 CHINANET","AS4837 CHINA169","AS9808 CMNET","AS24400 ALIBABA"],China:["AS4134 CHINANET","AS4837 CHINA169","AS9808 CMNET","AS24400 ALIBABA"],"Îü¨ÏãúÏïÑ":["AS8359 MTS","AS12389 ROSTELECOM","AS31133 MF-MGSM","AS42610 NCNET"],Russia:["AS8359 MTS","AS12389 ROSTELECOM","AS31133 MF-MGSM","AS42610 NCNET"],"Î∂ÅÌïú":["AS131279 STAR-KP","AS9769 DPRK-AS","AS17762 KPTC-AS"],"North Korea":["AS131279 STAR-KP","AS9769 DPRK-AS","AS17762 KPTC-AS"],"Ïù¥ÎûÄ":["AS44244 IRANCELL","AS6736 BARIN","AS197207 MCCI","AS58224 TCI"],Iran:["AS44244 IRANCELL","AS6736 BARIN","AS197207 MCCI","AS58224 TCI"],"ÎØ∏Íµ≠":["AS15169 GOOGLE","AS8075 MICROSOFT","AS16509 AMAZON","AS32934 FACEBOOK"],"United States":["AS15169 GOOGLE","AS8075 MICROSOFT","AS16509 AMAZON","AS32934 FACEBOOK"],"ÏùºÎ≥∏":["AS2516 KDDI","AS4713 NTT","AS2497 IIJ","AS7506 GMO"],Japan:["AS2516 KDDI","AS4713 NTT","AS2497 IIJ","AS7506 GMO"],"ÎèÖÏùº":["AS3320 DEUTSCHE","AS8881 1&1","AS20940 AKAMAI","AS24940 HETZNER"],Germany:["AS3320 DEUTSCHE","AS8881 1&1","AS20940 AKAMAI","AS24940 HETZNER"],"ÏòÅÍµ≠":["AS2856 BT","AS5089 VIRGIN","AS12576 EE","AS13037 ZEN"],"United Kingdom":["AS2856 BT","AS5089 VIRGIN","AS12576 EE","AS13037 ZEN"],"ÎåÄÌïúÎØºÍµ≠":["AS9318 SKB","AS4766 KT","AS9644 LGU","AS17858 LG-DACOM"],"South Korea":["AS9318 SKB","AS4766 KT","AS9644 LGU","AS17858 LG-DACOM"],Burundi:["AS37578 AS-KONNECT","AS37054 USAN","AS36945 ONATEL"],default:["AS0 UNKNOWN"]},r=t[e.name]||t.default;return r[Math.floor(Math.random()*r.length)]},j=(e,t)=>e&&t?e.find(e=>e.id===t||e.id===t.toString()||e.id===parseInt(t)):null,k=(e,t)=>{if(!e||!e.point)return;const r=t.includes("source");e.point.color=r?D.SOURCE.NORMAL:D.TARGET.NORMAL,e.point.outlineColor=r?D.SOURCE.OUTLINE:D.TARGET.OUTLINE,e.point.outlineWidth=2,e.point.pixelSize=6},R=(e,t)=>{e&&e.point&&(e.point.color=t?D.SOURCE.HIGHLIGHT:D.TARGET.HIGHLIGHT,e.point.outlineColor=D.HIGHLIGHT_OUTLINE,e.point.outlineWidth=4,e.point.pixelSize=10,e.point.disableDepthTestDistance=Number.POSITIVE_INFINITY)},O=e=>{const t=document.getElementById(`log-${e}`);t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.style.animation="pulse 1.2s ease-out 1",setTimeout(()=>{t.style.animation=""},1300))},M=async(e=null,t=null)=>{try{let r=`http://localhost:5000${N}?limit=20`;e&&(r+=`&startDate=${e.toISOString()}`),t&&(r+=`&endDate=${t.toISOString()}`);const i=await fetch(r);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const n=await i.json();if(!n.success)return[];const a=n.attacks.map(e=>({id:e.id,source:{name:e.source.name,building:{name:e.source.city||e.source.name,lat:e.source.lat,lon:e.source.lon},ip:e.source.ip,port:e.source.port,subnet:e.source.subnet,gateway:e.source.gateway,dns:e.source.dns,as:L({name:e.source.name})},target:{name:e.target.name,building:{name:e.target.city||"North Korea",lat:e.target.lat,lon:e.target.lon},ip:e.target.ip,port:e.target.port,subnet:e.target.subnet,gateway:e.target.gateway,dns:e.target.dns,as:L({name:"North Korea"})},type:e.protocol,severity:Math.min(5,Math.ceil(e.count/5)),timestamp:new Date(e.timestamp),status:e.status,count:e.count}));return a.forEach((e,t)=>{}),a}catch(r){return[]}},H=s.memo(()=>{const x=c(),N=s.useRef(null),D=s.useRef(null),v=s.useRef(null),[L,H]=s.useState(!1),[F,B]=s.useState(null),[G,$]=s.useState([]),[U,K]=s.useState([]),[P,W]=s.useState([0,7]),_=s.useMemo(()=>G&&0!==G.length?{total:G.length,active:G.length,blocked:0,countries:new Set([...G.map(e=>e.source.name),...G.map(e=>e.target.name)]).size}:{total:0,active:0,blocked:0,countries:0},[G]),z=s.useMemo(()=>new Date("2025-09-02T00:00:00Z"),[]),Z=s.useMemo(()=>new Date("2025-09-08T23:59:59Z"),[]),V=s.useMemo(()=>{if(!U||0===U.length)return[];const e=z.getTime(),t=e+24*P[0]*60*60*1e3,r=e+24*P[1]*60*60*1e3;return U.filter(e=>{const i=new Date(e.timestamp).getTime(),n=i>=t&&i<=r;return U.indexOf(e),n})},[U,P,z]);s.useEffect(()=>{$(V)},[V]),s.useEffect(()=>{(async()=>{const e=[];for(let r=0;r<7;r++){const t=new Date(Date.UTC(2025,8,2+r,0,0,0,0)),i=new Date(Date.UTC(2025,8,2+r,23,59,59,999));e.push(M(t,i).then(e=>e.slice(0,20).map(e=>({...e,id:`day${r}-${e.id}`}))).catch(e=>[]))}const t=(await Promise.all(e)).flat();t.length,K(t),W([0,7])})()},[z,Z]),s.useEffect(()=>{if(N.current)return(async()=>{try{D.current=new b(N.current,{animation:!1,baseLayerPicker:!0,fullscreenButton:!0,geocoder:!0,homeButton:!0,infoBox:!0,sceneModePicker:!1,scene3DOnly:!0,selectionIndicator:!0,timeline:!1,navigationHelpButton:!0,navigationInstructionsInitiallyVisible:!1,terrainProvider:await S({requestWaterMask:!0,requestVertexNormals:!0}),requestRenderMode:!1,maximumRenderTimeChange:1/0});try{const e=await A.fromIonAssetId(96188);D.current.scene.primitives.add(e)}catch(e){}try{const e=await f({style:I.AERIAL_WITH_LABELS});D.current.imageryLayers.addImageryProvider(e)}catch(e){}const t=D.current.scene,r=t.globe;t.skyAtmosphere.show=!0,t.fog.enabled=!0,t.fog.density=1e-4,t.fog.screenSpaceErrorFactor=2,r.enableLighting=!0,r.dynamicAtmosphereLighting=!0,r.atmosphereLightIntensity=10,r.showWaterEffect=!0,r.maximumScreenSpaceError=1,r.tileCacheSize=1e3,t.screenSpaceCameraController.enableRotate=!0,t.screenSpaceCameraController.enableTranslate=!0,t.screenSpaceCameraController.enableZoom=!0,t.screenSpaceCameraController.enableTilt=!0,t.screenSpaceCameraController.enableLook=!1,t.screenSpaceCameraController.enableInputs=!0,t.screenSpaceCameraController.minimumZoomDistance=500,t.screenSpaceCameraController.maximumZoomDistance=2e7,t.screenSpaceCameraController.constrainedAxis=m.UNIT_Z,t.screenSpaceCameraController.inertiaSpin=.95,t.screenSpaceCameraController.inertiaTranslate=.95,t.screenSpaceCameraController.inertiaZoom=.9,t.screenSpaceCameraController.zoomFactor=5,t.screenSpaceCameraController.wheelZoomFactor=10,D.current.cesiumWidget.creditContainer.style.display="none",D.current.screenSpaceEventHandler.setInputAction(e=>{const r=D.current.camera.pickEllipsoid(e.position,t.globe.ellipsoid);if(r){const e=g.fromCartesian(r);h.toDegrees(e.longitude),h.toDegrees(e.latitude),e.height}},p.LEFT_CLICK);const i={destination:m.fromDegrees(125.7625,39.0392,8e6),orientation:{heading:0,pitch:-h.PI_OVER_TWO,roll:0}};D.current.camera.setView(i),D.current.homeButton.viewModel.command.beforeExecute.addEventListener(e=>{e.cancel=!0,D.current.camera.setView(i)}),y.supportsImageRenderingPixelated()&&(D.current.resolutionScale=window.devicePixelRatio),t.postProcessStages.fxaa.enabled=!0,D.current.clock.shouldAnimate=!0,D.current.clock.multiplier=1,D.current.clock.currentTime=C.now(),t.requestRenderMode=!1,t.maximumRenderTimeChange=1/0;let n=null;const a=()=>{D.current&&!D.current.isDestroyed()&&(t.requestRender(),n=requestAnimationFrame(a))};a();const o=setInterval(()=>{D.current&&!D.current.isDestroyed()&&D.current.clock.tick()},16);D.current._cleanupIds={animationFrameId:n,clockIntervalId:o},H(!0)}catch(e){B(`Cesium Ï¥àÍ∏∞Ìôî Ïã§Ìå®: ${e.message}`)}})(),()=>{D.current&&(D.current._cleanupIds&&(D.current._cleanupIds.animationFrameId&&cancelAnimationFrame(D.current._cleanupIds.animationFrameId),D.current._cleanupIds.clockIntervalId&&clearInterval(D.current._cleanupIds.clockIntervalId)),D.current.destroy(),D.current=null)}},[]);const[Y,J]=s.useState([]),[q,Q]=s.useState(null),[X,ee]=s.useState([]),[te,re]=s.useState([]),[ie,ne]=s.useState([]),ae=s.useCallback(()=>{if(!D.current)return;const e=D.current.entities.values;for(let t=0;t<e.length;t++){const r=e[t];if(r&&r.id){const e=r.id;(e.startsWith("source-building-3d-")||e.startsWith("target-building-3d-"))&&k(r,e)}}for(let t=0;t<e.length;t++){const r=e[t];r&&r.id&&r.id.startsWith("beam-3d-")&&r.polyline&&r.polyline.material&&(r.polyline.material=new d({glowPower:.05,color:u.RED.withAlpha(.08)}))}re([]),ne([])},[]),oe=s.useCallback(e=>{if(!D.current||!G)return;const t=j(G,e);if(!t)return;te.forEach(e=>{const t=D.current.entities.getById(e);t&&k(t,e);const r=e.replace(/^(source|target)-building-3d-/,"beam-3d-"),i=D.current.entities.getById(r);i&&i.polyline&&i.polyline.material&&(i.polyline.material=new d({glowPower:.05,color:u.RED.withAlpha(.08)}))});const r=`target-building-3d-${t.id}`,i=`source-building-3d-${t.id}`,n=`beam-3d-${t.id}`,a=D.current.entities.getById(r),o=D.current.entities.getById(i),l=D.current.entities.getById(n),s=[];a&&(R(a,!1),s.push(r)),o&&(R(o,!0),s.push(i)),l&&l.polyline&&l.polyline.material&&(l.polyline.material=new d({glowPower:.15,color:u.BLUE.withAlpha(.6)})),re(s)},[G,te]),le=s.useCallback((e,t)=>{if(!D.current||!G)return;ae();const r=t.includes("target"),i=r?e.target.building.lat:e.source.building.lat,n=r?e.target.building.lon:e.source.building.lon,a=r?G.filter(e=>e.target.building.lat===i&&e.target.building.lon===n):G.filter(e=>e.source.building.lat===i&&e.source.building.lon===n);if(0===a.length)return;const o=[];a.forEach(e=>{const t=`source-building-3d-${e.id}`,r=`target-building-3d-${e.id}`,i=`beam-3d-${e.id}`,n=D.current.entities.getById(t),a=D.current.entities.getById(r),l=D.current.entities.getById(i);n&&(R(n,!0),o.push(t)),a&&(R(a,!1),o.push(r)),l&&l.polyline&&l.polyline.material&&(l.polyline.material=new d({glowPower:.15,color:u.BLUE.withAlpha(.6)}))}),ne(o);const l=a.map(e=>e.id);ee(l),Q(null),a.length>0&&O(a[0].id)},[G,ae]);return s.useCallback((e,t)=>{if(!D.current||!G)return;ae();const r=t.includes("source")?e.source.ip:e.target.ip,i=G.filter(e=>e.source.ip===r||e.target.ip===r);if(i.length>0){const e=[];i.forEach(t=>{const i=`source-building-3d-${t.id}`,n=`target-building-3d-${t.id}`,a=`beam-3d-${t.id}`,o=D.current.entities.getById(i),l=D.current.entities.getById(n),s=D.current.entities.getById(a);o&&t.source.ip===r&&(R(o,!0),e.push(i)),l&&t.target.ip===r&&(R(l,!1),e.push(n)),s&&s.polyline&&s.polyline.material&&(s.polyline.material=new d({glowPower:.15,color:u.BLUE.withAlpha(.6)}))}),ne(e);const t=i.map(e=>e.id);ee(t),Q(null),i.length>0&&O(i[0].id)}},[G,ae]),s.useEffect(()=>{if(D.current&&L&&G&&0!==G.length){try{D.current.entities.removeAll(),Y.forEach(e=>{e.interval&&clearInterval(e.interval)}),J([]),(e=>{if(D.current&&e&&0!==e.length)try{e.forEach(e=>{const t=parseFloat(e.source.building.lon),r=parseFloat(e.source.building.lat),i=parseFloat(e.target.building.lon),n=parseFloat(e.target.building.lat);if(isNaN(t)||isNaN(r)||isNaN(i)||isNaN(n))return;const a=5e3,o=m.fromDegrees(t,r,a),l=m.fromDegrees(i,n,a),s=m.fromDegrees(t,r,0),c=m.fromDegrees(i,n,0);D.current.entities.add({id:`source-building-3d-${e.id}`,position:o,point:{pixelSize:6,color:u.YELLOW,outlineColor:u.RED,outlineWidth:2,heightReference:w.NONE,scaleByDistance:new E(150,2,15e6,.5),disableDepthTestDistance:Number.POSITIVE_INFINITY,show:!0},buildingData:{name:e.source.building.name,country:e.source.name,type:"source"}}),D.current.entities.add({id:`source-line-${e.id}`,polyline:{positions:[o,s],width:3,material:u.WHITE.withAlpha(.2),clampToGround:!1,show:!0}}),D.current.entities.add({id:`target-building-3d-${e.id}`,position:l,point:{pixelSize:6,color:u.CYAN,outlineColor:u.BLUE,outlineWidth:2,heightReference:w.NONE,scaleByDistance:new E(150,2,15e6,.5),disableDepthTestDistance:Number.POSITIVE_INFINITY,show:!0},buildingData:{name:e.target.building.name,country:e.target.name,type:"target"}}),D.current.entities.add({id:`target-line-${e.id}`,polyline:{positions:[l,c],width:3,material:u.WHITE.withAlpha(.2),clampToGround:!1,show:!0}});const p=[];for(let d=0;d<=30;d++){const e=d/30,t=m.lerp(o,l,e,new m),r=5e4*Math.sin(e*Math.PI),i=g.fromCartesian(t);i.height=a+r,p.push(g.toCartesian(i))}p[0]=o,p[p.length-1]=l,D.current.entities.add({id:`beam-3d-${e.id}`,polyline:{positions:p,width:6,material:new d({glowPower:.05,color:u.RED.withAlpha(.08)}),clampToGround:!1},description:`üî¥ ÏÇ¨Ïù¥Î≤Ñ ÏûëÏ†Ñ: ${e.source.name} ‚Üí ${e.target.name}`,attackData:e})})}catch(t){}})(G)}catch(e){}D.current.screenSpaceEventHandler&&(D.current.screenSpaceEventHandler.removeInputAction(p.LEFT_CLICK),D.current.screenSpaceEventHandler.removeInputAction(p.LEFT_DOUBLE_CLICK)),D.current.screenSpaceEventHandler.setInputAction(t=>{try{const e=D.current.scene.pick(t.position);if(e&&e.id){let t=null;e.id.id?t=e.id.id:e.id._id?t=e.id._id:"string"==typeof e.id&&(t=e.id),ae();const r=t&&t.startsWith("source-building-3d-"),i=t&&t.startsWith("target-building-3d-");if(r||i){let e=null;if(t.startsWith("source-building-3d-")?e=t.replace("source-building-3d-",""):t.startsWith("target-building-3d-")&&(e=t.replace("target-building-3d-","")),e){const r=j(G,e);if(r)return void le(r,t)}}}Q(null),ee([]),ae()}catch(e){}},p.LEFT_CLICK),D.current.screenSpaceEventHandler.setInputAction(t=>{try{const e=D.current.scene.pick(t.position);if(e&&e.id){let t=null;e.id.id?t=e.id.id:e.id._id?t=e.id._id:"string"==typeof e.id&&(t=e.id);const r=t&&t.startsWith("source-building-3d-"),i=t&&t.startsWith("target-building-3d-");if(r||i){const e=D.current.entities.getById(t);if(e&&e.position){const t=e.position.getValue(D.current.clock.currentTime);if(t){const e=g.fromCartesian(t),r=h.toDegrees(e.longitude),i=h.toDegrees(e.latitude);D.current.camera.flyTo({destination:m.fromDegrees(r,i,5e4),duration:1.5,complete:()=>{D.current.scene.screenSpaceCameraController.enableInputs=!0}})}}}}}catch(e){}},p.LEFT_DOUBLE_CLICK)}},[G,L]),F?e.jsxs(t,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",bgcolor:"#f5f5f5",borderRadius:2,p:2},children:[e.jsx(r,{color:"error",sx:{mb:2,textAlign:"center"},children:F}),e.jsxs(r,{variant:"body2",sx:{textAlign:"center",color:"text.secondary"},children:["1. https://cesium.com/ion/ Î∞©Î¨∏",e.jsx("br",{}),"2. Î¨¥Î£å Í≥ÑÏ†ï ÏÉùÏÑ±",e.jsx("br",{}),"3. Access Token Î∞úÍ∏â",e.jsx("br",{}),"4. EarthGlobe.jsx ÌååÏùºÏùò ÌÜ†ÌÅ∞ ÍµêÏ≤¥"]})]}):e.jsx(i,{component:"main",role:"main","aria-label":"3D ÏßÄÍµ¨Î≥∏ Í∏∞Î∞ò ÏÇ¨Ïù¥Î≤Ñ Í≥µÍ≤© ÏãúÍ∞ÅÌôî",sx:{width:"100%",height:"calc(100vh - 120px)",bgcolor:"background.paper",boxShadow:3,m:0},children:e.jsxs(n,{sx:{p:1,height:"100%","&:last-child":{pb:1},display:"flex",flexDirection:{xs:"column",lg:"row"},gap:1,overflow:"hidden"},children:[e.jsx(i,{component:"section","aria-label":"3D ÏßÄÍµ¨Î≥∏ ÏòÅÏó≠",sx:{flex:1,position:"relative",overflow:"hidden",height:"100%",bgcolor:"#000",border:"1px solid #333",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:e.jsxs(n,{sx:{p:0,height:"100%","&:last-child":{pb:0}},children:[e.jsx("div",{ref:N,role:"img","aria-label":"ÏÇ¨Ïù¥Î≤Ñ Í≥µÍ≤© Í≤ΩÎ°úÎ•º ÌëúÏãúÌïòÎäî 3D ÏßÄÍµ¨Î≥∏",style:{width:"100%",height:"100%"}}),!L&&e.jsx(t,{role:"status","aria-live":"polite","aria-label":"ÏßÄÍµ¨Î≥∏ Î°úÎî© Ï§ë",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(0,0,0,0.8)",color:"white"},children:e.jsx(r,{children:"Ïã§Ï†ú ÏßÄÍµ¨Î≥∏ Î°úÎî© Ï§ë..."})}),L&&e.jsx(t,{sx:{position:"absolute",top:8,left:8,background:"rgba(0,0,0,0.7)",color:"white",padding:"4px 8px",borderRadius:1,fontSize:10},children:e.jsx(r,{variant:"caption",color:"inherit",children:"üåç ÏãúÍ≥ÑÏó¥ Í∏∞Î∞ò Ïù¥ÏÉÅÌÉêÏßÄ"})})]})}),e.jsxs(t,{component:"aside","aria-label":"Í≥µÍ≤© ÌòÑÌô© Ìå®ÎÑê",sx:{width:{xs:"100%",lg:350},maxWidth:{xs:"100%",lg:400},display:"flex",flexDirection:"column",gap:2,height:"100%",overflow:"hidden"},children:[e.jsx(i,{component:"section","aria-label":"Ïã§ÏãúÍ∞Ñ Í≥µÍ≤© ÌÜµÍ≥Ñ",sx:{bgcolor:"#f0edfd",color:"#333",border:"1px solid #d0c9f0",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",minHeight:0,flexShrink:0},children:e.jsx(n,{children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:6,children:e.jsxs(t,{sx:{textAlign:"center"},children:[e.jsx(r,{variant:"h4",sx:{color:"#7c3aed",fontWeight:"bold"},"aria-label":`Ï¥ù ÏûëÏ†Ñ Ïàò ${_.total}Í∞ú`,children:_.total}),e.jsx(r,{variant:"body2",sx:{color:"#666"},children:"Ï¥ù ÏûëÏ†Ñ Ïàò"})]})}),e.jsx(a,{item:!0,xs:6,children:e.jsxs(t,{sx:{textAlign:"center"},children:[e.jsx(r,{variant:"h4",sx:{color:"#9333ea",fontWeight:"bold"},"aria-label":`ÌôúÏÑ± ÏûëÏ†Ñ ${_.active}Í∞ú`,children:_.active}),e.jsx(r,{variant:"body2",sx:{color:"#666"},children:"ÌôúÏÑ± ÏûëÏ†Ñ"})]})})]})})}),e.jsx(i,{component:"section","aria-label":"ÏµúÍ∑º Í≥µÍ≤© Î™©Î°ù",sx:{bgcolor:"transparent",color:"#333",flex:1,minHeight:0,border:"none",boxShadow:"none",display:"flex",flexDirection:"column"},children:e.jsx(n,{sx:{height:"100%",display:"flex",flexDirection:"column",flex:1,"&:last-child":{pb:2}},children:e.jsx(t,{ref:v,role:"list","aria-label":"Í≥µÍ≤© Î°úÍ∑∏ Î™©Î°ù",sx:{flex:1,overflow:"auto",minHeight:0},children:G&&G.map((i,n)=>e.jsxs(t,{id:`log-${i.id}`,"data-attack-id":i.id,role:"listitem",tabIndex:0,"aria-label":`Í≥µÍ≤© Ï†ïÎ≥¥: ${i.type}, ${i.source.name}ÏóêÏÑú ${i.target.name}Î°ú, Ï∂úÎ∞úÏßÄ IP ${i.source.ip}`,"aria-selected":q===i.id||X.includes(i.id),sx:{p:1,mb:1,bgcolor:q===i.id||X.includes(i.id)?"rgba(124,58,237,0.2)":"rgba(124,58,237,0.05)",borderRadius:1,borderLeft:"3px solid #7c3aed",border:q===i.id||X.includes(i.id)?"2px solid #7c3aed":"none",boxShadow:q===i.id||X.includes(i.id)?"0 0 10px rgba(124,58,237,0.4)":"none",animation:q===i.id||X.includes(i.id)?"pulse 1.5s infinite":"none",cursor:"pointer",transition:"all 0.3s ease",position:"relative"},onClick:()=>{const e=q===i.id?null:i.id;Q(e),ee([]),e?(ae(),oe(i.id)):ae()},children:[e.jsxs(r,{variant:"body2",sx:{fontWeight:"bold",color:"#333"},children:["üî¥ ",i.type," - ÏßÑÌñâÏ§ë"]}),e.jsxs(r,{variant:"caption",sx:{color:"#666"},children:[i.source.name," ‚Üí ",i.target.name]}),e.jsxs(r,{variant:"caption",sx:{display:"block",color:"#888",fontSize:"10px"},children:["Ï∂úÎ∞úÏßÄ IP: ",i.source.ip,":",i.source.port]}),e.jsxs(r,{variant:"caption",sx:{display:"block",color:"#888",fontSize:"10px"},children:["ÎåÄÏÉÅ IP: ",i.target.ip,":",i.target.port]}),e.jsxs(r,{variant:"caption",sx:{display:"block",color:"#888",fontSize:"10px"},children:["Subnet: ",i.target.subnet," | Gateway: ",i.target.gateway]}),e.jsxs(r,{variant:"caption",sx:{display:"block",color:"#888",fontSize:"10px"},children:["DNS: ",i.target.dns," | Count: ",i.count]}),e.jsx(r,{variant:"caption",sx:{display:"block",color:"#888",fontSize:"10px"},children:i.timestamp.toLocaleString("ko-KR",{timeZone:"Asia/Seoul",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),e.jsx(o,{size:"small","aria-label":"ÎÇ¥Î∂ÄÎßù ÌÜ†Ìè¥Î°úÏßÄÎ°ú Ïù¥Îèô",title:"ÎÇ¥Î∂ÄÎßù ÌÜ†Ìè¥Î°úÏßÄÎ°ú Ïù¥Îèô",onClick:e=>{e.stopPropagation(),x("/ExtInt/internaltopology")},sx:{position:"absolute",top:4,right:4,color:"#7c3aed",bgcolor:"rgba(124,58,237,0.1)",border:"1px solid rgba(124,58,237,0.3)","&:hover":{bgcolor:"rgba(124,58,237,0.2)",color:"#9333ea"},width:24,height:24},children:e.jsx(T,{style:{fontSize:12}})})]},i.id))})})}),e.jsx(i,{component:"section","aria-label":"ÎÇ†Ïßú Î≤îÏúÑ ÌïÑÌÑ∞ÎßÅ Ïª®Ìä∏Î°§",sx:{bgcolor:"#f0edfd",color:"#333",border:"1px solid #d0c9f0",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",flexShrink:0,minHeight:0},children:e.jsxs(n,{children:[e.jsx(r,{variant:"body2",component:"h3",sx:{mb:1,fontWeight:"bold",color:"#7c3aed"},children:"ÎÇ†Ïßú Î≤îÏúÑ ÌïÑÌÑ∞ÎßÅ"}),e.jsx(r,{variant:"caption",sx:{display:"block",mb:1,color:"#666"},children:(()=>{const e=new Date(z);e.setDate(e.getDate()+P[0]);const t=new Date(z);return t.setDate(t.getDate()+P[1]-1),`${e.toLocaleDateString("ko-KR")} ~ ${t.toLocaleDateString("ko-KR")} (${P[1]-P[0]}Ïùº)`})()}),e.jsx(l,{"aria-label":"ÎÇ†Ïßú Î≤îÏúÑ ÏÑ†ÌÉù",value:P,onChange:(e,t)=>W(t),min:0,max:7,step:1,marks:[{value:0,label:"9/2"},{value:1,label:"9/3"},{value:2,label:"9/4"},{value:3,label:"9/5"},{value:4,label:"9/6"},{value:5,label:"9/7"},{value:6,label:"9/8"},{value:7,label:"9/9"}],valueLabelDisplay:"auto",valueLabelFormat:e=>{const t=new Date(z);return t.setDate(t.getDate()+e),t.toLocaleDateString("ko-KR",{month:"short",day:"numeric"})},sx:{color:"#7c3aed","& .MuiSlider-thumb":{backgroundColor:"#7c3aed","&:hover, &.Mui-focusVisible":{boxShadow:"0 0 0 8px rgba(124,58,237, 0.16)"}},"& .MuiSlider-track":{backgroundColor:"#7c3aed"},"& .MuiSlider-rail":{backgroundColor:"#d0c9f0"},"& .MuiSlider-mark":{backgroundColor:"#b8aee0"},"& .MuiSlider-markLabel":{color:"#666",fontSize:"9px"},"& .MuiSlider-valueLabel":{backgroundColor:"#7c3aed",color:"#fff"}}}),e.jsxs(r,{variant:"caption",sx:{display:"block",mt:1,color:"#888",fontSize:"10px"},children:["ÌëúÏãúÎêú ÏûëÏ†Ñ: ",G.length,"Í∞ú / Ï†ÑÏ≤¥: ",U.length,"Í∞ú (ÌïòÎ£®Îãπ ÏµúÎåÄ 20Í∞ú)"]})]})}),e.jsx(i,{component:"section","aria-label":"ÏßÄÎèÑ Î≤îÎ°Ä",sx:{bgcolor:"#f0edfd",color:"#222",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",flexShrink:0,minHeight:0},children:e.jsx(n,{children:e.jsxs(t,{component:"ul",role:"list",sx:{display:"flex",flexDirection:"column",gap:1,listStyle:"none",p:0,m:0},children:[e.jsxs(t,{component:"li",sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(t,{"aria-hidden":"true",sx:{width:12,height:12,borderRadius:"50%",bgcolor:"#FFFF00",border:"2px solid #FF0000"}}),e.jsx(r,{variant:"caption",sx:{color:"#222"},children:"Í≥µÍ≤© Ï∂úÎ∞úÏßÄ"})]}),e.jsxs(t,{component:"li",sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(t,{"aria-hidden":"true",sx:{width:12,height:12,borderRadius:"50%",bgcolor:"#00FFFF",border:"2px solid #0000FF"}}),e.jsx(r,{variant:"caption",sx:{color:"#222"},children:"Í≥µÍ≤© Î™©ÌëúÏßÄ"})]}),e.jsxs(t,{component:"li",sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(t,{"aria-hidden":"true",sx:{width:20,height:2,bgcolor:"#FF0000",borderRadius:1,boxShadow:"0 0 4px #FF0000"}}),e.jsx(r,{variant:"caption",sx:{color:"#222"},children:"üî¥ ÏÇ¨Ïù¥Î≤Ñ ÏûëÏ†Ñ"})]})]})})})]})]})})});export{H as default};
